
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentaci√≥n JSDoc - ChatBot</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; margin: 0; padding: 20px; }
        .container { max-width: 1200px; margin: 0 auto; }
        .header { border-bottom: 2px solid #e1e5e9; padding-bottom: 20px; margin-bottom: 30px; }
        .section { margin-bottom: 40px; }
        .item { background: #f8f9fa; border-left: 4px solid #007bff; padding: 15px; margin-bottom: 15px; }
        .item-name { font-size: 1.2em; font-weight: bold; color: #007bff; }
        .item-type { background: #007bff; color: white; padding: 2px 8px; border-radius: 3px; font-size: 0.8em; }
        .item-file { color: #6c757d; font-size: 0.9em; }
        .item-description { margin-top: 10px; }
        .nav { background: #343a40; color: white; padding: 15px; margin-bottom: 20px; border-radius: 5px; }
        .nav a { color: #fff; text-decoration: none; margin-right: 20px; }
        .nav a:hover { text-decoration: underline; }
        .stats { background: #e9ecef; padding: 15px; border-radius: 5px; margin-bottom: 20px; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; text-align: center; }
        .stat-item { background: white; padding: 10px; border-radius: 3px; }
        .stat-number { font-size: 1.5em; font-weight: bold; color: #007bff; }
        .stat-label { font-size: 0.9em; color: #6c757d; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìö Documentaci√≥n JSDoc - ChatBot</h1>
            <p>Documentaci√≥n autom√°tica generada el 10/23/2025, 8:09:47 PM</p>
        </div>
        
        <div class="stats">
            <h3>üìä Estad√≠sticas de Documentaci√≥n</h3>
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-number">97</div>
                    <div class="stat-label">Clases</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">4901</div>
                    <div class="stat-label">Funciones</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">0</div>
                    <div class="stat-label">M√≥dulos</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">55</div>
                    <div class="stat-label">Constantes</div>
                </div>
            </div>
        </div>
        
        <div class="nav">
            <a href="#classes">Clases</a>
            <a href="#functions">Funciones</a>
            <a href="#modules">M√≥dulos</a>
            <a href="#constants">Constantes</a>
        </div>

        <div id="classes" class="section">
            <h2>üèóÔ∏è Clases (97)</h2>
            
            <div class="item">
                <div>
                    <span class="item-name">MetricsMiddleware</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/api/middleware/MetricsMiddleware.js</div>
                <div class="item-description">Middleware de M√©tricas Integra el sistema de monitoreo en todas las rutas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ContactServiceError</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/components/business/contacts/services/ContactService.js</div>
                <div class="item-description">Servicio de Contactos Unificado Maneja toda la l√≥gica de negocio para contactos, etiquetas, campos personalizados y segmentos. Combina la funcionalidad de `localContactManager` y la estructura de `ContactService`.</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 2.0.0 /  import { getDatabase } from '../../../../services/core/core/database.js'; import { createLogger } from '../../../../services/core/core/logger.js'; import { Contact } from '../models/Contact.js';  const logger = createLogger('CONTACT_SERVICE');  /** Clase personalizada para errores del servicio de contactos 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">MessageServiceError</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/services/MessageService.js</div>
                <div class="item-description">Servicio de Mensajes Maneja toda la l√≥gica de negocio relacionada con mensajes, incluyendo env√≠o, recepci√≥n, programaci√≥n y gesti√≥n de estados.</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 1.0.0 /  import { getDatabase } from '../../../../services/core/core/database.js'; import { createLogger } from '../../../../services/core/core/logger.js'; import { Message } from '../models/Message.js'; import { getContactService } from '../../contacts/services/ContactService.js'; import config from '../../../../config/environments/index.js';  const logger = createLogger('MESSAGE_SERVICE');  /** Clase personalizada para errores del servicio de mensajes 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">CacheConfig</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/config/cache/CacheConfig.js</div>
                <div class="item-description">Cache Configuration System Sistema de configuraci√≥n avanzada para cache distribuido Incluye perfiles, optimizaciones y configuraciones por entorno / import { config } from '../environments/environments.js'; import logger from '../../services/core/core/logger.js'; import { CacheValidationUtils, CacheTTLUtils } from '../../services/cache/CacheUtils.js'; /** Configuraciones base por tipo de cache / const CACHE_TYPES = { SESSION: { name: 'session', ttl: 3600, // 1 hora maxSize: '100MB', strategy: 'LRU', compression: false, serialization: 'json', keyPrefix: 'sess:', cluster: false }, USER: { name: 'user', ttl: 1800, // 30 minutos maxSize: '200MB', strategy: 'LFU', compression: true, serialization: 'json', keyPrefix: 'user:', cluster: true }, CONVERSATION: { name: 'conversation', ttl: 7200, // 2 horas maxSize: '500MB', strategy: 'TTL', compression: true, serialization: 'msgpack', keyPrefix: 'conv:', cluster: true }, TEMPLATE: { name: 'template', ttl: 86400, // 24 horas maxSize: '50MB', strategy: 'LFU', compression: false, serialization: 'json', keyPrefix: 'tmpl:', cluster: false }, API_RESPONSE: { name: 'api_response', ttl: 300, // 5 minutos maxSize: '1GB', strategy: 'LRU', compression: true, serialization: 'json', keyPrefix: 'api:', cluster: true }, ANALYTICS: { name: 'analytics', ttl: 43200, // 12 horas maxSize: '2GB', strategy: 'TTL', compression: true, serialization: 'msgpack', keyPrefix: 'analytics:', cluster: true }, STATIC: { name: 'static', ttl: 604800, // 7 d√≠as maxSize: '100MB', strategy: 'LFU', compression: false, serialization: 'json', keyPrefix: 'static:', cluster: false } }; /** Perfiles de configuraci√≥n por entorno / const ENVIRONMENT_PROFILES = { development: { redis: { host: process.env.REDIS_HOST || 'localhost', port: parseInt(process.env.REDIS_PORT) || 6379, password: process.env.REDIS_PASSWORD || null, db: 0, maxRetriesPerRequest: 3, retryDelayOnFailover: 100, enableOfflineQueue: false, lazyConnect: true, keepAlive: 30000, connectTimeout: 10000, commandTimeout: 5000, family: 4 }, cluster: { enabled: false, nodes: [] }, monitoring: { enabled: true, metricsInterval: 30000, alertsEnabled: true, dashboardEnabled: true }, performance: { compression: { enabled: true, algorithm: 'gzip', threshold: 1024 // Comprimir si > 1KB }, serialization: { default: 'json', binary: 'msgpack' }, pipeline: { enabled: true, batchSize: 100, timeout: 1000 } } }, staging: { redis: { host: process.env.REDIS_HOST || 'redis-staging', port: parseInt(process.env.REDIS_PORT) || 6379, password: process.env.REDIS_PASSWORD, db: 0, maxRetriesPerRequest: 5, retryDelayOnFailover: 200, enableOfflineQueue: true, lazyConnect: false, keepAlive: 60000, connectTimeout: 15000, commandTimeout: 10000, family: 4 }, cluster: { enabled: true, nodes: [ { host: 'redis-staging-1', port: 6379 }, { host: 'redis-staging-2', port: 6379 }, { host: 'redis-staging-3', port: 6379 } ], options: { enableOfflineQueue: false, redisOptions: { password: process.env.REDIS_PASSWORD }, maxRetriesPerRequest: 3, retryDelayOnFailover: 100 } }, monitoring: { enabled: true, metricsInterval: 15000, alertsEnabled: true, dashboardEnabled: true, alertThresholds: { hitRateMin: 0.85, errorRateMax: 0.03, responseTimeMax: 50, memoryUsageMax: 0.80 } }, performance: { compression: { enabled: true, algorithm: 'lz4', threshold: 512 }, serialization: { default: 'msgpack', binary: 'msgpack' }, pipeline: { enabled: true, batchSize: 200, timeout: 500 } } }, production: { redis: { host: process.env.REDIS_HOST || 'redis-prod', port: parseInt(process.env.REDIS_PORT) || 6379, password: process.env.REDIS_PASSWORD, db: 0, maxRetriesPerRequest: 10, retryDelayOnFailover: 500, enableOfflineQueue: true, lazyConnect: false, keepAlive: 120000, connectTimeout: 20000, commandTimeout: 15000, family: 4, tls: process.env.REDIS_TLS === 'true' ? {} : undefined }, cluster: { enabled: true, nodes: [ { host: 'redis-prod-1', port: 6379 }, { host: 'redis-prod-2', port: 6379 }, { host: 'redis-prod-3', port: 6379 }, { host: 'redis-prod-4', port: 6379 }, { host: 'redis-prod-5', port: 6379 }, { host: 'redis-prod-6', port: 6379 } ], options: { enableOfflineQueue: false, redisOptions: { password: process.env.REDIS_PASSWORD, tls: process.env.REDIS_TLS === 'true' ? {} : undefined }, maxRetriesPerRequest: 5, retryDelayOnFailover: 200, scaleReads: 'slave', enableReadyCheck: true, maxRedirections: 16 } }, monitoring: { enabled: true, metricsInterval: 10000, alertsEnabled: true, dashboardEnabled: true, alertThresholds: { hitRateMin: 0.90, errorRateMax: 0.01, responseTimeMax: 25, memoryUsageMax: 0.75, connectionCountMax: 200 } }, performance: { compression: { enabled: true, algorithm: 'lz4', threshold: 256 }, serialization: { default: 'msgpack', binary: 'msgpack' }, pipeline: { enabled: true, batchSize: 500, timeout: 200 }, readReplicas: { enabled: true, ratio: 0.7, // 70% lecturas a replicas fallbackToMaster: true } }, security: { encryption: { enabled: true, algorithm: 'aes-256-gcm', keyRotation: true, keyRotationInterval: 86400000 // 24 horas }, authentication: { enabled: true, requireAuth: true }, network: { allowedIPs: process.env.REDIS_ALLOWED_IPS?.split(',') || [], ssl: process.env.REDIS_SSL === 'true' } } } }; /** Configuraciones de optimizaci√≥n / const OPTIMIZATION_CONFIGS = { // Configuraci√≥n para alta concurrencia highConcurrency: { redis: { maxRetriesPerRequest: 3, retryDelayOnFailover: 50, enableOfflineQueue: false, lazyConnect: false }, performance: { pipeline: { enabled: true, batchSize: 1000, timeout: 100 }, compression: { enabled: false // Desactivar para reducir latencia } } }, // Configuraci√≥n para ahorro de memoria memoryOptimized: { performance: { compression: { enabled: true, algorithm: 'lz4', threshold: 128 }, serialization: { default: 'msgpack' } }, cacheTypes: { // TTLs m√°s cortos para liberar memoria SESSION: { ttl: 1800 }, USER: { ttl: 900 }, CONVERSATION: { ttl: 3600 } } }, // Configuraci√≥n para baja latencia lowLatency: { redis: { commandTimeout: 1000, connectTimeout: 5000, keepAlive: 10000 }, performance: { compression: { enabled: false }, pipeline: { enabled: true, batchSize: 50, timeout: 50 } } }, // Configuraci√≥n para alta disponibilidad highAvailability: { redis: { maxRetriesPerRequest: 10, retryDelayOnFailover: 1000, enableOfflineQueue: true }, cluster: { enabled: true, options: { maxRedirections: 32, enableReadyCheck: true, scaleReads: 'slave' } }, monitoring: { alertThresholds: { hitRateMin: 0.95, errorRateMax: 0.005, responseTimeMax: 10 } } } }; /** Clase principal de configuraci√≥n de cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">CacheManager</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheManager.js</div>
                <div class="item-description">Gestor de cach√© inteligente con m√∫ltiples estrategias Soporta diferentes tipos de almacenamiento y pol√≠ticas de expiraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">CacheStore</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheStore.js</div>
                <div class="item-description">Almac√©n de cach√© con soporte para m√∫ltiples backends Soporta almacenamiento en memoria, archivos y Redis</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">CacheStrategy</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheStrategy.js</div>
                <div class="item-description">Estrategias de cach√© con diferentes algoritmos de evicci√≥n y pol√≠ticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">EnvironmentConfig</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/environment.js</div>
                <div class="item-description">Configuraci√≥n centralizada del sistema Consolida todas las variables de entorno en un solo lugar</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">AnalyticsInitializer</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AnalyticsInitializer.js</div>
                <div class="item-description">===================================================== ChatBot Enterprise - Analytics Initializer ===================================================== Inicializador del sistema de analytics y m√©tricas de negocio. / import cron from 'node-cron'; import { promises as fs } from 'fs'; import path from 'path'; import { analyticsConfig, defaultAlertRules } from '../../config/analytics.js'; import BusinessMetricsService from './BusinessMetricsService.js'; import AlertService from './AlertService.js'; import DashboardService from './DashboardService.js'; import NotificationService from './NotificationService.js'; import ReportService from './ReportService.js'; /** Inicializador del Sistema de Analytics</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">EmailChannel</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/NotificationService.js</div>
                <div class="item-description">===================================================== ChatBot Enterprise - Notification Service ===================================================== Servicio para gestionar notificaciones de alertas a trav√©s de m√∫ltiples canales (email, Slack, webhook). / import nodemailer from 'nodemailer'; import axios from 'axios'; import twilio from 'twilio'; import { getPrismaService } from '../database/PrismaService.js'; class NotificationService { constructor() { this.prismaService = getPrismaService(); this.channels = new Map(); this.templates = new Map(); this.initializeChannels(); this.initializeTemplates(); } /** Inicializar canales de notificaci√≥n / initializeChannels() { // Canal de Email this.addChannel('email', new EmailChannel({ host: process.env.SMTP_HOST || 'localhost', port: process.env.SMTP_PORT || 587, secure: process.env.SMTP_SECURE === 'true', auth: { user: process.env.SMTP_USER, pass: process.env.SMTP_PASS } })); // Canal de Slack if (process.env.SLACK_WEBHOOK_URL) { this.addChannel('slack', new SlackChannel({ webhookUrl: process.env.SLACK_WEBHOOK_URL, channel: process.env.SLACK_CHANNEL || '#alerts', username: process.env.SLACK_USERNAME || 'ChatBot Enterprise' })); } // Canal de Webhook gen√©rico if (process.env.WEBHOOK_URL) { this.addChannel('webhook', new WebhookChannel({ url: process.env.WEBHOOK_URL, headers: { 'Content-Type': 'application/json', 'Authorization': process.env.WEBHOOK_AUTH_HEADER } })); } // Canal de SMS (Twilio) if (process.env.TWILIO_ACCOUNT_SID) { this.addChannel('sms', new SMSChannel({ accountSid: process.env.TWILIO_ACCOUNT_SID, authToken: process.env.TWILIO_AUTH_TOKEN, fromNumber: process.env.TWILIO_FROM_NUMBER })); } } /** Inicializar plantillas de notificaci√≥n / initializeTemplates() { // Plantilla para alertas cr√≠ticas this.addTemplate('critical_alert', { email: { subject: 'üö® ALERTA CR√çTICA - {{alertName}}', html: ` <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;"> <div style="background-color: #dc3545; color: white; padding: 20px; text-align: center;"> <h1>üö® ALERTA CR√çTICA</h1> </div> <div style="padding: 20px; background-color: #f8f9fa;"> <h2>{{alertName}}</h2> <p><strong>Descripci√≥n:</strong> {{description}}</p> <p><strong>Severidad:</strong> <span style="color: #dc3545; font-weight: bold;">{{severity}}</span></p> <p><strong>Fecha y Hora:</strong> {{timestamp}}</p> <p><strong>Valor Actual:</strong> {{currentValue}}</p> <p><strong>Umbral:</strong> {{threshold}}</p> </div> <div style="padding: 20px; background-color: #e9ecef; text-align: center;"> <p>Esta alerta requiere atenci√≥n inmediata.</p> <a href="{{dashboardUrl}}" style="background-color: #007bff; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">Ver Dashboard</a> </div> </div> ` }, slack: { text: 'üö® *ALERTA CR√çTICA*: {{alertName}}', attachments: [{ color: 'danger', fields: [ { title: 'Descripci√≥n', value: '{{description}}', short: false }, { title: 'Severidad', value: '{{severity}}', short: true }, { title: 'Timestamp', value: '{{timestamp}}', short: true }, { title: 'Valor Actual', value: '{{currentValue}}', short: true }, { title: 'Umbral', value: '{{threshold}}', short: true } ] }] }, sms: 'üö® ALERTA CR√çTICA: {{alertName}} - {{description}}. Valor: {{currentValue}}. Revisar dashboard inmediatamente.' }); // Plantilla para alertas de advertencia this.addTemplate('warning_alert', { email: { subject: '‚ö†Ô∏è ADVERTENCIA - {{alertName}}', html: ` <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;"> <div style="background-color: #ffc107; color: #212529; padding: 20px; text-align: center;"> <h1>‚ö†Ô∏è ADVERTENCIA</h1> </div> <div style="padding: 20px; background-color: #f8f9fa;"> <h2>{{alertName}}</h2> <p><strong>Descripci√≥n:</strong> {{description}}</p> <p><strong>Severidad:</strong> <span style="color: #ffc107; font-weight: bold;">{{severity}}</span></p> <p><strong>Fecha y Hora:</strong> {{timestamp}}</p> <p><strong>Valor Actual:</strong> {{currentValue}}</p> <p><strong>Umbral:</strong> {{threshold}}</p> </div> <div style="padding: 20px; background-color: #e9ecef; text-align: center;"> <p>Se recomienda revisar esta situaci√≥n.</p> <a href="{{dashboardUrl}}" style="background-color: #007bff; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">Ver Dashboard</a> </div> </div> ` }, slack: { text: '‚ö†Ô∏è *ADVERTENCIA*: {{alertName}}', attachments: [{ color: 'warning', fields: [ { title: 'Descripci√≥n', value: '{{description}}', short: false }, { title: 'Severidad', value: '{{severity}}', short: true }, { title: 'Timestamp', value: '{{timestamp}}', short: true } ] }] } }); // Plantilla para alertas informativas this.addTemplate('info_alert', { email: { subject: '‚ÑπÔ∏è INFORMACI√ìN - {{alertName}}', html: ` <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;"> <div style="background-color: #17a2b8; color: white; padding: 20px; text-align: center;"> <h1>‚ÑπÔ∏è INFORMACI√ìN</h1> </div> <div style="padding: 20px; background-color: #f8f9fa;"> <h2>{{alertName}}</h2> <p><strong>Descripci√≥n:</strong> {{description}}</p> <p><strong>Fecha y Hora:</strong> {{timestamp}}</p> </div> </div> ` }, slack: { text: '‚ÑπÔ∏è *INFORMACI√ìN*: {{alertName}} - {{description}}' } }); } /** Agregar canal de notificaci√≥n / addChannel(name, channel) { this.channels.set(name, channel); } /** Agregar plantilla de notificaci√≥n / addTemplate(name, template) { this.templates.set(name, template); } /** Enviar notificaci√≥n / async sendNotification(alert, channels = ['email', 'slack']) { try { const templateName = this.getTemplateName(alert.severity); const template = this.templates.get(templateName); if (!template) { console.error(`Plantilla ${templateName} no encontrada`); return; } const context = this.buildNotificationContext(alert); const results = []; for (const channelName of channels) { const channel = this.channels.get(channelName); if (!channel) { console.warn(`Canal ${channelName} no configurado`); continue; } try { const channelTemplate = template[channelName]; if (!channelTemplate) { console.warn(`Plantilla para canal ${channelName} no encontrada`); continue; } const message = this.renderTemplate(channelTemplate, context); const result = await channel.send(message, context); results.push({ channel: channelName, success: true, result }); // Registrar env√≠o exitoso await this.logNotification(alert.id, channelName, 'sent', message); } catch (error) { console.error(`Error enviando notificaci√≥n por ${channelName}:`, error); results.push({ channel: channelName, success: false, error: error.message }); // Registrar error await this.logNotification(alert.id, channelName, 'failed', null, error.message); } } return results; } catch (error) { console.error('Error enviando notificaci√≥n:', error); throw error; } } /** Obtener nombre de plantilla seg√∫n severidad / getTemplateName(severity) { switch (severity) { case 'critical': return 'critical_alert'; case 'warning': return 'warning_alert'; case 'info': return 'info_alert'; default: return 'info_alert'; } } /** Construir contexto para la notificaci√≥n / buildNotificationContext(alert) { const metadata = alert.metadata || {}; const kpis = metadata.kpis || {}; return { alertId: alert.id, alertName: alert.name, description: alert.description, severity: alert.severity.toUpperCase(), timestamp: new Date(alert.triggeredAt).toLocaleString('es-ES'), currentValue: this.getCurrentValue(alert, kpis), threshold: this.getThreshold(alert), dashboardUrl: `${process.env.FRONTEND_URL || 'http://localhost:3000'}/dashboard`, ...metadata }; } /** Obtener valor actual de la m√©trica / getCurrentValue(alert, kpis) { const rule = alert.metadata?.rule; if (!rule) return 'N/A'; switch (rule.metric) { case 'averageResponseTime': return `${Math.round(kpis.averageResponseTime?.value || 0)}s`; case 'customerSatisfactionScore': return `${(kpis.customerSatisfactionScore?.value || 0).toFixed(1)}/5`; case 'conversationResolutionRate': return `${Math.round(kpis.conversationResolutionRate?.value || 0)}%`; case 'agentUtilization': return `${Math.round(kpis.agentUtilization?.value || 0)}%`; default: return 'N/A'; } } /** Obtener umbral de la alerta / getThreshold(alert) { const rule = alert.metadata?.rule; if (!rule) return 'N/A'; switch (rule.metric) { case 'averageResponseTime': return `${rule.threshold}s`; case 'customerSatisfactionScore': return `${rule.threshold}/5`; case 'conversationResolutionRate': case 'agentUtilization': return `${rule.threshold}%`; default: return rule.threshold?.toString() || 'N/A'; } } /** Renderizar plantilla con contexto / renderTemplate(template, context) { if (typeof template === 'string') { return this.replaceVariables(template, context); } const rendered = {}; for (const [key, value] of Object.entries(template)) { if (typeof value === 'string') { rendered[key] = this.replaceVariables(value, context); } else if (Array.isArray(value)) { rendered[key] = value.map(item => typeof item === 'object' ? this.renderTemplate(item, context) : item ); } else if (typeof value === 'object') { rendered[key] = this.renderTemplate(value, context); } else { rendered[key] = value; } } return rendered; } /** Reemplazar variables en texto / replaceVariables(text, context) { return text.replace(/\{\{(\w+)\}\}/g, (match, key) => { return context[key] || match; }); } /** Registrar notificaci√≥n en base de datos / async logNotification(alertId, channel, status, message, error = null) { try { const prisma = this.prismaService.getClient(); await prisma.auditLog.create({ data: { action: 'NOTIFICATION_SENT', entityType: 'ALERT', entityId: alertId, details: JSON.stringify({ channel, status, message: typeof message === 'object' ? JSON.stringify(message) : message, error }), userId: null // Sistema } }); } catch (error) { console.error('Error registrando notificaci√≥n:', error); } } /** Obtener estad√≠sticas de notificaciones / async getNotificationStats(timeRange = '24h') { try { const { startDate } = this.getTimeRange(timeRange); const prisma = this.prismaService.getClient(); const logs = await prisma.auditLog.findMany({ where: { action: 'NOTIFICATION_SENT', createdAt: { gte: startDate } } }); const stats = { total: logs.length, byChannel: {}, byStatus: { sent: 0, failed: 0 }, successRate: 0 }; for (const log of logs) { try { const details = JSON.parse(log.details); const channel = details.channel; const status = details.status; if (!stats.byChannel[channel]) { stats.byChannel[channel] = { sent: 0, failed: 0 }; } stats.byChannel[channel][status]++; stats.byStatus[status]++; } catch (error) { console.error('Error procesando log de notificaci√≥n:', error); } } stats.successRate = stats.total > 0 ? (stats.byStatus.sent / stats.total) * 100 : 0; return stats; } catch (error) { console.error('Error obteniendo estad√≠sticas de notificaciones:', error); throw error; } } getTimeRange(timeRange) { const endDate = new Date(); let startDate; switch (timeRange) { case '1h': startDate = new Date(endDate.getTime() - 60 * 60 * 1000); break; case '24h': startDate = new Date(endDate.getTime() - 24 * 60 * 60 * 1000); break; case '7d': startDate = new Date(endDate.getTime() - 7 * 24 * 60 * 60 * 1000); break; case '30d': startDate = new Date(endDate.getTime() - 30 * 24 * 60 * 60 * 1000); break; default: startDate = new Date(endDate.getTime() - 24 * 60 * 60 * 1000); } return { startDate, endDate }; } } /** ===================================================== CANALES DE NOTIFICACI√ìN ===================================================== / /** Canal de Email</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">SlackChannel</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/NotificationService.js</div>
                <div class="item-description">Canal de Slack</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">WebhookChannel</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/NotificationService.js</div>
                <div class="item-description">Canal de Webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">SMSChannel</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/NotificationService.js</div>
                <div class="item-description">Canal de SMS</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">BaseCacheStrategy</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Cache Strategies Estrategias especializadas de cache para diferentes tipos de datos Optimizaciones espec√≠ficas por caso de uso / import distributedCacheManager from './DistributedCacheManager.js'; import logger from '../core/core/logger.js'; /** Estrategia base para cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">SessionCacheStrategy</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Estrategia para cache de sesiones de usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ConversationCacheStrategy</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Obtener sesi√≥n de usuario / async getUserSession(userId) { return await this.get(`user:${userId}`); } /** Establecer sesi√≥n de usuario / async setUserSession(userId, sessionData, customTTL = null) { const enrichedData = { ...sessionData, lastAccess: new Date().toISOString(), userId }; return await this.set(`user:${userId}`, enrichedData, customTTL); } /** Actualizar √∫ltimo acceso / async updateLastAccess(userId) { const session = await this.getUserSession(userId); if (session) { session.lastAccess = new Date().toISOString(); await this.setUserSession(userId, session); } } /** Invalidar sesi√≥n de usuario / async invalidateUserSession(userId) { return await this.del(`user:${userId}`); } /** Obtener sesiones activas / async getActiveSessions() { // Implementar l√≥gica para obtener sesiones activas const pattern = 'user:*'; return await this.cacheManager.invalidatePattern(this.cacheType, pattern); } } /** Estrategia para cache de conversaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">UserCacheStrategy</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Obtener conversaci√≥n completa / async getConversation(conversationId) { return await this.get(`full:${conversationId}`); } /** Establecer conversaci√≥n completa / async setConversation(conversationId, conversationData) { const enrichedData = { ...conversationData, lastUpdate: new Date().toISOString(), messageCount: conversationData.messages?.length || 0 }; return await this.set(`full:${conversationId}`, enrichedData); } /** Cache de mensajes recientes (√∫ltimos 50) / async getRecentMessages(conversationId, limit = 50) { return await this.get(`recent:${conversationId}:${limit}`); } async setRecentMessages(conversationId, messages, limit = 50) { const recentMessages = messages.slice(-limit); return await this.set(`recent:${conversationId}:${limit}`, recentMessages, 1800); // 30 min } /** Cache de contexto de conversaci√≥n / async getConversationContext(conversationId) { return await this.get(`context:${conversationId}`); } async setConversationContext(conversationId, context) { return await this.set(`context:${conversationId}`, context, 3600); // 1 hora } /** Invalidar toda la conversaci√≥n / async invalidateConversation(conversationId) { const patterns = [ `full:${conversationId}`, `recent:${conversationId}:*`, `context:${conversationId}` ]; const results = await Promise.all( patterns.map(pattern => this.cacheManager.invalidatePattern(this.cacheType, pattern)) ); return results.every(result => result >= 0); } /** Precarga de conversaciones activas / async warmupActiveConversations(conversationIds) { if (!this.options.enableWarmup) return; logger.info(`Precargando ${conversationIds.length} conversaciones activas`); const warmupPromises = conversationIds.map(async (id) => { try { // Simular carga de datos (reemplazar con l√≥gica real) const conversationData = await this.loadConversationFromDB(id); if (conversationData) { await this.setConversation(id, conversationData); } } catch (error) { logger.error(`Error precargando conversaci√≥n ${id}:`, error); } }); await Promise.allSettled(warmupPromises); } async loadConversationFromDB(conversationId) { // Placeholder - implementar carga desde base de datos return null; } } /** Estrategia para cache de usuarios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">TemplateCacheStrategy</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Obtener perfil de usuario / async getUserProfile(userId) { return await this.get(`profile:${userId}`); } /** Establecer perfil de usuario / async setUserProfile(userId, profileData) { const enrichedData = { ...profileData, lastUpdate: new Date().toISOString(), cacheVersion: '1.0' }; return await this.set(`profile:${userId}`, enrichedData); } /** Cache de preferencias de usuario / async getUserPreferences(userId) { return await this.get(`prefs:${userId}`); } async setUserPreferences(userId, preferences) { return await this.set(`prefs:${userId}`, preferences, 86400); // 24 horas } /** Cache de contactos del usuario / async getUserContacts(userId) { return await this.get(`contacts:${userId}`); } async setUserContacts(userId, contacts) { return await this.set(`contacts:${userId}`, contacts, 1800); // 30 minutos } /** Invalidar todos los datos del usuario / async invalidateUser(userId) { const patterns = [ `profile:${userId}`, `prefs:${userId}`, `contacts:${userId}` ]; const results = await Promise.all( patterns.map(pattern => this.del(pattern)) ); return results.every(result => result); } } /** Estrategia para cache de templates</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">APICacheStrategy</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Obtener template por ID / async getTemplate(templateId) { return await this.get(`id:${templateId}`); } /** Establecer template / async setTemplate(templateId, templateData) { const enrichedData = { ...templateData, lastUpdate: new Date().toISOString(), version: templateData.version || '1.0' }; return await this.set(`id:${templateId}`, enrichedData); } /** Cache de templates por categor√≠a / async getTemplatesByCategory(category) { return await this.get(`category:${category}`); } async setTemplatesByCategory(category, templates) { return await this.set(`category:${category}`, templates); } /** Cache de templates populares / async getPopularTemplates(limit = 10) { return await this.get(`popular:${limit}`); } async setPopularTemplates(templates, limit = 10) { return await this.set(`popular:${limit}`, templates, 3600); // 1 hora } /** Precarga de templates esenciales / async warmupEssentialTemplates() { if (!this.options.enableWarmup) return; logger.info('Precargando templates esenciales'); try { // Cargar templates m√°s utilizados const essentialTemplates = await this.loadEssentialTemplatesFromDB(); const warmupPromises = essentialTemplates.map(async (template) => { await this.setTemplate(template.id, template); }); await Promise.allSettled(warmupPromises); logger.info(`${essentialTemplates.length} templates esenciales precargados`); } catch (error) { logger.error('Error precargando templates esenciales:', error); } } async loadEssentialTemplatesFromDB() { // Placeholder - implementar carga desde base de datos return []; } } /** Estrategia para cache de API responses</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">AnalyticsCacheStrategy</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Cache de respuesta de API con headers / async cacheAPIResponse(endpoint, params, response, headers = {}) { const cacheKey = this.generateAPIKey(endpoint, params); const cacheData = { response, headers, timestamp: new Date().toISOString(), endpoint, params }; return await this.set(cacheKey, cacheData); } /** Obtener respuesta de API cacheada / async getCachedAPIResponse(endpoint, params) { const cacheKey = this.generateAPIKey(endpoint, params); return await this.get(cacheKey); } /** Generar clave de cache para API / generateAPIKey(endpoint, params) { const sortedParams = Object.keys(params || {}) .sort() .reduce((result, key) => { result[key] = params[key]; return result; }, {}); const paramString = JSON.stringify(sortedParams); const hash = Buffer.from(paramString).toString('base64').slice(0, 16); return `${endpoint.replace(/[^a-zA-Z0-9]/g, '_')}:${hash}`; } /** Invalidar cache de endpoint espec√≠fico / async invalidateEndpoint(endpoint) { const pattern = `${endpoint.replace(/[^a-zA-Z0-9]/g, '_')}:*`; return await this.cacheManager.invalidatePattern(this.cacheType, pattern); } } /** Estrategia para cache de analytics</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">CacheStrategyFactory</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Cache de m√©tricas diarias / async getDailyMetrics(date) { return await this.get(`daily:${date}`); } async setDailyMetrics(date, metrics) { return await this.set(`daily:${date}`, metrics, 86400); // 24 horas } /** Cache de m√©tricas en tiempo real / async getRealTimeMetrics() { return await this.get('realtime'); } async setRealTimeMetrics(metrics) { return await this.set('realtime', metrics, 60); // 1 minuto } /** Cache de reportes agregados / async getAggregatedReport(reportType, period) { return await this.get(`report:${reportType}:${period}`); } async setAggregatedReport(reportType, period, report) { const ttl = this.getReportTTL(period); return await this.set(`report:${reportType}:${period}`, report, ttl); } /** Determinar TTL basado en el per√≠odo del reporte / getReportTTL(period) { const ttlMap = { 'hourly': 300,    // 5 minutos 'daily': 1800,    // 30 minutos 'weekly': 3600,   // 1 hora 'monthly': 7200   // 2 horas }; return ttlMap[period] || 3600; } } /** Factory para crear estrategias de cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">AnalyticsEngine</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/metrics/AnalyticsEngine.js</div>
                <div class="item-description">Motor de analytics para procesamiento inteligente de m√©tricas Genera insights, tendencias y predicciones basadas en datos hist√≥ricos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">MetricsCollector</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/metrics/MetricsCollector.js</div>
                <div class="item-description">Recolector de m√©tricas del sistema Captura autom√°ticamente m√©tricas de rendimiento, uso y eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ReportGenerator</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/metrics/ReportGenerator.js</div>
                <div class="item-description">Generador de reportes para m√©tricas y analytics Crea reportes detallados con visualizaciones y an√°lisis</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">PluginAPI</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">API est√°ndar para plugins con herramientas y utilidades</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">BasePlugin</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Inicializa la API del plugin / _initializeAPI() { // Configurar l√≠mites this.setMaxListeners(this.apiConfig.maxListeners); // Configurar limpieza autom√°tica if (this.apiConfig.autoCleanup) { this._setupAutoCleanup(); } // Configurar seguimiento de m√©tricas if (this.apiConfig.trackMetrics) { this._setupMetricsTracking(); } } /** Configura la limpieza autom√°tica / _setupAutoCleanup() { // Limpiar recursos al destruir this.on('destroy', () => { this._cleanupResources(); }); // Limpiar cache peri√≥dicamente this._cacheCleanupInterval = setInterval(() => { this._cleanupCache(); }, 60000); // Cada minuto this.resources.intervals.add(this._cacheCleanupInterval); } /** Configura el seguimiento de m√©tricas / _setupMetricsTracking() { // Actualizar m√©tricas de actividad this.on('request', () => { this.metrics.requests++; this.metrics.lastActivity = Date.now(); }); this.on('error', () => { this.metrics.errors++; }); this.on('warning', () => { this.metrics.warnings++; }); } /** Inicializa el plugin / async initialize() { if (this.state.initialized) { return; } try { this.log('info', 'Initializing plugin'); // Marcar tiempo de inicio this.metrics.startTime = Date.now(); // Ejecutar inicializaci√≥n personalizada if (this.onInitialize) { await this.onInitialize(); } this.state.initialized = true; this.emit('initialized'); this.log('info', 'Plugin initialized successfully'); } catch (error) { this.state.error = error; this.emit('error', error); throw error; } } /** Inicia el plugin / async start() { if (!this.state.initialized) { await this.initialize(); } if (this.state.running) { return; } try { this.log('info', 'Starting plugin'); // Ejecutar inicio personalizado if (this.onStart) { await this.onStart(); } this.state.running = true; this.emit('started'); this.log('info', 'Plugin started successfully'); } catch (error) { this.state.error = error; this.emit('error', error); throw error; } } /** Detiene el plugin / async stop() { if (!this.state.running) { return; } try { this.log('info', 'Stopping plugin'); // Ejecutar parada personalizada if (this.onStop) { await this.onStop(); } this.state.running = false; this.emit('stopped'); this.log('info', 'Plugin stopped successfully'); } catch (error) { this.state.error = error; this.emit('error', error); throw error; } } /** Destruye el plugin / async destroy() { try { this.log('info', 'Destroying plugin'); // Detener si est√° ejecut√°ndose if (this.state.running) { await this.stop(); } // Ejecutar destrucci√≥n personalizada if (this.onDestroy) { await this.onDestroy(); } // Limpiar recursos this._cleanupResources(); this.emit('destroyed'); this.log('info', 'Plugin destroyed successfully'); } catch (error) { this.emit('error', error); throw error; } } /** Configura el plugin / configure(newConfig) { try { this.log('info', 'Configuring plugin', { config: newConfig }); // Fusionar configuraci√≥n this.config = { ...this.config, ...newConfig }; // Ejecutar configuraci√≥n personalizada if (this.onConfigure) { this.onConfigure(this.config); } this.emit('configured', this.config); this.log('info', 'Plugin configured successfully'); } catch (error) { this.emit('error', error); throw error; } } /** Registra un timer / setTimeout(callback, delay, ...args) { const timer = setTimeout(() => { this.resources.timers.delete(timer); try { callback(...args); } catch (error) { this.emit('error', error); } }, delay); this.resources.timers.add(timer); return timer; } /** Registra un interval / setInterval(callback, interval, ...args) { const intervalId = setInterval(() => { try { callback(...args); } catch (error) { this.emit('error', error); } }, interval); this.resources.intervals.add(intervalId); return intervalId; } /** Limpia un timer / clearTimeout(timer) { clearTimeout(timer); this.resources.timers.delete(timer); } /** Limpia un interval / clearInterval(intervalId) { clearInterval(intervalId); this.resources.intervals.delete(intervalId); } /** Registra un listener de eventos / addEventListener(target, event, listener, options = {}) { if (!this.resources.listeners.has(target)) { this.resources.listeners.set(target, new Map()); } if (!this.resources.listeners.get(target).has(event)) { this.resources.listeners.get(target).set(event, new Set()); } this.resources.listeners.get(target).get(event).add(listener); // A√±adir listener if (target.addEventListener) { target.addEventListener(event, listener, options); } else if (target.on) { target.on(event, listener); } return () => this.removeEventListener(target, event, listener); } /** Remueve un listener de eventos / removeEventListener(target, event, listener) { if (this.resources.listeners.has(target) && this.resources.listeners.get(target).has(event)) { this.resources.listeners.get(target).get(event).delete(listener); } // Remover listener if (target.removeEventListener) { target.removeEventListener(event, listener); } else if (target.off) { target.off(event, listener); } } /** Almacena datos en cache / setCache(key, value, ttl = 3600000) { // 1 hora por defecto this.cache.set(key, { value, timestamp: Date.now(), ttl }); // Limpiar cache si excede el tama√±o m√°ximo if (this.cache.size > this.apiConfig.maxCacheSize) { this._cleanupCache(); } } /** Obtiene datos del cache / getCache(key) { const entry = this.cache.get(key); if (!entry) { return null; } // Verificar expiraci√≥n if (Date.now() - entry.timestamp > entry.ttl) { this.cache.delete(key); return null; } return entry.value; } /** Elimina datos del cache / deleteCache(key) { return this.cache.delete(key); } /** Limpia el cache / clearCache() { this.cache.clear(); } /** Limpia el cache expirado / _cleanupCache() { const now = Date.now(); for (const [key, entry] of this.cache) { if (now - entry.timestamp > entry.ttl) { this.cache.delete(key); } } // Si a√∫n excede el tama√±o, eliminar las entradas m√°s antiguas if (this.cache.size > this.apiConfig.maxCacheSize) { const entries = Array.from(this.cache.entries()); entries.sort((a, b) => a[1].timestamp - b[1].timestamp); const toDelete = entries.slice(0, entries.length - this.apiConfig.maxCacheSize); toDelete.forEach(([key]) => this.cache.delete(key)); } } /** Registra un mensaje / log(level, message, data = {}) { if (!this.apiConfig.enableLogging) { return; } const logEntry = { plugin: this.name, level, message, data, timestamp: new Date().toISOString() }; // Emitir evento de log this.emit('log', logEntry); // Usar el logger del contexto si est√° disponible if (this.context.manager && this.context.manager.log) { this.context.manager.log(level, message, data); } } /** Emite un evento del plugin / emitEvent(event, data = {}) { this.emit('request'); // Para m√©tricas const eventData = { plugin: this.name, event, data, timestamp: Date.now() }; // Emitir evento local this.emit(event, eventData); // Emitir evento global a trav√©s del manager if (this.context.manager && this.context.manager.emit) { this.context.manager.emit(`plugin:${this.name}:${event}`, eventData); } } /** Escucha eventos de otros plugins / listenToPlugin(pluginName, event, listener) { if (this.context.manager && this.context.manager.on) { const eventName = `plugin:${pluginName}:${event}`; this.context.manager.on(eventName, listener); // Registrar para limpieza autom√°tica this.addEventListener(this.context.manager, eventName, listener); } } /** Obtiene otro plugin / getPlugin(pluginName) { if (this.context.manager && this.context.manager.getPlugin) { return this.context.manager.getPlugin(pluginName); } return null; } /** Obtiene todos los plugins / getPlugins() { if (this.context.manager && this.context.manager.getPlugins) { return this.context.manager.getPlugins(); } return new Map(); } /** A√±ade un hook / addHook(hookName, listener) { if (this.context.manager && this.context.manager.addHook) { this.context.manager.addHook(hookName, listener); // Registrar para limpieza autom√°tica if (!this.resources.hooks) { this.resources.hooks = new Map(); } if (!this.resources.hooks.has(hookName)) { this.resources.hooks.set(hookName, new Set()); } this.resources.hooks.get(hookName).add(listener); } } /** Remueve un hook / removeHook(hookName, listener) { if (this.context.manager && this.context.manager.removeHook) { this.context.manager.removeHook(hookName, listener); if (this.resources.hooks && this.resources.hooks.has(hookName)) { this.resources.hooks.get(hookName).delete(listener); } } } /** Ejecuta un hook / executeHook(hookName, data = {}) { if (this.context.manager && this.context.manager.executeHook) { return this.context.manager.executeHook(hookName, data); } } /** Crea una promesa con timeout / createTimeoutPromise(promise, timeout, errorMessage = 'Operation timeout') { return new Promise((resolve, reject) => { const timer = this.setTimeout(() => { reject(new Error(errorMessage)); }, timeout); promise .then(result => { this.clearTimeout(timer); resolve(result); }) .catch(error => { this.clearTimeout(timer); reject(error); }); }); } /** Crea un debounce / debounce(func, delay) { let timer; return (...args) => { if (timer) { this.clearTimeout(timer); } timer = this.setTimeout(() => { func.apply(this, args); }, delay); }; } /** Crea un throttle / throttle(func, limit) { let inThrottle; return (...args) => { if (!inThrottle) { func.apply(this, args); inThrottle = true; this.setTimeout(() => { inThrottle = false; }, limit); } }; } /** Obtiene el estado del plugin / getState() { return { ...this.state, uptime: this.state.running ? Date.now() - this.metrics.startTime : 0 }; } /** Obtiene las m√©tricas del plugin / getMetrics() { return { ...this.metrics, uptime: this.state.running ? Date.now() - this.metrics.startTime : 0, cacheSize: this.cache.size, resourceCount: { timers: this.resources.timers.size, intervals: this.resources.intervals.size, listeners: Array.from(this.resources.listeners.values()) .reduce((total, eventMap) => total + Array.from(eventMap.values()) .reduce((sum, listeners) => sum + listeners.size, 0), 0), watchers: this.resources.watchers.size, connections: this.resources.connections.size } }; } /** Obtiene informaci√≥n del plugin / getInfo() { return { name: this.name, version: this.version, metadata: this.metadata, config: this.config, state: this.getState(), metrics: this.getMetrics() }; } /** Limpia todos los recursos / _cleanupResources() { // Limpiar timers for (const timer of this.resources.timers) { clearTimeout(timer); } this.resources.timers.clear(); // Limpiar intervals for (const intervalId of this.resources.intervals) { clearInterval(intervalId); } this.resources.intervals.clear(); // Limpiar listeners for (const [target, eventMap] of this.resources.listeners) { for (const [event, listeners] of eventMap) { for (const listener of listeners) { this.removeEventListener(target, event, listener); } } } this.resources.listeners.clear(); // Limpiar hooks if (this.resources.hooks) { for (const [hookName, listeners] of this.resources.hooks) { for (const listener of listeners) { this.removeHook(hookName, listener); } } this.resources.hooks.clear(); } // Limpiar watchers for (const watcher of this.resources.watchers) { if (watcher.close) { watcher.close(); } } this.resources.watchers.clear(); // Limpiar conexiones for (const connection of this.resources.connections) { if (connection.close) { connection.close(); } else if (connection.end) { connection.end(); } else if (connection.destroy) { connection.destroy(); } } this.resources.connections.clear(); // Limpiar cache this.clearCache(); // Remover todos los listeners del plugin this.removeAllListeners(); } /** Valida la configuraci√≥n / validateConfig(schema) { // Implementaci√≥n b√°sica de validaci√≥n if (!schema || typeof schema !== 'object') { return true; } for (const [key, rules] of Object.entries(schema)) { const value = this.config[key]; if (rules.required && (value === undefined || value === null)) { throw new Error(`Required config field missing: ${key}`); } if (value !== undefined && rules.type && typeof value !== rules.type) { throw new Error(`Invalid config type for ${key}: expected ${rules.type}, got ${typeof value}`); } if (value !== undefined && rules.validate && !rules.validate(value)) { throw new Error(`Config validation failed for ${key}`); } } return true; } /** Crea un proxy para acceso seguro a propiedades / createSafeProxy(target, allowedProperties = []) { return new Proxy(target, { get(obj, prop) { if (allowedProperties.length > 0 && !allowedProperties.includes(prop)) { throw new Error(`Access denied to property: ${prop}`); } return obj[prop]; }, set(obj, prop, value) { if (allowedProperties.length > 0 && !allowedProperties.includes(prop)) { throw new Error(`Write access denied to property: ${prop}`); } obj[prop] = value; return true; } }); } } /** Clase base para plugins</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">PluginManager</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Gestor de plugins extensible con carga din√°mica y gesti√≥n de dependencias</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">PluginRegistry</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Registro de plugins para descubrimiento y gesti√≥n de versiones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">AdvancedSecurity</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/auth/AdvancedSecurity.js</div>
                <div class="item-description">Advanced Security Service Proporciona funcionalidades avanzadas de seguridad para el sistema ChatBot</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">EventBus</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/EventBus.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> EventBus - Sistema de comunicaci√≥n orientado a eventos  Este archivo implementa el n√∫cleo de comunicaci√≥n del ChatBot Enterprise usando un patr√≥n de arquitectura orientada a eventos. Proporciona: - Comunicaci√≥n desacoplada entre m√≥dulos - Sistema de colas con prioridades - Manejo de reintentos autom√°ticos - Logging y m√©tricas de eventos - Procesamiento as√≠ncrono de eventos <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0<br><strong>@since:</strong> 2024 /  import { EventEmitter } from 'events'; import { createLogger } from './core/logger.js'; import fs from 'fs/promises'; import path from 'path';  /** EventBus - N√∫cleo de comunicaci√≥n orientado a eventos  Extiende EventEmitter de Node.js para proporcionar un sistema robusto de comunicaci√≥n entre m√≥dulos con caracter√≠sticas avanzadas como: - Colas de prioridad para eventos cr√≠ticos - Sistema de reintentos autom√°ticos - Logging detallado de eventos - M√©tricas de rendimiento - Manejo de errores resiliente <br><strong>@class:</strong> EventBus<br><strong>@extends:</strong> EventEmitter<br><strong>@example:</strong>  ```javascript import EventBus from '../../EventBus.js';  const eventBus = new EventBus();  // Escuchar eventos eventBus.onEvent('user.login', (data) => {   logger.info('Usuario logueado:', data.userId); });  // Emitir eventos con prioridad eventBus.emitEvent('user.login', { userId: 123 }, { priority: 'high' }); ``` 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">CircuitBreaker</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">AIAgent - Agente Event-Driven de Gesti√≥n Inteligente de IA Transforma el AIService en un agente evolutivo que: - Gestiona m√∫ltiples proveedores de IA de forma inteligente - Optimiza autom√°ticamente la selecci√≥n de modelos - Aprende de patrones de uso y feedback - Predice necesidades de recursos - Auto-optimiza prompts y par√°metros - Gestiona cache inteligente y rate limiting - Monitorea calidad y rendimiento en tiempo real - Implementa circuit breakers y failover - Correlaciona contextos y conversaciones - Sugiere mejoras autom√°ticas / import { EventEmitter } from 'events'; import { getDatabase } from './database.js'; import { createLogger } from './logger.js'; import { CONFIG } from '../../../workflows/index.js'; import { AIResponse } from '../core/AIResponse.js'; import axios from 'axios'; import fs from 'fs/promises'; import path from 'path'; const logger = createLogger('AI_AGENT'); export class AIAgent extends EventEmitter { constructor() { super(); // Configuraci√≥n evolutiva del agente this.config = { // Configuraci√≥n de proveedores inteligente providers: { openai: { enabled: true, priority: 1, models: ['gpt-4', 'gpt-3.5-turbo', 'gpt-4-turbo'], costPerToken: { 'gpt-4': 0.00003, 'gpt-3.5-turbo': 0.000002 }, maxTokens: { 'gpt-4': 8192, 'gpt-3.5-turbo': 4096 }, reliability: 0.95, avgResponseTime: 2000 }, anthropic: { enabled: true, priority: 2, models: ['claude-3-opus', 'claude-3-sonnet', 'claude-3-haiku'], costPerToken: { 'claude-3-opus': 0.000015, 'claude-3-sonnet': 0.000003 }, maxTokens: { 'claude-3-opus': 200000, 'claude-3-sonnet': 200000 }, reliability: 0.93, avgResponseTime: 2500 }, google: { enabled: true, priority: 3, models: ['gemini-pro', 'gemini-pro-vision'], costPerToken: { 'gemini-pro': 0.000001 }, maxTokens: { 'gemini-pro': 32768 }, reliability: 0.90, avgResponseTime: 3000 }, local: { enabled: true, priority: 4, models: ['llama-2-7b', 'mistral-7b'], costPerToken: { 'llama-2-7b': 0, 'mistral-7b': 0 }, maxTokens: { 'llama-2-7b': 4096, 'mistral-7b': 8192 }, reliability: 0.85, avgResponseTime: 5000 } }, // Configuraci√≥n de optimizaci√≥n inteligente optimization: { autoModelSelection: true, dynamicPromptOptimization: true, contextualCaching: true, predictivePreloading: true, adaptiveRateLimiting: true, qualityBasedRouting: true, costOptimization: true, performanceMonitoring: true }, // Configuraci√≥n de aprendizaje learning: { enablePatternLearning: true, enableFeedbackLearning: true, enableUsageOptimization: true, enableContextCorrelation: true, learningRate: 0.1, memoryWindow: 10000, adaptationThreshold: 0.8 }, // Configuraci√≥n de cache inteligente cache: { enabled: true, maxSize: 10000, ttl: 3600000, // 1 hora intelligentEviction: true, contextualMatching: true, similarityThreshold: 0.85 }, // Configuraci√≥n de circuit breakers circuitBreaker: { enabled: true, failureThreshold: 5, resetTimeout: 60000, monitoringWindow: 300000 }, // Configuraci√≥n de rate limiting adaptativo rateLimiting: { enabled: true, baseLimit: 100, windowMs: 60000, adaptiveScaling: true, priorityQueuing: true } }; // Estado del agente this.state = { active: false, initialized: false, lastActivity: null, totalRequests: 0, successfulRequests: 0, failedRequests: 0, avgResponseTime: 0, currentLoad: 0 }; // Registro de proveedores y modelos this.providers = new Map(); this.models = new Map(); this.activeConnections = new Map(); // Sistema de cache inteligente this.cache = new Map(); this.cacheStats = { hits: 0, misses: 0, evictions: 0 }; // Sistema de rate limiting adaptativo this.rateLimits = new Map(); this.requestQueues = new Map(); // M√©tricas evolutivas this.metrics = { performance: { responseTime: [], throughput: [], errorRate: [], qualityScore: [] }, usage: { byProvider: new Map(), byModel: new Map(), byContext: new Map(), byUser: new Map() }, learning: { patterns: new Map(), optimizations: new Map(), predictions: new Map() }, costs: { total: 0, byProvider: new Map(), byModel: new Map(), savings: 0 } }; // Circuit breakers por proveedor this.circuitBreakers = new Map(); // Sistema de aprendizaje this.learningEngine = { patterns: new Map(), contextCorrelations: new Map(), userPreferences: new Map(), modelPerformance: new Map() }; // Timers para tareas peri√≥dicas this.timers = { optimization: null, monitoring: null, learning: null, cleanup: null, healthCheck: null }; // Sistema de mutex para operaciones cr√≠ticas this.mutex = { cache: false, learning: false, optimization: false }; // Base de datos y logger this.db = null; this.logger = logger; this.setupEventListeners(); } /** Configurar listeners de eventos del sistema / setupEventListeners() { // Eventos del sistema this.on('system:start', this.handleSystemStart.bind(this)); this.on('system:stop', this.handleSystemStop.bind(this)); this.on('system:error', this.handleSystemError.bind(this)); // Eventos de IA this.on('ai:request', this.handleAIRequest.bind(this)); this.on('ai:response', this.handleAIResponse.bind(this)); this.on('ai:error', this.handleAIError.bind(this)); this.on('ai:feedback', this.handleAIFeedback.bind(this)); // Eventos de optimizaci√≥n this.on('optimization:trigger', this.handleOptimizationTrigger.bind(this)); this.on('performance:alert', this.handlePerformanceAlert.bind(this)); this.on('cost:alert', this.handleCostAlert.bind(this)); // Eventos de aprendizaje this.on('learning:pattern', this.handleLearningPattern.bind(this)); this.on('learning:update', this.handleLearningUpdate.bind(this)); } /** Inicializar el agente / async initialize() { try { this.logger.info('Inicializando AIAgent...'); // Inicializar base de datos this.db = getDatabase(); // Inicializar proveedores await this.initializeProviders(); // Cargar estado previo await this.loadAgentState(); // Cargar patrones de aprendizaje await this.loadLearningPatterns(); // Inicializar circuit breakers this.initializeCircuitBreakers(); // Iniciar monitoreo this.startMonitoring(); // Iniciar optimizaci√≥n this.startOptimization(); // Iniciar aprendizaje this.startLearning(); this.state.initialized = true; this.logger.info('AIAgent inicializado correctamente'); this.emit('agent:initialized', { agentId: 'ai-agent' }); } catch (error) { this.logger.error('Error inicializando AIAgent', error); throw error; } } /** Activar el agente / async setActive(active) { this.state.active = active; this.state.lastActivity = new Date().toISOString(); if (active) { this.logger.info('AIAgent activado'); this.emit('agent:activated', { agentId: 'ai-agent' }); } else { this.logger.info('AIAgent desactivado'); this.emit('agent:deactivated', { agentId: 'ai-agent' }); } } /** Manejar inicio del sistema / async handleSystemStart(data) { this.logger.info('Sistema iniciado, activando AIAgent'); await this.setActive(true); } /** Manejar parada del sistema / async handleSystemStop(data) { this.logger.info('Sistema deteni√©ndose, desactivando AIAgent'); await this.setActive(false); await this.shutdown(); } /** Manejar errores del sistema / async handleSystemError(data) { this.logger.error('Error del sistema detectado', data); // Implementar estrategias de recuperaci√≥n if (data.severity === 'critical') { await this.handleCriticalError(data); } } /** Manejar solicitud de IA / async handleAIRequest(data) { try { const { requestId, prompt, context, options = {} } = data; this.logger.info('Procesando solicitud de IA', { requestId }); // Verificar rate limiting if (!this.checkRateLimit(context.contactId)) { throw new Error('Rate limit excedido'); } // Buscar en cache const cacheKey = this.generateCacheKey(prompt, context, options.model); const cachedResponse = this.getCachedResponse(cacheKey); if (cachedResponse) { this.cacheStats.hits++; this.emit('ai:response', { requestId, response: cachedResponse, fromCache: true }); return; } this.cacheStats.misses++; // Seleccionar proveedor y modelo √≥ptimo const { provider, model } = await this.selectOptimalProvider(prompt, context, options); // Generar respuesta const response = await this.generateResponse({ prompt, context, provider, model, ...options }); // Guardar en cache this.setCachedResponse(cacheKey, response); // Actualizar m√©tricas this.updateMetrics(provider, model, response); // Actualizar rate limiting this.updateRateLimit(context.contactId); this.emit('ai:response', { requestId, response, provider, model, fromCache: false }); } catch (error) { this.logger.error('Error procesando solicitud de IA', error); this.emit('ai:error', { requestId: data.requestId, error }); } } /** Manejar respuesta de IA / async handleAIResponse(data) { const { requestId, response, provider, model } = data; // Registrar respuesta en base de datos await this.saveResponse(response); // Actualizar estad√≠sticas this.state.totalRequests++; this.state.successfulRequests++; this.state.lastActivity = new Date().toISOString(); // Aprender de la respuesta if (this.config.learning.enablePatternLearning) { this.learnFromResponse(response, provider, model); } this.logger.info('Respuesta de IA procesada', { requestId, provider, model }); } /** Manejar error de IA / async handleAIError(data) { const { requestId, error, provider } = data; this.state.failedRequests++; // Actualizar circuit breaker if (provider && this.circuitBreakers.has(provider)) { this.circuitBreakers.get(provider).recordFailure(); } // Intentar con proveedor alternativo if (provider) { await this.tryAlternativeProvider(data); } this.logger.error('Error de IA manejado', { requestId, error, provider }); } /** Manejar feedback de IA / async handleAIFeedback(data) { const { responseId, feedback } = data; try { // Actualizar respuesta con feedback await this.updateResponseFeedback(responseId, feedback); // Aprender del feedback if (this.config.learning.enableFeedbackLearning) { this.learnFromFeedback(responseId, feedback); } this.logger.info('Feedback de IA procesado', { responseId, feedback }); } catch (error) { this.logger.error('Error procesando feedback', error); } } /** Inicializar proveedores de IA / async initializeProviders() { for (const [name, config] of Object.entries(this.config.providers)) { if (config.enabled) { const provider = await this.createProvider(name, config); this.providers.set(name, provider); // Inicializar modelos del proveedor for (const model of config.models) { this.models.set(`${name}:${model}`, { provider: name, model, config: config }); } } } this.logger.info(`Inicializados ${this.providers.size} proveedores de IA`); } /** Crear proveedor espec√≠fico / async createProvider(name, config) { switch (name) { case 'openai': return this.createOpenAIProvider(config); case 'anthropic': return this.createAnthropicProvider(config); case 'google': return this.createGoogleProvider(config); case 'local': return this.createLocalProvider(config); default: throw new Error(`Proveedor desconocido: ${name}`); } } /** Crear proveedor OpenAI / createOpenAIProvider(config) { return { name: 'openai', config, async generateResponse(options) { const { prompt, model = 'gpt-3.5-turbo', temperature = 0.7, maxTokens = 1000 } = options; const response = await axios.post('https://api.openai.com/v1/chat/completions', { model, messages: [{ role: 'user', content: prompt }], temperature, max_tokens: maxTokens }, { headers: { 'Authorization': `Bearer ${CONFIG.ai.openai.apiKey}`, 'Content-Type': 'application/json' } }); return { response: response.data.choices[0].message.content, tokens: { prompt: response.data.usage.prompt_tokens, completion: response.data.usage.completion_tokens, total: response.data.usage.total_tokens }, confidence: 0.8, model, provider: 'openai' }; } }; } /** Crear proveedor Anthropic / createAnthropicProvider(config) { return { name: 'anthropic', config, async generateResponse(options) { // Implementaci√≥n para Anthropic Claude const { prompt, model = 'claude-3-sonnet', temperature = 0.7, maxTokens = 1000 } = options; // Placeholder - implementar API real de Anthropic return { response: `Respuesta de Claude (${model}): ${prompt.substring(0, 100)}...`, tokens: { prompt: 50, completion: 100, total: 150 }, confidence: 0.85, model, provider: 'anthropic' }; } }; } /** Crear proveedor Google / createGoogleProvider(config) { return { name: 'google', config, async generateResponse(options) { // Implementaci√≥n para Google Gemini const { prompt, model = 'gemini-pro', temperature = 0.7, maxTokens = 1000 } = options; // Placeholder - implementar API real de Google return { response: `Respuesta de Gemini (${model}): ${prompt.substring(0, 100)}...`, tokens: { prompt: 40, completion: 80, total: 120 }, confidence: 0.75, model, provider: 'google' }; } }; } /** Crear proveedor local / createLocalProvider(config) { return { name: 'local', config, async generateResponse(options) { const { prompt, model = 'llama-2-7b', temperature = 0.7, maxTokens = 1000 } = options; // Simulaci√≥n de modelo local return { response: `Respuesta local (${model}): ${prompt.substring(0, 100)}...`, tokens: { prompt: 30, completion: 60, total: 90 }, confidence: 0.6, model, provider: 'local' }; } }; } /** Seleccionar proveedor y modelo √≥ptimo / async selectOptimalProvider(prompt, context, options = {}) { // Si se especifica un proveedor/modelo, usarlo if (options.provider && options.model) { return { provider: options.provider, model: options.model }; } // An√°lisis inteligente para selecci√≥n √≥ptima const analysis = await this.analyzeRequest(prompt, context); // Filtrar proveedores disponibles const availableProviders = Array.from(this.providers.entries()) .filter(([name, provider]) => { const circuitBreaker = this.circuitBreakers.get(name); return !circuitBreaker || circuitBreaker.canExecute(); }) .sort((a, b) => { const configA = this.config.providers[a[0]]; const configB = this.config.providers[b[0]]; // Ordenar por prioridad, confiabilidad y costo const scoreA = this.calculateProviderScore(a[0], analysis); const scoreB = this.calculateProviderScore(b[0], analysis); return scoreB - scoreA; }); if (availableProviders.length === 0) { throw new Error('No hay proveedores disponibles'); } const selectedProvider = availableProviders[0][0]; const selectedModel = this.selectOptimalModel(selectedProvider, analysis); return { provider: selectedProvider, model: selectedModel }; } /** Analizar solicitud para optimizaci√≥n / async analyzeRequest(prompt, context) { return { complexity: this.analyzeComplexity(prompt), urgency: this.analyzeUrgency(context), costSensitivity: this.analyzeCostSensitivity(context), qualityRequirement: this.analyzeQualityRequirement(context), tokenEstimate: this.estimateTokens(prompt), contextSize: this.calculateContextSize(context) }; } /** Calcular puntuaci√≥n de proveedor / calculateProviderScore(providerName, analysis) { const config = this.config.providers[providerName]; const metrics = this.metrics.usage.byProvider.get(providerName) || {}; let score = 0; // Factor de confiabilidad score += config.reliability * 30; // Factor de velocidad (inverso del tiempo de respuesta) score += (5000 - config.avgResponseTime) / 100; // Factor de costo (inverso del costo) if (analysis.costSensitivity > 0.7) { const avgCost = Object.values(config.costPerToken).reduce((a, b) => a + b, 0) / Object.values(config.costPerToken).length; score += (0.00005 - avgCost) * 1000000; } // Factor de calidad hist√≥rica if (metrics.avgQuality) { score += metrics.avgQuality * 20; } // Factor de disponibilidad const circuitBreaker = this.circuitBreakers.get(providerName); if (circuitBreaker && !circuitBreaker.canExecute()) { score -= 50; } return score; } /** Seleccionar modelo √≥ptimo para proveedor / selectOptimalModel(providerName, analysis) { const config = this.config.providers[providerName]; const models = config.models; // Seleccionar modelo basado en complejidad y requisitos if (analysis.complexity > 0.8 || analysis.qualityRequirement > 0.8) { // Usar modelo m√°s potente return models[0]; } else if (analysis.costSensitivity > 0.7) { // Usar modelo m√°s econ√≥mico return models[models.length - 1]; } else { // Usar modelo balanceado return models[Math.floor(models.length / 2)]; } } /** Generar respuesta con proveedor seleccionado / async generateResponse(options) { const { provider, model, prompt, context } = options; const startTime = Date.now(); try { const providerInstance = this.providers.get(provider); if (!providerInstance) { throw new Error(`Proveedor no encontrado: ${provider}`); } // Construir prompt optimizado const optimizedPrompt = await this.optimizePrompt(prompt, context); // Generar respuesta const result = await providerInstance.generateResponse({ ...options, prompt: optimizedPrompt, model }); const processingTime = Date.now() - startTime; // Crear objeto AIResponse const aiResponse = new AIResponse({ prompt: optimizedPrompt, response: result.response, provider, model, tokens: result.tokens, confidence: result.confidence, processingTime, context, cost: this.calculateCost(provider, model, result.tokens) }); // Evaluar calidad await this.evaluateQuality(aiResponse); return aiResponse; } catch (error) { const processingTime = Date.now() - startTime; // Registrar fallo en circuit breaker const circuitBreaker = this.circuitBreakers.get(provider); if (circuitBreaker) { circuitBreaker.recordFailure(); } this.logger.error(`Error generando respuesta con ${provider}:${model}`, error); throw error; } } /** Optimizar prompt basado en patrones aprendidos / async optimizePrompt(prompt, context) { if (!this.config.optimization.dynamicPromptOptimization) { return prompt; } // Buscar optimizaciones aprendidas const optimizations = this.learningEngine.patterns.get('prompt_optimization') || []; let optimizedPrompt = prompt; for (const optimization of optimizations) { if (optimization.confidence > 0.8) { optimizedPrompt = optimization.apply(optimizedPrompt, context); } } return optimizedPrompt; } /** Calcular costo de respuesta / calculateCost(provider, model, tokens) { const config = this.config.providers[provider]; const costPerToken = config.costPerToken[model] || 0; return (tokens.total || 0) * costPerToken; } /** Evaluar calidad de respuesta / async evaluateQuality(aiResponse) { // Evaluaci√≥n multi-dimensional de calidad const quality = { relevance: await this.evaluateRelevance(aiResponse), coherence: await this.evaluateCoherence(aiResponse), helpfulness: await this.evaluateHelpfulness(aiResponse), safety: await this.evaluateSafety(aiResponse), accuracy: await this.evaluateAccuracy(aiResponse) }; // Calcular puntuaci√≥n general const overallScore = Object.values(quality).reduce((sum, score) => sum + score, 0) / Object.keys(quality).length; aiResponse.updateQuality({ ...quality, overall: overallScore }); return quality; } /** Evaluar relevancia / async evaluateRelevance(aiResponse) { // Implementaci√≥n b√°sica - mejorar con ML const promptLength = aiResponse.prompt.length; const responseLength = aiResponse.response.length; // Heur√≠stica simple if (responseLength < promptLength * 0.5) return 0.6; if (responseLength > promptLength * 5) return 0.7; return 0.8; } /** Evaluar coherencia / async evaluateCoherence(aiResponse) { // Implementaci√≥n b√°sica const sentences = aiResponse.response.split(/[.!?]+/).filter(s => s.trim()); return Math.min(0.9, 0.5 + (sentences.length * 0.1)); } /** Evaluar utilidad / async evaluateHelpfulness(aiResponse) { // Implementaci√≥n b√°sica const hasActionableContent = /\b(should|could|try|consider|recommend)\b/i.test(aiResponse.response); return hasActionableContent ? 0.8 : 0.6; } /** Evaluar seguridad / async evaluateSafety(aiResponse) { // Implementaci√≥n b√°sica de filtros de seguridad const unsafePatterns = [ /\b(hack|exploit|illegal|harmful)\b/i, /\b(violence|weapon|drug)\b/i ]; for (const pattern of unsafePatterns) { if (pattern.test(aiResponse.response)) { return 0.3; } } return 0.9; } /** Evaluar precisi√≥n / async evaluateAccuracy(aiResponse) { // Implementaci√≥n b√°sica - mejorar con fact-checking return 0.75; // Placeholder } /** Inicializar circuit breakers / initializeCircuitBreakers() { for (const providerName of this.providers.keys()) { this.circuitBreakers.set(providerName, new CircuitBreaker({ failureThreshold: this.config.circuitBreaker.failureThreshold, resetTimeout: this.config.circuitBreaker.resetTimeout, monitoringWindow: this.config.circuitBreaker.monitoringWindow })); } } /** Verificar rate limit / checkRateLimit(contactId) { if (!this.config.rateLimiting.enabled) return true; const now = Date.now(); const limit = this.rateLimits.get(contactId); if (!limit) return true; const windowMs = this.config.rateLimiting.windowMs; const maxRequests = this.calculateAdaptiveLimit(contactId); const validRequests = limit.requests.filter(time => now - time < windowMs); return validRequests.length < maxRequests; } /** Calcular l√≠mite adaptativo / calculateAdaptiveLimit(contactId) { const baseLimit = this.config.rateLimiting.baseLimit; if (!this.config.rateLimiting.adaptiveScaling) { return baseLimit; } // Ajustar l√≠mite basado en historial del usuario const userMetrics = this.metrics.usage.byUser.get(contactId); if (userMetrics && userMetrics.avgQualityFeedback > 0.8) { return Math.floor(baseLimit * 1.5); // Aumentar l√≠mite para usuarios de alta calidad } return baseLimit; } /** Actualizar rate limit / updateRateLimit(contactId) { const now = Date.now(); const limit = this.rateLimits.get(contactId) || { requests: [] }; limit.requests.push(now); // Mantener solo requests de la ventana actual const windowMs = this.config.rateLimiting.windowMs; limit.requests = limit.requests.filter(time => now - time < windowMs); this.rateLimits.set(contactId, limit); } /** Obtener respuesta del cache / getCachedResponse(cacheKey) { if (!this.config.cache.enabled) return null; const cached = this.cache.get(cacheKey); if (!cached) return null; // Verificar TTL if (Date.now() - cached.timestamp > this.config.cache.ttl) { this.cache.delete(cacheKey); this.cacheStats.evictions++; return null; } return cached.response; } /** Guardar respuesta en cache / setCachedResponse(cacheKey, response) { if (!this.config.cache.enabled) return; // Verificar l√≠mite de tama√±o if (this.cache.size >= this.config.cache.maxSize) { this.evictCacheEntries(); } this.cache.set(cacheKey, { response, timestamp: Date.now(), accessCount: 0 }); } /** Evictar entradas del cache / evictCacheEntries() { if (!this.config.cache.intelligentEviction) { // Evicci√≥n simple LRU const firstKey = this.cache.keys().next().value; this.cache.delete(firstKey); this.cacheStats.evictions++; return; } // Evicci√≥n inteligente basada en uso y edad const entries = Array.from(this.cache.entries()); entries.sort((a, b) => { const scoreA = this.calculateCacheScore(a[1]); const scoreB = this.calculateCacheScore(b[1]); return scoreA - scoreB; }); // Evictar 10% de las entradas menos valiosas const toEvict = Math.max(1, Math.floor(entries.length * 0.1)); for (let i = 0; i < toEvict; i++) { this.cache.delete(entries[i][0]); this.cacheStats.evictions++; } } /** Calcular puntuaci√≥n de cache / calculateCacheScore(entry) { const age = Date.now() - entry.timestamp; const accessCount = entry.accessCount || 0; // Puntuaci√≥n basada en frecuencia de acceso y edad return accessCount * 1000 - age; } /** Generar clave de cache / generateCacheKey(prompt, context, model) { const contextStr = JSON.stringify({ conversationId: context.conversationId, contactId: context.contactId, type: context.type }); const key = `${model}:${prompt}:${contextStr}`; return this.hashString(key); } /** Hash de string para claves de cache / hashString(str) { let hash = 0; for (let i = 0; i < str.length; i++) { const char = str.charCodeAt(i); hash = ((hash << 5) - hash) + char; hash = hash & hash; // Convertir a 32bit integer } return hash.toString(36); } /** Actualizar m√©tricas / updateMetrics(provider, model, response) { // M√©tricas de rendimiento this.metrics.performance.responseTime.push(response.processingTime); this.metrics.performance.qualityScore.push(response.quality?.overall || 0); // M√©tricas de uso const providerMetrics = this.metrics.usage.byProvider.get(provider) || { count: 0, totalTime: 0, totalCost: 0 }; providerMetrics.count++; providerMetrics.totalTime += response.processingTime; providerMetrics.totalCost += response.cost || 0; this.metrics.usage.byProvider.set(provider, providerMetrics); const modelMetrics = this.metrics.usage.byModel.get(model) || { count: 0, totalTime: 0, totalCost: 0 }; modelMetrics.count++; modelMetrics.totalTime += response.processingTime; modelMetrics.totalCost += response.cost || 0; this.metrics.usage.byModel.set(model, modelMetrics); // M√©tricas de costos this.metrics.costs.total += response.cost || 0; const providerCost = this.metrics.costs.byProvider.get(provider) || 0; this.metrics.costs.byProvider.set(provider, providerCost + (response.cost || 0)); // Mantener ventana de m√©tricas this.trimMetricsWindow(); } /** Recortar ventana de m√©tricas / trimMetricsWindow() { const maxSize = 1000; if (this.metrics.performance.responseTime.length > maxSize) { this.metrics.performance.responseTime = this.metrics.performance.responseTime.slice(-maxSize); } if (this.metrics.performance.qualityScore.length > maxSize) { this.metrics.performance.qualityScore = this.metrics.performance.qualityScore.slice(-maxSize); } } /** Iniciar monitoreo / startMonitoring() { this.timers.monitoring = setInterval(() => { this.performMonitoring(); }, 30000); // Cada 30 segundos } /** Realizar monitoreo / async performMonitoring() { try { // Monitorear rendimiento const avgResponseTime = this.calculateAverageResponseTime(); const errorRate = this.calculateErrorRate(); const avgQuality = this.calculateAverageQuality(); // Alertas de rendimiento if (avgResponseTime > 10000) { // 10 segundos this.emit('performance:alert', { type: 'high_response_time', value: avgResponseTime, threshold: 10000 }); } if (errorRate > 0.1) { // 10% this.emit('performance:alert', { type: 'high_error_rate', value: errorRate, threshold: 0.1 }); } if (avgQuality < 0.6) { this.emit('performance:alert', { type: 'low_quality', value: avgQuality, threshold: 0.6 }); } // Monitorear costos const hourlyCost = this.calculateHourlyCost(); if (hourlyCost > 10) { // $10 por hora this.emit('cost:alert', { type: 'high_cost', value: hourlyCost, threshold: 10 }); } // Actualizar estado del agente this.state.avgResponseTime = avgResponseTime; this.state.currentLoad = this.calculateCurrentLoad(); } catch (error) { this.logger.error('Error en monitoreo', error); } } /** Calcular tiempo de respuesta promedio / calculateAverageResponseTime() { const times = this.metrics.performance.responseTime; if (times.length === 0) return 0; return times.reduce((sum, time) => sum + time, 0) / times.length; } /** Calcular tasa de error / calculateErrorRate() { const total = this.state.totalRequests; const failed = this.state.failedRequests; return total > 0 ? failed / total : 0; } /** Calcular calidad promedio / calculateAverageQuality() { const scores = this.metrics.performance.qualityScore; if (scores.length === 0) return 0; return scores.reduce((sum, score) => sum + score, 0) / scores.length; } /** Calcular costo por hora / calculateHourlyCost() { const now = Date.now(); const oneHourAgo = now - (60 * 60 * 1000); // Estimar basado en actividad reciente return this.metrics.costs.total * 0.1; // Placeholder } /** Calcular carga actual / calculateCurrentLoad() { return this.activeConnections.size / 100; // Normalizado a 0-1 } /** Iniciar optimizaci√≥n / startOptimization() { this.timers.optimization = setInterval(() => { this.performOptimization(); }, 300000); // Cada 5 minutos } /** Realizar optimizaci√≥n / async performOptimization() { if (this.mutex.optimization) return; try { this.mutex.optimization = true; // Optimizar configuraci√≥n de proveedores await this.optimizeProviderConfig(); // Optimizar cache await this.optimizeCache(); // Optimizar rate limiting await this.optimizeRateLimiting(); // Optimizar selecci√≥n de modelos await this.optimizeModelSelection(); this.logger.info('Optimizaci√≥n completada'); } catch (error) { this.logger.error('Error en optimizaci√≥n', error); } finally { this.mutex.optimization = false; } } /** Optimizar configuraci√≥n de proveedores / async optimizeProviderConfig() { for (const [providerName, metrics] of this.metrics.usage.byProvider) { const config = this.config.providers[providerName]; if (!config) continue; // Ajustar prioridad basada en rendimiento const avgTime = metrics.totalTime / metrics.count; const avgCost = metrics.totalCost / metrics.count; if (avgTime < config.avgResponseTime * 0.8) { config.priority = Math.max(1, config.priority - 1); } else if (avgTime > config.avgResponseTime * 1.2) { config.priority = Math.min(10, config.priority + 1); } // Actualizar m√©tricas de configuraci√≥n config.avgResponseTime = avgTime; } } /** Optimizar cache / async optimizeCache() { // Ajustar TTL basado en patrones de acceso const cacheHitRate = this.cacheStats.hits / (this.cacheStats.hits + this.cacheStats.misses); if (cacheHitRate < 0.3) { // Aumentar TTL para mejorar hit rate this.config.cache.ttl = Math.min(this.config.cache.ttl * 1.2, 7200000); // Max 2 horas } else if (cacheHitRate > 0.8) { // Reducir TTL para mantener frescura this.config.cache.ttl = Math.max(this.config.cache.ttl * 0.9, 1800000); // Min 30 minutos } } /** Optimizar rate limiting / async optimizeRateLimiting() { // Ajustar l√≠mites basado en capacidad y demanda const currentLoad = this.calculateCurrentLoad(); if (currentLoad > 0.8) { // Reducir l√≠mites bajo alta carga this.config.rateLimiting.baseLimit = Math.max(50, this.config.rateLimiting.baseLimit * 0.9); } else if (currentLoad < 0.3) { // Aumentar l√≠mites bajo baja carga this.config.rateLimiting.baseLimit = Math.min(200, this.config.rateLimiting.baseLimit * 1.1); } // Rate limiting desactivado - establecer l√≠mite muy alto this.config.rateLimiting.baseLimit = 999999; } /** Optimizar selecci√≥n de modelos / async optimizeModelSelection() { // Analizar rendimiento de modelos y ajustar selecci√≥n for (const [modelKey, metrics] of this.metrics.usage.byModel) { const [provider, model] = modelKey.split(':'); const avgQuality = metrics.avgQuality || 0; const avgCost = metrics.totalCost / metrics.count; // Guardar optimizaciones aprendidas this.learningEngine.modelPerformance.set(modelKey, { quality: avgQuality, cost: avgCost, efficiency: avgQuality / (avgCost + 0.001) // Evitar divisi√≥n por cero }); } } /** Iniciar aprendizaje / startLearning() { this.timers.learning = setInterval(() => { this.performLearning(); }, 600000); // Cada 10 minutos } /** Realizar aprendizaje / async performLearning() { if (this.mutex.learning) return; try { this.mutex.learning = true; // Aprender patrones de uso await this.learnUsagePatterns(); // Aprender correlaciones de contexto await this.learnContextCorrelations(); // Aprender preferencias de usuario await this.learnUserPreferences(); // Aprender optimizaciones de prompt await this.learnPromptOptimizations(); this.logger.info('Aprendizaje completado'); } catch (error) { this.logger.error('Error en aprendizaje', error); } finally { this.mutex.learning = false; } } /** Aprender patrones de uso / async learnUsagePatterns() { // Analizar patrones temporales const hourlyUsage = new Map(); const dailyUsage = new Map(); // Implementar an√°lisis de patrones // Placeholder para l√≥gica de aprendizaje } /** Aprender correlaciones de contexto / async learnContextCorrelations() { // Analizar qu√© contextos producen mejores resultados // Placeholder para l√≥gica de correlaci√≥n } /** Aprender preferencias de usuario / async learnUserPreferences() { // Analizar feedback y patrones de usuario // Placeholder para l√≥gica de preferencias } /** Aprender optimizaciones de prompt / async learnPromptOptimizations() { // Identificar patrones de prompts exitosos // Placeholder para l√≥gica de optimizaci√≥n } /** Aprender de respuesta / learnFromResponse(response, provider, model) { // Registrar patrones exitosos const pattern = { provider, model, quality: response.quality?.overall || 0, processingTime: response.processingTime, cost: response.cost, context: response.context }; const patterns = this.learningEngine.patterns.get('successful_responses') || []; patterns.push(pattern); // Mantener ventana de aprendizaje if (patterns.length > this.config.learning.memoryWindow) { patterns.shift(); } this.learningEngine.patterns.set('successful_responses', patterns); } /** Aprender de feedback / learnFromFeedback(responseId, feedback) { // Correlacionar feedback con caracter√≠sticas de respuesta // Implementar l√≥gica de aprendizaje por feedback } /** Intentar proveedor alternativo / async tryAlternativeProvider(originalRequest) { const { requestId, prompt, context, options } = originalRequest; try { // Seleccionar proveedor alternativo const { provider, model } = await this.selectOptimalProvider(prompt, context, { ...options, excludeProvider: originalRequest.provider }); // Generar respuesta con proveedor alternativo const response = await this.generateResponse({ prompt, context, provider, model, ...options }); this.emit('ai:response', { requestId, response, provider, model, fromFallback: true }); } catch (error) { this.logger.error('Error con proveedor alternativo', error); this.emit('ai:error', { requestId, error, isFinal: true }); } } /** Manejar trigger de optimizaci√≥n / async handleOptimizationTrigger(data) { this.logger.info('Trigger de optimizaci√≥n recibido', data); await this.performOptimization(); } /** Manejar alerta de rendimiento / async handlePerformanceAlert(data) { this.logger.warn('Alerta de rendimiento', data); // Implementar acciones correctivas switch (data.type) { case 'high_response_time': await this.handleHighResponseTime(data); break; case 'high_error_rate': await this.handleHighErrorRate(data); break; case 'low_quality': await this.handleLowQuality(data); break; } } /** Manejar alerta de costo / async handleCostAlert(data) { this.logger.warn('Alerta de costo', data); // Activar modo de ahorro this.activateCostSavingMode(); } /** Activar modo de ahorro / activateCostSavingMode() { // Priorizar proveedores m√°s econ√≥micos for (const [name, config] of Object.entries(this.config.providers)) { if (name === 'local') { config.priority = 1; } else { config.priority += 2; } } // Reducir l√≠mites de tokens this.config.optimization.costOptimization = true; this.logger.info('Modo de ahorro activado'); } /** Manejar tiempo de respuesta alto / async handleHighResponseTime(data) { // Priorizar proveedores m√°s r√°pidos for (const [name, config] of Object.entries(this.config.providers)) { if (config.avgResponseTime < 3000) { config.priority = Math.max(1, config.priority - 1); } } } /** Manejar tasa de error alta / async handleHighErrorRate(data) { // Activar circuit breakers m√°s agresivos for (const circuitBreaker of this.circuitBreakers.values()) { circuitBreaker.failureThreshold = Math.max(2, circuitBreaker.failureThreshold - 1); } } /** Manejar calidad baja / async handleLowQuality(data) { // Priorizar modelos de mayor calidad this.config.optimization.qualityBasedRouting = true; } /** Manejar error cr√≠tico / async handleCriticalError(data) { this.logger.error('Error cr√≠tico detectado', data); // Implementar recuperaci√≥n de emergencia await this.emergencyRecovery(); } /** Recuperaci√≥n de emergencia / async emergencyRecovery() { try { // Reinicializar proveedores await this.initializeProviders(); // Limpiar cache this.cache.clear(); // Resetear circuit breakers this.initializeCircuitBreakers(); this.logger.info('Recuperaci√≥n de emergencia completada'); } catch (error) { this.logger.error('Error en recuperaci√≥n de emergencia', error); } } /** Manejar patr√≥n de aprendizaje / async handleLearningPattern(data) { const { pattern, confidence } = data; if (confidence > this.config.learning.adaptationThreshold) { // Aplicar patr√≥n aprendido await this.applyLearningPattern(pattern); } } /** Aplicar patr√≥n aprendido / async applyLearningPattern(pattern) { // Implementar aplicaci√≥n de patrones this.logger.info('Aplicando patr√≥n aprendido', pattern); } /** Manejar actualizaci√≥n de aprendizaje / async handleLearningUpdate(data) { // Actualizar modelos de aprendizaje this.logger.info('Actualizando aprendizaje', data); } /** Analizar complejidad de prompt / analyzeComplexity(prompt) { // Factores de complejidad const length = prompt.length; const sentences = prompt.split(/[.!?]+/).length; const questions = (prompt.match(/\?/g) || []).length; const keywords = (prompt.match(/\b(analyze|explain|compare|evaluate|create)\b/gi) || []).length; // Normalizar a 0-1 let complexity = 0; complexity += Math.min(length / 1000, 1) * 0.3; complexity += Math.min(sentences / 10, 1) * 0.2; complexity += Math.min(questions / 5, 1) * 0.2; complexity += Math.min(keywords / 3, 1) * 0.3; return complexity; } /** Analizar urgencia / analyzeUrgency(context) { // Factores de urgencia const urgentKeywords = ['urgent', 'emergency', 'asap', 'immediately', 'critical']; const urgentCount = urgentKeywords.filter(keyword => context.message?.toLowerCase().includes(keyword) ).length; return Math.min(urgentCount / urgentKeywords.length, 1); } /** Analizar sensibilidad al costo / analyzeCostSensitivity(context) { // Basado en configuraci√≥n del usuario o contexto return context.costSensitive ? 0.9 : 0.3; } /** Analizar requisito de calidad / analyzeQualityRequirement(context) { // Basado en tipo de conversaci√≥n o usuario if (context.type === 'business' || context.type === 'support') { return 0.9; } return 0.6; } /** Estimar tokens / estimateTokens(prompt) { // Estimaci√≥n aproximada: ~4 caracteres por token return Math.ceil(prompt.length / 4); } /** Calcular tama√±o de contexto / calculateContextSize(context) { const contextStr = JSON.stringify(context); return contextStr.length; } /** Guardar respuesta en base de datos / async saveResponse(response) { try { await this.db.insert('ai_responses', response.toJSON()); } catch (error) { this.logger.error('Error guardando respuesta', error); } } /** Actualizar feedback de respuesta / async updateResponseFeedback(responseId, feedback) { try { const response = await this.db.findById('ai_responses', responseId); if (!response) { throw new Error('Respuesta no encontrada'); } const aiResponse = AIResponse.fromJSON(response); aiResponse.updateFeedback(feedback); await this.db.update('ai_responses', responseId, aiResponse.toJSON()); return aiResponse; } catch (error) { this.logger.error('Error actualizando feedback', error); throw error; } } /** Obtener estad√≠sticas del agente / async getAgentStats() { return { state: this.state, metrics: { performance: { avgResponseTime: this.calculateAverageResponseTime(), errorRate: this.calculateErrorRate(), avgQuality: this.calculateAverageQuality(), throughput: this.calculateThroughput() }, usage: { totalRequests: this.state.totalRequests, successfulRequests: this.state.successfulRequests, failedRequests: this.state.failedRequests, byProvider: Object.fromEntries(this.metrics.usage.byProvider), byModel: Object.fromEntries(this.metrics.usage.byModel) }, cache: { size: this.cache.size, hitRate: this.cacheStats.hits / (this.cacheStats.hits + this.cacheStats.misses), ...this.cacheStats }, costs: this.metrics.costs }, providers: Array.from(this.providers.keys()), models: Array.from(this.models.keys()), circuitBreakers: Object.fromEntries( Array.from(this.circuitBreakers.entries()).map(([name, cb]) => [ name, { state: cb.state, failures: cb.failures } ]) ) }; } /** Calcular throughput / calculateThroughput() { // Requests por minuto en la √∫ltima hora const now = Date.now(); const oneHourAgo = now - (60 * 60 * 1000); // Placeholder - implementar c√°lculo real return this.state.totalRequests * 0.1; } /** Obtener informaci√≥n del agente / getAgentInfo() { return { id: 'ai-agent', name: 'AI Agent', type: 'ai-management', version: '1.0.0', description: 'Agente inteligente de gesti√≥n de IA con capacidades evolutivas', capabilities: [ 'multi-provider-management', 'intelligent-routing', 'quality-optimization', 'cost-optimization', 'pattern-learning', 'performance-monitoring', 'circuit-breaking', 'adaptive-caching', 'rate-limiting', 'feedback-learning' ], state: this.state, config: this.config }; } /** Apagar el agente / async shutdown() { try { this.logger.info('Apagando AIAgent...'); // Detener timers this.stopTimers(); // Guardar estado await this.saveAgentState(); // Guardar patrones de aprendizaje await this.saveLearningPatterns(); // Limpiar recursos this.cache.clear(); this.rateLimits.clear(); this.providers.clear(); this.models.clear(); this.state.active = false; this.state.initialized = false; this.logger.info('AIAgent apagado correctamente'); this.emit('agent:shutdown', { agentId: 'ai-agent' }); } catch (error) { this.logger.error('Error apagando AIAgent', error); throw error; } } /** Detener timers / stopTimers() { Object.values(this.timers).forEach(timer => { if (timer) { clearInterval(timer); } }); this.timers = { optimization: null, monitoring: null, learning: null, cleanup: null, healthCheck: null }; } /** Guardar estado del agente / async saveAgentState() { try { const stateData = { state: this.state, metrics: this.metrics, config: this.config, timestamp: new Date().toISOString() }; await this.ensureDirectory('storage/agents'); await fs.writeFile( 'storage/agents/ai-agent-state.json', JSON.stringify(stateData, null, 2) ); } catch (error) { this.logger.error('Error guardando estado del agente', error); } } /** Cargar estado del agente / async loadAgentState() { try { const stateFile = 'storage/agents/ai-agent-state.json'; const data = await fs.readFile(stateFile, 'utf8'); const stateData = JSON.parse(data); // Restaurar estado this.state = { ...this.state, ...stateData.state }; // Restaurar m√©tricas if (stateData.metrics) { this.metrics = { ...this.metrics, ...stateData.metrics }; } this.logger.info('Estado del agente cargado'); } catch (error) { this.logger.info('No se encontr√≥ estado previo del agente'); } } /** Guardar patrones de aprendizaje / async saveLearningPatterns() { try { const learningData = { patterns: Object.fromEntries(this.learningEngine.patterns), contextCorrelations: Object.fromEntries(this.learningEngine.contextCorrelations), userPreferences: Object.fromEntries(this.learningEngine.userPreferences), modelPerformance: Object.fromEntries(this.learningEngine.modelPerformance), timestamp: new Date().toISOString() }; await this.ensureDirectory('storage/agents'); await fs.writeFile( 'storage/agents/ai-agent-learning.json', JSON.stringify(learningData, null, 2) ); } catch (error) { this.logger.error('Error guardando patrones de aprendizaje', error); } } /** Cargar patrones de aprendizaje / async loadLearningPatterns() { try { const learningFile = 'storage/agents/ai-agent-learning.json'; const data = await fs.readFile(learningFile, 'utf8'); const learningData = JSON.parse(data); // Restaurar patrones this.learningEngine.patterns = new Map(Object.entries(learningData.patterns || {})); this.learningEngine.contextCorrelations = new Map(Object.entries(learningData.contextCorrelations || {})); this.learningEngine.userPreferences = new Map(Object.entries(learningData.userPreferences || {})); this.learningEngine.modelPerformance = new Map(Object.entries(learningData.modelPerformance || {})); this.logger.info('Patrones de aprendizaje cargados'); } catch (error) { this.logger.info('No se encontraron patrones de aprendizaje previos'); } } /** Asegurar que existe el directorio / async ensureDirectory(dirPath) { try { await fs.mkdir(dirPath, { recursive: true }); } catch (error) { // Directorio ya existe } } /** Limpiar datos antiguos / async cleanupOldData() { try { // Limpiar m√©tricas antiguas (m√°s de 7 d√≠as) const sevenDaysAgo = Date.now() - (7 * 24 * 60 * 60 * 1000); // Limpiar cache expirado for (const [key, entry] of this.cache.entries()) { if (entry.timestamp < sevenDaysAgo) { this.cache.delete(key); this.cacheStats.evictions++; } } // Limpiar rate limits antiguos for (const [contactId, limit] of this.rateLimits.entries()) { limit.requests = limit.requests.filter(time => Date.now() - time < 3600000); // 1 hora if (limit.requests.length === 0) { this.rateLimits.delete(contactId); } } this.logger.info('Limpieza de datos antiguos completada'); } catch (error) { this.logger.error('Error en limpieza de datos', error); } } /** Destruir el agente / async destroy() { await this.shutdown(); this.removeAllListeners(); this.logger.info('AIAgent destruido'); } } /** Circuit Breaker para proveedores de IA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">AnalyticsAgent</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AnalyticsAgent.js</div>
                <div class="item-description">Agente especializado en analytics y m√©tricas Recopila datos, genera reportes y emite eventos de an√°lisis</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">BaseAgent</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseAgent.js</div>
                <div class="item-description">Clase base para todos los agentes especializados Define la interfaz com√∫n y funcionalidades b√°sicas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">BaseService</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseService.js</div>
                <div class="item-description">Clase base para todos los servicios del sistema Proporciona funcionalidad com√∫n y estructura est√°ndar</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">Dialog360Error</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Dialog360Service.js</div>
                <div class="item-description">360Dialog Service Servicio especializado para integraci√≥n con 360Dialog WhatsApp Business API Implementa funcionalidades espec√≠ficas para alta eficiencia y estabilidad / import axios from 'axios'; import crypto from 'crypto'; import logger from './logger.js'; import EventBus from '../EventBus.js'; import { EventTypes } from './EventTypes.js'; /** Clase personalizada para errores de 360Dialog</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">DistributedGateway</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Gateway distribuido para sincronizaci√≥n de eventos entre entornos Permite comunicaci√≥n entre servidores locales, cloud y otros sistemas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">EventHub</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventHub.js</div>
                <div class="item-description">EventHub - N√∫cleo evolutivo de eventos Canal principal de comunicaci√≥n para arquitectura event-driven Capaz de aprender, adaptarse y auto-optimizarse</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">EventStore</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventStore.js</div>
                <div class="item-description">Sistema de memoria persistente para eventos Almacena todos los eventos con su payload y estado para auditor√≠a y replay</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">EventsMapper</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventsMapper.js</div>
                <div class="item-description">Mapeador din√°mico de eventos Auto-documenta las conexiones entre m√≥dulos y genera mapas visuales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">FlowManager</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/FlowManager.js</div>
                <div class="item-description">Motor de flujo inteligente que analiza patrones de eventos y optimiza autom√°ticamente el comportamiento del sistema bas√°ndose en el tr√°fico observado.</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">HealingAgent</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealingAgent.js</div>
                <div class="item-description">HealingAgent - Agente de autorrecuperaci√≥n Responsable de: - Detectar fallos y errores del sistema - Aplicar estrategias de recuperaci√≥n autom√°tica - Aislar componentes problem√°ticos - Reportar estado de salud del sistema - Implementar circuit breakers y backoff exponencial</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">HealthCheckService</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealthCheckService.js</div>
                <div class="item-description">Servicio de Health Check refactorizado Extiende BaseService para proporcionar funcionalidad de monitoreo de salud del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">IntelligentEventSystem</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/IntelligentEventSystem.js</div>
                <div class="item-description">Sistema de Eventos Inteligente Integra todos los componentes para crear una arquitectura Event-Driven aut√≥noma</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">LearningAgent</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">LearningAgent - Agente de aprendizaje autom√°tico evolutivo Responsable de: - Analizar patrones hist√≥ricos de eventos - Detectar rutas exitosas y optimizaciones - Reordenar prioridades din√°micamente - Generar recomendaciones autom√°ticas - Actualizar reglas sin reiniciar el sistema - Predecir comportamientos futuros</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">Monitor</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Monitor visual y sistema de trazabilidad en tiempo real Proporciona observabilidad completa del flujo de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">NotificationService</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Servicio de notificaciones refactorizado Extiende BaseService y EventEmitter para proporcionar funcionalidad de notificaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">OAuth2Error</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/OAuth2Service.js</div>
                <div class="item-description">OAuth 2.0 Service Servicio de autenticaci√≥n OAuth 2.0 con m√∫ltiples proveedores Recomendaci√≥n #18: Implementar OAuth 2.0 para autenticaci√≥n segura / import crypto from 'crypto'; import jwt from 'jsonwebtoken'; import logger from './logger.js'; import DatabaseManager from '../../../config/database/DatabaseManager.js'; /** Clase personalizada para errores de OAuth2</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ObserverAgent</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ObserverAgent.js</div>
                <div class="item-description">ObserverAgent - Agente observador inteligente Analiza todos los eventos del sistema para detectar: - Patrones de comportamiento - Anomal√≠as y problemas - Oportunidades de optimizaci√≥n - Tendencias y predicciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">RecoveryManager</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Gestor de recuperaci√≥n autom√°tica y tolerancia a fallos Maneja errores, reintentos autom√°ticos y auto-reparaci√≥n del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">SalesAgent</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SalesAgent.js</div>
                <div class="item-description">Agente especializado en ventas Escucha eventos de inter√©s del usuario y pagos para persuadir con mensajes personalizados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">Server</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Server.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Servidor principal del ChatBot Enterprise  Este archivo contiene la clase Server que maneja toda la configuraci√≥n y inicializaci√≥n del servidor web, incluyendo: - Configuraci√≥n de Express.js y middleware - Integraci√≥n con Socket.IO para comunicaci√≥n en tiempo real - Arquitectura orientada a eventos con EventBus - Gesti√≥n de servicios y rutas - Configuraci√≥n de seguridad y rate limiting - Manejo de base de datos y archivos est√°ticos <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0<br><strong>@since:</strong> 2024 /  // Dependencias principales de Express y HTTP import express from 'express'; import http from 'http'; import { Server as SocketIOServer } from 'socket.io';  // Middleware de seguridad y utilidades import cors from 'cors'; import helmet from 'helmet'; import compression from 'compression'; import rateLimit from 'express-rate-limit';  // Utilidades de Node.js para manejo de rutas import path from 'path'; import fs from 'fs';  // Configuraci√≥n centralizada del sistema import environmentConfig from '../../../config/environments/environments/environment.js'; import constants from '../../../config/environments/environments/constants.js';  // M√≥dulos core - Arquitectura orientada a eventos import EventBus from '../EventBus.js'; import { EventTypes } from './EventTypes.js'; import { log as logger, createLogger } from './logger.js'; import { getDatabase, initDatabase } from './database.js'; import middleware from './middleware.js';  // Servicios - Comunicaci√≥n por eventos import serviceManager from './ServiceManager.js'; import HealthCheckService from './HealthCheckService.js'; import NotificationService from './NotificationService.js'; import AuditService from './AuditService.js';  // Servicios de mensajer√≠a import LocalMessagingService from '../../../../apps/api/src/services/localMessagingService.js'; import LocalContactManager from '../../../../apps/api/src/services/localContactManager.js'; import { unifiedWebhookService } from './UnifiedWebhookService.js';  // Rutas de la API - Temporarily commented out missing routes // import healthRouter from '../../../../apps/api/src/api/routes/health.js'; // import analyticsRouter from '../../../../apps/api/src/api/routes/analytics.js'; // import notificationsRouter from '../../../../apps/api/src/api/routes/notifications.js'; // import dynamicTemplatesRouter from '../../../../apps/api/src/api/routes/dynamicTemplates.js'; // import backupRouter from '../../../../apps/api/src/api/routes/backup.js'; // import integrationsRouter from '../../../../apps/api/src/api/routes/integrations.js'; // import messageQueueRouter from '../../../../apps/api/src/api/routes/messageQueue.js'; // import reportsRouter from '../../../../apps/api/src/api/routes/reports.js'; // import aiAdminRouter from '../../../../apps/api/src/api/routes/ai-admin.js'; import authRoutes from '../../../api/routes/authRoutes.js';  // Importar rutas de apps/api import { createApiRouter } from '../../../../apps/api/src/routes/index.js'; import analyticsRouter from '../../../../apps/api/src/routes/analytics.js'; import notificationsRouter from '../../../../apps/api/src/routes/notifications.js'; import healthRouter from '../../../../apps/api/src/routes/health.js'; import backupRouter from '../../../../apps/api/src/routes/backup.js'; import integrationsRouter from '../../../../apps/api/src/routes/integrations.js'; import messageQueueRouter from '../../../../apps/api/src/routes/messageQueue.js'; import reportsRouter from '../../../../apps/api/src/routes/reports.js'; import aiAdminRouter from '../../../../apps/api/src/routes/ai-admin.js'; import dynamicTemplatesRouter from '../../../../apps/api/src/routes/dynamicTemplates.js'; import billingRouter from '../../../../apps/api/src/routes/billing.js'; import commerceRouter from '../../../../apps/api/src/routes/commerce.js';  // Webhook routes - Usando sistema unificado de webhooks import webhooksRouter from '../../../../apps/api/src/routes/webhooks.js';  // Configuraci√≥n de rutas para m√≥dulos ES6 - Eliminado __dirname para compatibilidad  /** Clase principal del servidor ChatBot Enterprise  Implementa una arquitectura orientada a eventos que consolida toda la funcionalidad del sistema usando EventBus para comunicaci√≥n desacoplada.  Caracter√≠sticas principales: - Servidor HTTP/HTTPS con Express.js - WebSockets con Socket.IO para tiempo real - Middleware de seguridad integrado - Rate limiting y protecci√≥n DDoS - Gesti√≥n autom√°tica de servicios - Monitoreo de salud del sistema - Soporte para m√∫ltiples bases de datos - API RESTful completa - Dashboard de administraci√≥n <br><strong>@class:</strong> Server<br><strong>@example:</strong>  ```javascript import Server from '../core/Server.js';  const server = new Server(); await server.initialize(); await server.start(); ``` 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ServiceManager</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ServiceManager.js</div>
                <div class="item-description">Gestor centralizado de servicios Maneja el ciclo de vida de todos los servicios del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">SupportAgent</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SupportAgent.js</div>
                <div class="item-description">Agente especializado en soporte al cliente Reacciona a preguntas de usuarios y confusi√≥n de IA para brindar asistencia</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">Dialog360Error</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">Unified 360Dialog Service - Estilo Manychat Mejorado Servicio unificado que consolida todas las funcionalidades de 360Dialog Elimina duplicidades y proporciona una interfaz coherente y eficiente / import axios from 'axios'; import crypto from 'crypto'; import logger from './logger.js'; import EventBus from '../EventBus.js'; import { EventTypes } from './EventTypes.js'; import { CONFIG } from '../../../../apps/api/src/core/config.js'; import contextManager from '../../../managers/context_manager.js'; import { intelligentAI } from '../../../../apps/api/src/services/IntelligentAIService.js'; /** Clase de error personalizada para 360Dialog</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">Unified360DialogService</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">Servicio Unificado de 360Dialog con estilo Manychat Combina env√≠o de mensajes, procesamiento de webhooks y gesti√≥n de IA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">AdvancedRateLimiter</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AdvancedRateLimiter.js</div>
                <div class="item-description">Advanced Rate Limiting System - COMPLETAMENTE DESACTIVADO Provides intelligent rate limiting with endpoint differentiation, brute force protection, and adaptive security measures</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">AuthenticationManager</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthenticationManager.js</div>
                <div class="item-description">Gestor de autenticaci√≥n para el sistema de seguridad Maneja la autenticaci√≥n de usuarios con m√∫ltiples estrategias</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">AuthorizationManager</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthorizationManager.js</div>
                <div class="item-description">Gestor de autorizaci√≥n para el sistema de seguridad Maneja el control de acceso basado en roles (RBAC) y permisos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">EncryptionManager</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/EncryptionManager.js</div>
                <div class="item-description">Gestor de encriptaci√≥n para el sistema de seguridad Maneja la encriptaci√≥n de datos, hashing y operaciones criptogr√°ficas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">SecretManager</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/SecretManager.js</div>
                <div class="item-description">Centralized Secret Management System Provides secure generation, validation, and persistence of secrets</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">EvolutiveLogger</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/evolutive-logger.js</div>
                <div class="item-description">Logger evolutivo que extiende el sistema Winston existente con capacidades espec√≠ficas para el sistema de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ContextLogger</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/logger.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Sistema de Logging Centralizado del ChatBot Enterprise  Este archivo implementa un sistema de logging robusto y escalable basado en Winston que proporciona: - Logging unificado para toda la aplicaci√≥n - M√∫ltiples niveles de log (error, warn, info, debug, verbose) - Transportes configurables (consola, archivos) - Rotaci√≥n autom√°tica de archivos de log - Contexto espec√≠fico por m√≥dulo - Middleware para logging de requests HTTP - Manejo centralizado de errores <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0<br><strong>@since:</strong> 2024 /  import winston from 'winston'; import path from 'path'; import fs from 'fs-extra'; import { LOGGING_CONFIG } from '../../../config/environments/index.js';  // Asegurar que el directorio de logs existe const logsDir = path.dirname(LOGGING_CONFIG.FILE); // Usar sync para evitar problemas con await en top-level fs.ensureDirSync(logsDir);  /** Formato personalizado para los logs  Combina timestamp, manejo de errores y formato personalizado para crear logs legibles y estructurados. <br><strong>@constant:</strong> {winston.Format} customFormat / const customFormat = winston.format.combine( winston.format.timestamp({ format: 'YYYY-MM-DD HH:mm:ss' }), winston.format.errors({ stack: true }), winston.format.printf(({ level, message, timestamp, stack, ...meta }) => { let log = `${timestamp} [${level.toUpperCase()}]: ${message}`;  // Agregar stack trace si existe if (stack) { log += `\n${stack}`; }  // Agregar metadata si existe if (Object.keys(meta).length > 0) { log += `\n${JSON.stringify(meta, null, 2)}`; }  return log; }) );  /** Configuraci√≥n de transportes / const transports = [];  // Transporte de consola if (LOGGING_CONFIG.CONSOLE) { transports.push( new winston.transports.Console({ format: winston.format.combine( winston.format.colorize(), customFormat ) }) ); }  // Transporte de archivo if (LOGGING_CONFIG.FILE_LOGGING) { transports.push( new winston.transports.File({ filename: LOGGING_CONFIG.FILE, format: customFormat, maxsize: LOGGING_CONFIG.MAX_SIZE, maxFiles: LOGGING_CONFIG.MAX_FILES, tailable: true }) );  // Archivo separado para errores transports.push( new winston.transports.File({ filename: path.join(logsDir, 'error.log'), level: 'error', format: customFormat, maxsize: LOGGING_CONFIG.MAX_SIZE, maxFiles: LOGGING_CONFIG.MAX_FILES, tailable: true }) ); }  /** Logger principal de Winston  Instancia configurada de Winston con todos los transportes y formatos definidos seg√∫n la configuraci√≥n del sistema. , {winston.Logger} logger / const logger = winston.createLogger({ level: LOGGING_CONFIG.LEVEL, format: customFormat, transports, exitOnError: false });  /** Wrapper para logging con contexto espec√≠fico  Proporciona una interfaz simplificada para logging que autom√°ticamente incluye el contexto del m√≥dulo en todos los mensajes de log, facilitando el debugging y monitoreo. <br><strong>@class:</strong> ContextLogger<br><strong>@example:</strong>  ```javascript const logger = new ContextLogger('AUTH'); logger.info('Usuario autenticado', { userId: 123 }); logger.error('Error de autenticaci√≥n', error, { attempt: 3 }); ``` 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">APIManager</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Gestor de APIs para integraciones con servicios externos Maneja autenticaci√≥n, rate limiting, caching y manejo de errores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">IntegrationManager</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Gestor de integraciones que coordina APIs y webhooks Proporciona una interfaz unificada para todas las integraciones externas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">WebhookManager</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Gestor de webhooks para manejar webhooks entrantes y salientes Incluye validaci√≥n, autenticaci√≥n, procesamiento de eventos y delivery</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">IntegrationUtils</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/index.js</div>
                <div class="item-description">Configuraci√≥n por defecto para el sistema de integraciones / const DEFAULT_INTEGRATION_CONFIG = { // Configuraci√≥n general enabled: true, maxIntegrations: 500, // Configuraci√≥n de APIs apis: { enabled: true, config: { enabled: true, maxConnections: 100, defaultTimeout: 30000, auth: { enabled: true, types: ['bearer', 'basic', 'apikey', 'oauth2', 'custom'], storage: 'memory', encryption: false, tokenRefresh: true }, rateLimit: { enabled: true, defaultLimit: 1000, window: 3600000, strategy: 'sliding-window', storage: 'memory' }, cache: { enabled: true, defaultTTL: 300000, maxSize: 1000, compression: false }, retry: { enabled: true, maxAttempts: 3, baseDelay: 1000, maxDelay: 30000, statusCodes: [408, 429, 500, 502, 503, 504] }, circuitBreaker: { enabled: true, failureThreshold: 5, resetTimeout: 60000, monitoringPeriod: 10000 }, logging: { enabled: true, level: 'info', includeHeaders: false, includeBody: false, maxBodySize: 1024 }, metrics: { enabled: true, retention: 86400000, aggregation: true } } }, // Configuraci√≥n de webhooks webhooks: { enabled: true, config: { server: { enabled: true, port: 3001, host: '0.0.0.0', basePath: '/webhooks', maxPayloadSize: '10mb', timeout: 30000, cors: { enabled: true, origin: '*', methods: ['GET', 'POST', 'PUT', 'DELETE'], headers: ['Content-Type', 'Authorization', 'X-Webhook-Signature'] }, helmet: { enabled: true, contentSecurityPolicy: false } }, security: { signature: { enabled: true, algorithm: 'sha256', header: 'X-Webhook-Signature', timestampTolerance: 300000 }, ipWhitelist: { enabled: false, ips: [] }, userAgentWhitelist: { enabled: false, agents: [] } }, delivery: { timeout: 30000, maxRetries: 3, retryBackoff: 'exponential', batchSize: 10, maxConcurrency: 5 }, events: { maxHistory: 10000, retention: 86400000, compression: false }, rateLimit: { enabled: true, window: 60000, maxRequests: 100 }, logging: { enabled: true, level: 'info', includePayload: false, maxPayloadSize: 1024 }, metrics: { enabled: true, retention: 86400000, aggregation: true } } }, // Configuraci√≥n de sincronizaci√≥n sync: { enabled: true, interval: 300000, batchSize: 50, maxRetries: 3 }, // Configuraci√≥n de mapeo mapping: { enabled: true, defaultMappings: {}, transformers: [] }, // Configuraci√≥n de eventos events: { enabled: true, maxHistory: 10000, retention: 86400000, propagation: true }, // Configuraci√≥n de monitoreo monitoring: { enabled: true, healthCheckInterval: 60000, alertThresholds: { errorRate: 0.1, responseTime: 5000, availability: 0.95 } }, // Configuraci√≥n de cach√© cache: { enabled: true, ttl: 300000, maxSize: 1000 }, // Configuraci√≥n de logging logging: { enabled: true, level: 'info', maxLogs: 10000 }, // Configuraci√≥n de m√©tricas metrics: { enabled: true, retention: 86400000, aggregation: true } }; /** Constantes del sistema de integraciones / const INTEGRATION_CONSTANTS = { // Tipos de integraci√≥n INTEGRATION_TYPES: { API: 'api', WEBHOOK: 'webhook', HYBRID: 'hybrid' }, // Estados de integraci√≥n INTEGRATION_STATUS: { INACTIVE: 'inactive', ACTIVE: 'active', ERROR: 'error', SUSPENDED: 'suspended' }, // Direcciones de sincronizaci√≥n SYNC_DIRECTIONS: { INBOUND: 'inbound', OUTBOUND: 'outbound', BIDIRECTIONAL: 'bidirectional' }, // Estados de trabajos de sincronizaci√≥n SYNC_JOB_STATUS: { PENDING: 'pending', RUNNING: 'running', COMPLETED: 'completed', FAILED: 'failed', CANCELLED: 'cancelled' }, // Tipos de eventos EVENT_TYPES: { INTEGRATION_REGISTERED: 'integration.registered', INTEGRATION_ACTIVATED: 'integration.activated', INTEGRATION_DEACTIVATED: 'integration.deactivated', INTEGRATION_UPDATED: 'integration.updated', INTEGRATION_DELETED: 'integration.deleted', REQUEST_COMPLETED: 'integration.request.completed', REQUEST_FAILED: 'integration.request.failed', EVENT_SENT: 'integration.event.sent', EVENT_FAILED: 'integration.event.failed', WEBHOOK_RECEIVED: 'integration.webhook.received', SYNC_STARTED: 'integration.sync.started', SYNC_COMPLETED: 'integration.sync.completed', SYNC_FAILED: 'integration.sync.failed', HEALTH_CHECK_COMPLETED: 'integration.health.completed', METRICS_UPDATE: 'integration.metrics.update' }, // M√©todos HTTP HTTP_METHODS: { GET: 'GET', POST: 'POST', PUT: 'PUT', PATCH: 'PATCH', DELETE: 'DELETE', HEAD: 'HEAD', OPTIONS: 'OPTIONS' }, // Tipos de autenticaci√≥n AUTH_TYPES: { BEARER: 'bearer', BASIC: 'basic', API_KEY: 'apikey', OAUTH2: 'oauth2', CUSTOM: 'custom' }, // Algoritmos de firma SIGNATURE_ALGORITHMS: { SHA256: 'sha256', SHA1: 'sha1', MD5: 'md5' }, // Estrategias de rate limiting RATE_LIMIT_STRATEGIES: { FIXED_WINDOW: 'fixed-window', SLIDING_WINDOW: 'sliding-window', TOKEN_BUCKET: 'token-bucket' }, // Tipos de transformaci√≥n TRANSFORM_TYPES: { FORMAT: 'format', CONVERT: 'convert', DEFAULT: 'default', CUSTOM: 'custom' }, // Formatos de datos DATA_FORMATS: { JSON: 'json', XML: 'xml', FORM: 'form', TEXT: 'text', BINARY: 'binary' } }; /** Utilidades para el sistema de integraciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">Logger</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/logger.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Core Logger Service Sistema de logging centralizado para el chatbot empresarial <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 6.0.0<br><strong>@since:</strong> 1.0.0 /  import winston from 'winston'; import path from 'path'; import fs from 'fs/promises';  /** Configuraci√≥n del logger / const LOG_LEVELS = { error: 0, warn: 1, info: 2, http: 3, verbose: 4, debug: 5, silly: 6 };  const LOG_COLORS = { error: 'red', warn: 'yellow', info: 'green', http: 'magenta', verbose: 'grey', debug: 'white', silly: 'rainbow' };  /** Clase Logger centralizada 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">NotificationManager</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationManager.js</div>
                <div class="item-description">Gestor principal de notificaciones Coordina el env√≠o de notificaciones a trav√©s de m√∫ltiples canales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">NotificationScheduler</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationScheduler.js</div>
                <div class="item-description">Programador de notificaciones Maneja env√≠os diferidos, recurrentes y basados en eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">TemplateEngine</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/TemplateEngine.js</div>
                <div class="item-description">Motor de plantillas para notificaciones Soporta m√∫ltiples formatos y localizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">NotificationUtils</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/index.js</div>
                <div class="item-description">Configuraci√≥n por defecto del sistema de notificaciones / const DEFAULT_NOTIFICATION_CONFIG = { // Configuraci√≥n general enabled: true, environment: process.env.NODE_ENV || 'development', debug: process.env.NODE_ENV !== 'production', // Configuraci√≥n del gestor de notificaciones manager: { maxConcurrentNotifications: 100, defaultPriority: 'medium', enableBatching: true, batchSize: 50, batchTimeout: 5000, enableRetries: true, maxRetries: 3, retryDelay: 1000, enableDeduplication: true, deduplicationWindow: 300000, // 5 minutos enableRateLimiting: true, globalRateLimit: { maxPerSecond: 10, maxPerMinute: 500, maxPerHour: 5000 } }, // Configuraci√≥n de canales channels: { email: { enabled: true, priority: 1, provider: 'EmailProvider', config: { smtp: { host: process.env.SMTP_HOST || 'localhost', port: parseInt(process.env.SMTP_PORT) || 587, secure: process.env.SMTP_SECURE === 'true', auth: { user: process.env.SMTP_USER || '', pass: process.env.SMTP_PASS || '' } }, from: { name: process.env.EMAIL_FROM_NAME || 'Notification System', address: process.env.EMAIL_FROM_ADDRESS || 'noreply@example.com' } } }, sms: { enabled: false, priority: 2, provider: 'SMSProvider', config: { service: 'twilio', twilio: { accountSid: process.env.TWILIO_ACCOUNT_SID || '', authToken: process.env.TWILIO_AUTH_TOKEN || '', from: process.env.TWILIO_FROM_NUMBER || '' } } }, push: { enabled: false, priority: 3, provider: 'PushProvider', config: { fcm: { enabled: true, serverKey: process.env.FCM_SERVER_KEY || '', projectId: process.env.FCM_PROJECT_ID || '' }, apns: { enabled: false, keyId: process.env.APNS_KEY_ID || '', teamId: process.env.APNS_TEAM_ID || '', bundleId: process.env.APNS_BUNDLE_ID || '' } } }, webhook: { enabled: false, priority: 4, provider: 'WebhookProvider', config: { webhooks: { default: { url: process.env.WEBHOOK_URL || '', method: 'POST', auth: { type: 'bearer', token: process.env.WEBHOOK_TOKEN || '' } } } } }, slack: { enabled: false, priority: 5, provider: 'SlackProvider', config: { slack: { botToken: process.env.SLACK_BOT_TOKEN || '', webhookUrl: process.env.SLACK_WEBHOOK_URL || '' }, channels: { default: '#general', alerts: '#alerts', notifications: '#notifications' } } } }, // Configuraci√≥n del motor de plantillas templates: { engine: 'handlebars', directory: './templates', cache: { enabled: true, maxSize: 100, ttl: 3600000 // 1 hora }, localization: { enabled: false, defaultLocale: 'en', directory: './locales' }, formats: ['html', 'text', 'markdown'], helpers: { builtin: true, custom: {} } }, // Configuraci√≥n del programador scheduler: { enabled: true, timezone: process.env.TZ || 'UTC', persistence: { type: 'memory', file: './data/scheduled-jobs.json' }, execution: { maxConcurrency: 10, maxRetries: 3, timeout: 30000 }, cron: { precision: 'second', maxJobs: 1000 } }, // Configuraci√≥n de colas queues: { type: 'memory', // memory, redis, database maxSize: 10000, priority: { enabled: true, levels: ['low', 'medium', 'high', 'urgent'] }, persistence: { enabled: false, interval: 60000 }, workers: { count: 5, concurrency: 10 } }, // Configuraci√≥n de filtros filters: { duplicates: { enabled: true, window: 300000, // 5 minutos fields: ['recipient', 'title', 'message'] }, rateLimit: { enabled: true, perRecipient: { maxPerMinute: 10, maxPerHour: 100, maxPerDay: 500 } }, blacklist: { enabled: false, recipients: [], domains: [] } }, // Configuraci√≥n de tracking tracking: { enabled: true, delivery: { enabled: true, timeout: 300000 // 5 minutos }, opens: { enabled: false, trackingPixel: true }, clicks: { enabled: false, trackingLinks: true }, bounces: { enabled: true, handleBounces: true }, complaints: { enabled: true, handleComplaints: true }, unsubscribes: { enabled: false, handleUnsubscribes: true } }, // Configuraci√≥n de analytics analytics: { enabled: true, retention: { events: 30, // d√≠as metrics: 90, // d√≠as reports: 365 // d√≠as }, aggregation: { enabled: true, intervals: ['hour', 'day', 'week', 'month'] }, metrics: { delivery: true, engagement: true, performance: true, errors: true } } }; /** Utilidades del sistema de notificaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">EmailProvider</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/EmailProvider.js</div>
                <div class="item-description">Proveedor de notificaciones por email Soporta m√∫ltiples servicios SMTP y plantillas HTML/texto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">PushProvider</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/PushProvider.js</div>
                <div class="item-description">Proveedor de notificaciones push Soporta FCM (Firebase Cloud Messaging) y APNs (Apple Push Notification service)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">SMSProvider</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/SMSProvider.js</div>
                <div class="item-description">Proveedor de notificaciones por SMS Soporta m√∫ltiples servicios como Twilio, AWS SNS, etc.</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">SlackProvider</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/SlackProvider.js</div>
                <div class="item-description">Proveedor de notificaciones para Slack Env√≠a notificaciones a canales de Slack y mensajes directos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">WebhookProvider</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/WebhookProvider.js</div>
                <div class="item-description">Proveedor de notificaciones webhook Env√≠a notificaciones a URLs externas mediante HTTP/HTTPS</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ErrorClassificationService</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/error/classification/ErrorClassificationService.js</div>
                <div class="item-description">ErrorClassificationService - Servicio de clasificaci√≥n inteligente de errores Funcionalidades: - Clasificaci√≥n autom√°tica de errores por severidad - Categorizaci√≥n contextual - An√°lisis sem√°ntico de mensajes - Filtrado inteligente de duplicados - Etiquetado autom√°tico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ErrorLearningSystem</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/error/learning/ErrorLearningSystem.js</div>
                <div class="item-description">ErrorLearningSystem - Sistema de aprendizaje inteligente de errores Funcionalidades: - Aprendizaje de contextos de errores - Identificaci√≥n de patrones evolutivos - Adaptaci√≥n de umbrales y configuraciones - Mejora continua de clasificaci√≥n - Optimizaci√≥n de estrategias de recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ContextLearner</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/error/learning/ErrorLearningSystem.js</div>
                <div class="item-description">Inicializar sistema de aprendizaje / async initialize() { console.log('üß† Inicializando sistema de aprendizaje de errores...'); try { // Cargar base de conocimiento existente await this.loadKnowledgeBase(); // Inicializar modelos de aprendizaje await this.initializeLearningModels(); console.log('‚úÖ Sistema de aprendizaje inicializado correctamente'); } catch (error) { console.error('‚ùå Error inicializando sistema de aprendizaje:', error); throw error; } } /** Cargar base de conocimiento / async loadKnowledgeBase() { // En implementaci√≥n real, cargar desde persistencia console.log('üìö Cargando base de conocimiento...'); // Simular carga de datos this.knowledgeBase.errorContexts.clear(); this.knowledgeBase.patternLibrary.clear(); console.log(`üìñ Base de conocimiento cargada: ${this.knowledgeBase.errorContexts.size} contextos`); } /** Inicializar modelos de aprendizaje / async initializeLearningModels() { // Configurar modelos de aprendizaje espec√≠ficos this.contextLearner = new ContextLearner(this.config); this.patternLearner = new PatternLearner(this.config); this.thresholdAdapter = new ThresholdAdapter(this.config); this.strategyOptimizer = new StrategyOptimizer(this.config); await this.contextLearner.initialize(); await this.patternLearner.initialize(); await this.thresholdAdapter.initialize(); await this.strategyOptimizer.initialize(); } /** Aprender de nuevo error / async learnFromError(errorData, context = {}) { if (!this.config.learningEnabled) return; try { this.isLearning = true; // Agregar muestra de aprendizaje await this.addLearningSample(errorData, context); // Aprender contextos await this.learnErrorContext(errorData, context); // Aprender patrones await this.learnErrorPatterns(errorData); // Adaptar umbrales si es necesario await this.adaptThresholds(errorData); // Optimizar estrategias de recuperaci√≥n await this.optimizeRecoveryStrategies(errorData, context); // Actualizar m√©tricas this.updateLearningMetrics(); this.isLearning = false; } catch (error) { console.error('Error en proceso de aprendizaje:', error); this.isLearning = false; } } /** Agregar muestra de aprendizaje / async addLearningSample(errorData, context) { const sample = { timestamp: Date.now(), error: { module: errorData.module, severity: errorData.severity, message: errorData.message, category: errorData.metadata?.category || 'unknown' }, context: { systemLoad: context.systemLoad || 0, memoryUsage: context.memoryUsage || 0, activeConnections: context.activeConnections || 0, timeOfDay: new Date().getHours(), dayOfWeek: new Date().getDay(), ...context }, features: this.extractLearningFeatures(errorData, context) }; this.learningData.errorSamples.push(sample); // Mantener l√≠mite de muestras if (this.learningData.errorSamples.length > this.config.maxLearningData) { this.learningData.errorSamples = this.learningData.errorSamples.slice(-500); } this.learningMetrics.totalSamples++; } /** Aprender contextos de errores / async learnErrorContext(errorData, context) { const contextKey = this.generateContextKey(errorData); if (!this.knowledgeBase.errorContexts.has(contextKey)) { this.knowledgeBase.errorContexts.set(contextKey, { samples: [], patterns: {}, confidence: 0, lastUpdate: Date.now() }); } const contextData = this.knowledgeBase.errorContexts.get(contextKey); contextData.samples.push({ timestamp: Date.now(), context, severity: errorData.severity }); // Mantener solo muestras recientes const cutoff = Date.now() - this.config.contextWindow; contextData.samples = contextData.samples.filter(sample => sample.timestamp > cutoff ); // Analizar patrones de contexto if (contextData.samples.length >= this.config.minSamplesForLearning) { await this.analyzeContextPatterns(contextKey, contextData); } } /** Analizar patrones de contexto / async analyzeContextPatterns(contextKey, contextData) { const patterns = {}; // Analizar correlaciones de contexto const contextKeys = Object.keys(contextData.samples[0]?.context || {}); for (const key of contextKeys) { if (typeof contextData.samples[0].context[key] === 'number') { patterns[key] = this.analyzeNumericPattern(contextData.samples, key); } else { patterns[key] = this.analyzeCategoricalPattern(contextData.samples, key); } } // Actualizar patrones en la base de conocimiento contextData.patterns = patterns; contextData.confidence = this.calculateContextConfidence(contextData.samples); contextData.lastUpdate = Date.now(); console.log(`üß† Patrones de contexto actualizados para ${contextKey}: confianza ${(contextData.confidence * 100).toFixed(1)}%`); } /** Analizar patr√≥n num√©rico / analyzeNumericPattern(samples, key) { const values = samples.map(s => s.context[key]).filter(v => v !== undefined); if (values.length === 0) return null; const mean = values.reduce((sum, val) => sum + val, 0) / values.length; const variance = values.reduce((sum, val) => sum + Math.pow(val - mean, 2), 0) / values.length; const stdDev = Math.sqrt(variance); return { type: 'numeric', mean, stdDev, min: Math.min(...values), max: Math.max(...values), threshold: mean + (2 * stdDev) // Umbral de anomal√≠a }; } /** Analizar patr√≥n categ√≥rico / analyzeCategoricalPattern(samples, key) { const values = samples.map(s => s.context[key]).filter(v => v !== undefined); const frequency = {}; values.forEach(value => { frequency[value] = (frequency[value] || 0) + 1; }); const total = values.length; const distribution = {}; Object.entries(frequency).forEach(([value, count]) => { distribution[value] = count / total; }); return { type: 'categorical', distribution, mostCommon: Object.entries(frequency).sort(([,a], [,b]) => b - a)[0]?.[0], entropy: this.calculateEntropy(distribution) }; } /** Calcular entrop√≠a / calculateEntropy(distribution) { return -Object.values(distribution).reduce((entropy, prob) => { return entropy + (prob > 0 ? prob * Math.log2(prob) : 0); }, 0); } /** Calcular confianza del contexto / calculateContextConfidence(samples) { const sampleCount = samples.length; const timeSpan = samples[samples.length - 1].timestamp - samples[0].timestamp; const consistency = this.calculateConsistency(samples); // Confianza basada en cantidad de muestras, tiempo y consistencia const sampleFactor = Math.min(sampleCount / 50, 1); const timeFactor = Math.min(timeSpan / (24 * 3600000), 1); // normalizar a d√≠as return (sampleFactor * 0.4 + timeFactor * 0.3 + consistency * 0.3); } /** Calcular consistencia de muestras / calculateConsistency(samples) { if (samples.length < 2) return 0; // Calcular variabilidad en severidad const severities = samples.map(s => s.severity); const severityVariability = new Set(severities).size / severities.length; return 1 - severityVariability; // Menos variabilidad = m√°s consistencia } /** Aprender patrones de errores / async learnErrorPatterns(errorData) { const patternKey = `${errorData.module}_${errorData.severity}`; if (!this.knowledgeBase.patternLibrary.has(patternKey)) { this.knowledgeBase.patternLibrary.set(patternKey, { occurrences: [], frequency: 0, temporalPattern: null, confidence: 0 }); } const pattern = this.knowledgeBase.patternLibrary.get(patternKey); pattern.occurrences.push(Date.now()); pattern.frequency++; // Mantener solo ocurrencias recientes const cutoff = Date.now() - (24 * 3600000); // 24 horas pattern.occurrences = pattern.occurrences.filter(time => time > cutoff); // Analizar patr√≥n temporal if (pattern.occurrences.length >= this.config.minSamplesForLearning) { pattern.temporalPattern = this.analyzeTemporalPattern(pattern.occurrences); pattern.confidence = Math.min(pattern.occurrences.length / 100, 1); this.learningMetrics.patternsLearned++; console.log(`üîç Patr√≥n temporal aprendido para ${patternKey}`); } } /** Analizar patr√≥n temporal / analyzeTemporalPattern(occurrences) { if (occurrences.length < 3) return null; // Calcular intervalos entre ocurrencias const intervals = []; for (let i = 1; i < occurrences.length; i++) { intervals.push(occurrences[i] - occurrences[i-1]); } const avgInterval = intervals.reduce((sum, interval) => sum + interval, 0) / intervals.length; const variance = intervals.reduce((sum, interval) => sum + Math.pow(interval - avgInterval, 2), 0) / intervals.length; // Detectar periodicidad const periodicity = this.detectPeriodicity(occurrences); return { averageInterval: avgInterval, variance, periodicity, predictedNext: occurrences[occurrences.length - 1] + avgInterval }; } /** Detectar periodicidad / detectPeriodicity(occurrences) { // An√°lisis simple de periodicidad por hora del d√≠a const hours = occurrences.map(time => new Date(time).getHours()); const hourFrequency = {}; hours.forEach(hour => { hourFrequency[hour] = (hourFrequency[hour] || 0) + 1; }); const maxFreq = Math.max(...Object.values(hourFrequency)); const peakHours = Object.entries(hourFrequency) .filter(([, freq]) => freq === maxFreq) .map(([hour]) => parseInt(hour)); return { type: 'hourly', peakHours, strength: maxFreq / hours.length }; } /** Adaptar umbrales / async adaptThresholds(errorData) { const moduleKey = errorData.module; const recentErrors = this.getRecentErrorsForModule(moduleKey); if (recentErrors.length < this.config.minSamplesForLearning) return; const currentThreshold = this.knowledgeBase.adaptiveThresholds.get(moduleKey) || { errorRate: 10, // errores por hora severity: 'warning', confidence: 0 }; // Calcular nueva tasa de errores const timeWindow = 3600000; // 1 hora const errorRate = recentErrors.length / (timeWindow / 3600000); // Adaptar umbral basado en tendencia const adaptation = this.calculateThresholdAdaptation(currentThreshold, errorRate, recentErrors); if (adaptation.shouldAdapt) { currentThreshold.errorRate = adaptation.newThreshold; currentThreshold.confidence = adaptation.confidence; this.knowledgeBase.adaptiveThresholds.set(moduleKey, currentThreshold); this.learningMetrics.adaptationsApplied++; console.log(`‚öôÔ∏è Umbral adaptado para ${moduleKey}: ${adaptation.newThreshold.toFixed(1)} errores/hora`); } } /** Calcular adaptaci√≥n de umbral / calculateThresholdAdaptation(currentThreshold, observedRate, recentErrors) { const rateDifference = Math.abs(observedRate - currentThreshold.errorRate); const adaptationThreshold = currentThreshold.errorRate * 0.3; // 30% de diferencia if (rateDifference > adaptationThreshold) { // Adaptar gradualmente hacia la tasa observada const adaptationRate = this.config.learningRate; const newThreshold = currentThreshold.errorRate + (observedRate - currentThreshold.errorRate) * adaptationRate; return { shouldAdapt: true, newThreshold, confidence: Math.min(recentErrors.length / 50, 1) }; } return { shouldAdapt: false }; } /** Optimizar estrategias de recuperaci√≥n / async optimizeRecoveryStrategies(errorData, context) { const strategyKey = `${errorData.module}_${errorData.severity}`; if (!this.knowledgeBase.recoveryStrategies.has(strategyKey)) { this.knowledgeBase.recoveryStrategies.set(strategyKey, { strategies: new Map(), bestStrategy: null, successRate: 0 }); } const recoveryData = this.knowledgeBase.recoveryStrategies.get(strategyKey); // Si hay informaci√≥n de recuperaci√≥n en el contexto if (context.recoveryAttempt) { const strategy = context.recoveryAttempt.strategy; const success = context.recoveryAttempt.success; if (!recoveryData.strategies.has(strategy)) { recoveryData.strategies.set(strategy, { attempts: 0, successes: 0, successRate: 0 }); } const strategyStats = recoveryData.strategies.get(strategy); strategyStats.attempts++; if (success) { strategyStats.successes++; } strategyStats.successRate = strategyStats.successes / strategyStats.attempts; // Actualizar mejor estrategia this.updateBestStrategy(recoveryData); } } /** Actualizar mejor estrategia / updateBestStrategy(recoveryData) { let bestStrategy = null; let bestRate = 0; for (const [strategy, stats] of recoveryData.strategies) { if (stats.attempts >= 3 && stats.successRate > bestRate) { bestStrategy = strategy; bestRate = stats.successRate; } } if (bestStrategy) { recoveryData.bestStrategy = bestStrategy; recoveryData.successRate = bestRate; } } /** Obtener errores recientes para m√≥dulo / getRecentErrorsForModule(module) { const cutoff = Date.now() - 3600000; // 1 hora return this.learningData.errorSamples.filter(sample => sample.error.module === module && sample.timestamp > cutoff ); } /** Extraer caracter√≠sticas de aprendizaje / extractLearningFeatures(errorData, context) { return { messageLength: errorData.message.length, hasStackTrace: !!(errorData.stack), moduleDepth: (errorData.module || '').split('/').length, timeOfDay: new Date().getHours(), dayOfWeek: new Date().getDay(), contextSize: Object.keys(context).length, numericContexts: Object.values(context).filter(v => typeof v === 'number').length }; } /** Generar clave de contexto / generateContextKey(errorData) { return `${errorData.module}_${errorData.severity}_${errorData.metadata?.category || 'unknown'}`; } /** Actualizar m√©tricas de aprendizaje / updateLearningMetrics() { this.learningMetrics.lastLearningSession = Date.now(); // Calcular eficiencia de aprendizaje const totalPatterns = this.knowledgeBase.patternLibrary.size; const totalContexts = this.knowledgeBase.errorContexts.size; this.learningMetrics.learningEfficiency = (this.learningMetrics.patternsLearned + totalContexts) / Math.max(this.learningMetrics.totalSamples, 1); } /** Obtener recomendaciones basadas en aprendizaje / getRecommendations(errorData) { const recommendations = []; // Recomendaciones de contexto const contextKey = this.generateContextKey(errorData); const contextData = this.knowledgeBase.errorContexts.get(contextKey); if (contextData && contextData.confidence > 0.7) { recommendations.push({ type: 'context', message: `Patr√≥n de contexto conocido detectado (confianza: ${(contextData.confidence * 100).toFixed(1)}%)`, patterns: contextData.patterns }); } // Recomendaciones de recuperaci√≥n const strategyKey = `${errorData.module}_${errorData.severity}`; const recoveryData = this.knowledgeBase.recoveryStrategies.get(strategyKey); if (recoveryData && recoveryData.bestStrategy) { recommendations.push({ type: 'recovery', message: `Estrategia de recuperaci√≥n recomendada: ${recoveryData.bestStrategy}`, strategy: recoveryData.bestStrategy, successRate: recoveryData.successRate }); } // Recomendaciones de umbral const thresholdData = this.knowledgeBase.adaptiveThresholds.get(errorData.module); if (thresholdData && thresholdData.confidence > 0.6) { recommendations.push({ type: 'threshold', message: `Umbral adaptativo sugerido: ${thresholdData.errorRate.toFixed(1)} errores/hora`, threshold: thresholdData.errorRate }); } return recommendations; } /** Obtener estad√≠sticas de aprendizaje / getLearningStats() { return { ...this.learningMetrics, knowledgeBase: { contexts: this.knowledgeBase.errorContexts.size, patterns: this.knowledgeBase.patternLibrary.size, thresholds: this.knowledgeBase.adaptiveThresholds.size, strategies: this.knowledgeBase.recoveryStrategies.size }, recentSamples: this.learningData.errorSamples.slice(-10), isLearning: this.isLearning }; } /** Limpiar datos de aprendizaje / cleanup() { this.learningData.errorSamples = []; this.learningData.contextCorrelations.clear(); this.learningData.temporalPatterns.clear(); this.adaptationHistory = []; } } /** Clases auxiliares para aprendizaje especializado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ErrorMetricsCollector</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/error/metrics/ErrorMetricsCollector.js</div>
                <div class="item-description">ErrorMetricsCollector - Recolector de m√©tricas y estad√≠sticas de errores Funcionalidades: - Recolecci√≥n de m√©tricas en tiempo real - Agregaci√≥n de estad√≠sticas por m√≥dulo, severidad y tiempo - C√°lculo de tendencias y anomal√≠as - Generaci√≥n de reportes autom√°ticos - Alertas basadas en m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ErrorPatternAnalyzer</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/error/patterns/ErrorPatternAnalyzer.js</div>
                <div class="item-description">ErrorPatternAnalyzer - Analizador de patrones y correlaciones de errores Funcionalidades: - Detecci√≥n de patrones de errores - An√°lisis de correlaciones - Detecci√≥n de anomal√≠as - An√°lisis de tendencias - Predicci√≥n de patrones futuros</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ErrorPredictionEngine</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/error/prediction/ErrorPredictionEngine.js</div>
                <div class="item-description">ErrorPredictionEngine - Motor de predicci√≥n de fallos inteligente Funcionalidades: - Predicci√≥n de errores basada en patrones hist√≥ricos - An√°lisis de tendencias y anomal√≠as - Alertas tempranas de posibles fallos - Modelos de machine learning simples - Predicci√≥n de cascadas de errores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">TemporalPredictionModel</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/error/prediction/ErrorPredictionEngine.js</div>
                <div class="item-description">Inicializar motor de predicci√≥n / async initialize() { console.log('üîÆ Inicializando motor de predicci√≥n de errores...'); try { // Inicializar modelos await this.initializePredictionModels(); // Cargar datos hist√≥ricos si existen await this.loadHistoricalData(); this.isActive = true; console.log('‚úÖ Motor de predicci√≥n inicializado correctamente'); } catch (error) { console.error('‚ùå Error inicializando motor de predicci√≥n:', error); throw error; } } /** Inicializar modelos de predicci√≥n / async initializePredictionModels() { for (const [name, model] of Object.entries(this.predictionModels)) { try { await model.initialize(this.config); console.log(`‚úÖ Modelo ${name} inicializado`); } catch (error) { console.error(`‚ùå Error inicializando modelo ${name}:`, error); } } } /** Cargar datos hist√≥ricos / async loadHistoricalData() { // En implementaci√≥n real, cargar desde base de datos o archivo console.log('üìä Cargando datos hist√≥ricos para predicci√≥n...'); // Simular carga de datos hist√≥ricos this.historicalData = []; this.errorSequences = []; console.log(`üìà ${this.historicalData.length} registros hist√≥ricos cargados`); } /** Procesar nuevo error para predicci√≥n / async processErrorForPrediction(errorData) { if (!this.isActive || !this.config.predictionEnabled) return; try { // Agregar a datos hist√≥ricos this.addToHistoricalData(errorData); // Actualizar secuencias de errores this.updateErrorSequences(errorData); // Generar predicciones const predictions = await this.generatePredictions(errorData); // Procesar predicciones await this.processPredictions(predictions); // Limpiar predicciones expiradas this.cleanupExpiredPredictions(); } catch (error) { console.error('Error procesando error para predicci√≥n:', error); } } /** Agregar error a datos hist√≥ricos / addToHistoricalData(errorData) { const dataPoint = { timestamp: Date.now(), module: errorData.module, severity: errorData.severity, category: errorData.metadata?.category || 'unknown', message: errorData.message, context: errorData.context || {}, hour: new Date().getHours(), dayOfWeek: new Date().getDay(), features: this.extractFeatures(errorData) }; this.historicalData.push(dataPoint); // Mantener solo los √∫ltimos 1000 registros if (this.historicalData.length > 1000) { this.historicalData = this.historicalData.slice(-500); } } /** Actualizar secuencias de errores / updateErrorSequences(errorData) { const now = Date.now(); const sequenceWindow = 300000; // 5 minutos // Encontrar secuencia activa o crear nueva let activeSequence = this.errorSequences.find(seq => now - seq.lastUpdate < sequenceWindow ); if (!activeSequence) { activeSequence = { id: this.generateSequenceId(), startTime: now, lastUpdate: now, errors: [], modules: new Set(), severities: new Set() }; this.errorSequences.push(activeSequence); } // Agregar error a la secuencia activeSequence.errors.push({ timestamp: now, module: errorData.module, severity: errorData.severity, message: errorData.message }); activeSequence.lastUpdate = now; activeSequence.modules.add(errorData.module); activeSequence.severities.add(errorData.severity); // Limpiar secuencias antiguas this.errorSequences = this.errorSequences.filter(seq => now - seq.lastUpdate < sequenceWindow * 2 ); } /** Generar predicciones / async generatePredictions(triggerError) { const predictions = []; try { // Predicci√≥n temporal const temporalPrediction = await this.predictionModels.temporal .predict(this.historicalData, triggerError); if (temporalPrediction) predictions.push(temporalPrediction); // Predicci√≥n por frecuencia const frequencyPrediction = await this.predictionModels.frequency .predict(this.historicalData, triggerError); if (frequencyPrediction) predictions.push(frequencyPrediction); // Predicci√≥n por patrones const patternPrediction = await this.predictionModels.pattern .predict(this.historicalData, triggerError); if (patternPrediction) predictions.push(patternPrediction); // Predicci√≥n de cascada const cascadePrediction = await this.predictionModels.cascade .predict(this.errorSequences, triggerError); if (cascadePrediction) predictions.push(cascadePrediction); } catch (error) { console.error('Error generando predicciones:', error); } return predictions; } /** Procesar predicciones generadas / async processPredictions(predictions) { for (const prediction of predictions) { // Validar predicci√≥n if (!this.validatePrediction(prediction)) continue; // Verificar si ya existe predicci√≥n similar const existingPrediction = this.findSimilarPrediction(prediction); if (existingPrediction) { this.updateExistingPrediction(existingPrediction, prediction); continue; } // Agregar nueva predicci√≥n this.activePredictions.push({ ...prediction, id: this.generatePredictionId(), createdAt: Date.now(), status: 'active', alerts: [] }); // Generar alerta si es necesario if (prediction.confidence >= this.config.alertThreshold) { await this.generateAlert(prediction); } console.log(`üîÆ Nueva predicci√≥n: ${prediction.type} - Confianza: ${(prediction.confidence * 100).toFixed(1)}%`); } // Mantener l√≠mite de predicciones activas if (this.activePredictions.length > this.config.maxPredictions) { this.activePredictions = this.activePredictions .sort((a, b) => b.confidence - a.confidence) .slice(0, this.config.maxPredictions); } } /** Validar predicci√≥n / validatePrediction(prediction) { return prediction && prediction.confidence >= this.config.confidenceThreshold && prediction.type && prediction.expectedTime && prediction.expectedTime > Date.now(); } /** Buscar predicci√≥n similar / findSimilarPrediction(newPrediction) { return this.activePredictions.find(existing => existing.type === newPrediction.type && existing.module === newPrediction.module && Math.abs(existing.expectedTime - newPrediction.expectedTime) < 300000 // 5 minutos ); } /** Actualizar predicci√≥n existente / updateExistingPrediction(existing, newPrediction) { // Promediar confianza existing.confidence = (existing.confidence + newPrediction.confidence) / 2; // Actualizar tiempo esperado existing.expectedTime = (existing.expectedTime + newPrediction.expectedTime) / 2; // Incrementar contador de refuerzos existing.reinforcements = (existing.reinforcements || 0) + 1; console.log(`üîÑ Predicci√≥n reforzada: ${existing.type} - Nueva confianza: ${(existing.confidence * 100).toFixed(1)}%`); } /** Generar alerta de predicci√≥n / async generateAlert(prediction) { const severity = this.calculateAlertSeverity(prediction.confidence); const timeToError = prediction.expectedTime - Date.now(); const alert = { id: this.generateAlertId(), timestamp: Date.now(), type: 'prediction', severity, prediction: prediction.type, module: prediction.module, confidence: prediction.confidence, timeToError, message: this.generateAlertMessage(prediction, timeToError) }; // Enviar alerta await this.sendAlert(alert); // Agregar alerta a la predicci√≥n const activePrediction = this.activePredictions.find(p => p.type === prediction.type && p.module === prediction.module ); if (activePrediction) { activePrediction.alerts.push(alert); } } /** Calcular severidad de alerta / calculateAlertSeverity(confidence) { if (confidence >= this.alertConfig.severityLevels.high.threshold) return 'high'; if (confidence >= this.alertConfig.severityLevels.medium.threshold) return 'medium'; return 'low'; } /** Generar mensaje de alerta / generateAlertMessage(prediction, timeToError) { const timeStr = this.formatTimeToError(timeToError); const confidenceStr = (prediction.confidence * 100).toFixed(1); return `üö® Predicci√≥n de error: ${prediction.type} en m√≥dulo ${prediction.module} ` + `en aproximadamente ${timeStr} (confianza: ${confidenceStr}%)`; } /** Formatear tiempo hasta error / formatTimeToError(timeMs) { const minutes = Math.floor(timeMs / 60000); const hours = Math.floor(minutes / 60); if (hours > 0) { return `${hours}h ${minutes % 60}m`; } else if (minutes > 0) { return `${minutes}m`; } else { return `${Math.floor(timeMs / 1000)}s`; } } /** Enviar alerta / async sendAlert(alert) { if (!this.alertConfig.enabled) return; for (const channel of this.alertConfig.channels) { try { await this.sendAlertToChannel(alert, channel); } catch (error) { console.error(`Error enviando alerta a ${channel}:`, error); } } } /** Enviar alerta a canal espec√≠fico / async sendAlertToChannel(alert, channel) { switch (channel) { case 'console': const color = this.alertConfig.severityLevels[alert.severity].color; console.log(`\x1b[33m${alert.message}\x1b[0m`); break; case 'log': // En implementaci√≥n real, escribir a archivo de log console.log(`[PREDICTION ALERT] ${alert.message}`); break; default: console.log(`Alerta: ${alert.message}`); } } /** Verificar predicciones cumplidas / async verifyPredictions(actualError) { const now = Date.now(); const verificationWindow = 600000; // 10 minutos for (const prediction of this.activePredictions) { if (prediction.status !== 'active') continue; // Verificar si la predicci√≥n se cumpli√≥ const timeDiff = Math.abs(now - prediction.expectedTime); const isMatch = this.isPredictionMatch(prediction, actualError); if (isMatch && timeDiff <= verificationWindow) { // Predicci√≥n correcta prediction.status = 'fulfilled'; prediction.actualTime = now; prediction.accuracy = 1 - (timeDiff / verificationWindow); this.updatePredictionMetrics(prediction, true); console.log(`‚úÖ Predicci√≥n cumplida: ${prediction.type} - Precisi√≥n: ${(prediction.accuracy * 100).toFixed(1)}%`); } else if (now > prediction.expectedTime + verificationWindow) { // Predicci√≥n expirada sin cumplirse prediction.status = 'expired'; this.updatePredictionMetrics(prediction, false); console.log(`‚ùå Predicci√≥n expirada: ${prediction.type}`); } } // Mover predicciones completadas al historial const completedPredictions = this.activePredictions.filter(p => p.status === 'fulfilled' || p.status === 'expired' ); this.predictionHistory.push(...completedPredictions); this.activePredictions = this.activePredictions.filter(p => p.status === 'active'); // Mantener historial limitado if (this.predictionHistory.length > 200) { this.predictionHistory = this.predictionHistory.slice(-100); } } /** Verificar si predicci√≥n coincide con error actual / isPredictionMatch(prediction, actualError) { return prediction.module === actualError.module && prediction.type === actualError.metadata?.category && prediction.severity === actualError.severity; } /** Actualizar m√©tricas de predicci√≥n / updatePredictionMetrics(prediction, wasAccurate) { this.predictionMetrics.totalPredictions++; if (wasAccurate) { this.predictionMetrics.accuratePredictions++; } else { this.predictionMetrics.falsePositives++; } // Calcular m√©tricas const total = this.predictionMetrics.totalPredictions; this.predictionMetrics.accuracy = this.predictionMetrics.accuratePredictions / total; this.predictionMetrics.precision = this.predictionMetrics.accuratePredictions / (this.predictionMetrics.accuratePredictions + this.predictionMetrics.falsePositives); this.predictionMetrics.lastUpdate = Date.now(); } /** Limpiar predicciones expiradas / cleanupExpiredPredictions() { const now = Date.now(); const maxAge = this.config.predictionWindow * 2; this.activePredictions = this.activePredictions.filter(prediction => now - prediction.createdAt < maxAge ); } /** Extraer caracter√≠sticas del error / extractFeatures(errorData) { return { messageLength: errorData.message.length, hasStackTrace: !!(errorData.stack), moduleDepth: (errorData.module || '').split('/').length, timeOfDay: new Date().getHours(), dayOfWeek: new Date().getDay(), hasMetadata: !!(errorData.metadata && Object.keys(errorData.metadata).length > 0) }; } /** Generar IDs √∫nicos / generatePredictionId() { return `pred_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`; } generateSequenceId() { return `seq_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`; } generateAlertId() { return `alert_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`; } /** Obtener estad√≠sticas de predicci√≥n / getPredictionStats() { return { ...this.predictionMetrics, activePredictions: this.activePredictions.length, historicalDataPoints: this.historicalData.length, errorSequences: this.errorSequences.length, recentPredictions: this.predictionHistory.slice(-10), topPredictionTypes: this.getTopPredictionTypes() }; } /** Obtener tipos de predicci√≥n m√°s comunes / getTopPredictionTypes() { const typeCounts = {}; this.predictionHistory.forEach(prediction => { typeCounts[prediction.type] = (typeCounts[prediction.type] || 0) + 1; }); return Object.entries(typeCounts) .sort(([,a], [,b]) => b - a) .slice(0, 5) .map(([type, count]) => ({ type, count })); } /** Limpiar datos del motor / cleanup() { this.historicalData = []; this.errorSequences = []; this.activePredictions = []; this.predictionHistory = []; this.predictionCache.clear(); } } /** Modelos de predicci√≥n especializados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ErrorRecoverySystem</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/services/error/recovery/ErrorRecoverySystem.js</div>
                <div class="item-description">ErrorRecoverySystem - Sistema de auto-recuperaci√≥n inteligente Funcionalidades: - Selecci√≥n autom√°tica de estrategias de recuperaci√≥n - Ejecuci√≥n de estrategias de recuperaci√≥n - Aprendizaje de estrategias exitosas - Escalamiento inteligente - Monitoreo de √©xito de recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ErrorManager</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/error_manager.js</div>
                <div class="item-description">Error Manager Service Gesti√≥n centralizada de errores del sistema / import { EventEmitter } from 'events'; /** Tipos de errores del sistema / export const ErrorTypes = { VALIDATION: 'VALIDATION_ERROR', AUTHENTICATION: 'AUTHENTICATION_ERROR', AUTHORIZATION: 'AUTHORIZATION_ERROR', NOT_FOUND: 'NOT_FOUND_ERROR', CONFLICT: 'CONFLICT_ERROR', RATE_LIMIT: 'RATE_LIMIT_ERROR', EXTERNAL_SERVICE: 'EXTERNAL_SERVICE_ERROR', DATABASE: 'DATABASE_ERROR', NETWORK: 'NETWORK_ERROR', TIMEOUT: 'TIMEOUT_ERROR', INTERNAL: 'INTERNAL_ERROR', CONFIGURATION: 'CONFIGURATION_ERROR', SECURITY: 'SECURITY_ERROR', BUSINESS_LOGIC: 'BUSINESS_LOGIC_ERROR' }; /** Severidad de errores / export const ErrorSeverity = { LOW: 'low', MEDIUM: 'medium', HIGH: 'high', CRITICAL: 'critical' }; /** Clase base para errores personalizados / export class BaseError extends Error { constructor(message, type = ErrorTypes.INTERNAL, severity = ErrorSeverity.MEDIUM, details = {}) { super(message); this.name = this.constructor.name; this.type = type; this.severity = severity; this.details = details; this.timestamp = new Date(); this.id = this.generateErrorId(); // Mantener stack trace if (Error.captureStackTrace) { Error.captureStackTrace(this, this.constructor); } } generateErrorId() { return `err_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`; } toJSON() { return { id: this.id, name: this.name, message: this.message, type: this.type, severity: this.severity, details: this.details, timestamp: this.timestamp, stack: this.stack }; } } /** Errores espec√≠ficos del sistema / export class ValidationError extends BaseError { constructor(message, field = null, value = null) { super(message, ErrorTypes.VALIDATION, ErrorSeverity.LOW, { field, value }); } } export class AuthenticationError extends BaseError { constructor(message = 'Authentication failed') { super(message, ErrorTypes.AUTHENTICATION, ErrorSeverity.HIGH); } } export class AuthorizationError extends BaseError { constructor(message = 'Access denied', resource = null, action = null) { super(message, ErrorTypes.AUTHORIZATION, ErrorSeverity.HIGH, { resource, action }); } } export class NotFoundError extends BaseError { constructor(message = 'Resource not found', resource = null, id = null) { super(message, ErrorTypes.NOT_FOUND, ErrorSeverity.LOW, { resource, id }); } } export class ConflictError extends BaseError { constructor(message = 'Resource conflict', resource = null) { super(message, ErrorTypes.CONFLICT, ErrorSeverity.MEDIUM, { resource }); } } export class RateLimitError extends BaseError { constructor(message = 'Rate limit exceeded', limit = null, window = null) { super(message, ErrorTypes.RATE_LIMIT, ErrorSeverity.MEDIUM, { limit, window }); } } export class ExternalServiceError extends BaseError { constructor(message, service = null, statusCode = null) { super(message, ErrorTypes.EXTERNAL_SERVICE, ErrorSeverity.HIGH, { service, statusCode }); } } export class DatabaseError extends BaseError { constructor(message, operation = null, table = null) { super(message, ErrorTypes.DATABASE, ErrorSeverity.HIGH, { operation, table }); } } export class NetworkError extends BaseError { constructor(message, url = null, method = null) { super(message, ErrorTypes.NETWORK, ErrorSeverity.MEDIUM, { url, method }); } } export class TimeoutError extends BaseError { constructor(message = 'Operation timeout', timeout = null) { super(message, ErrorTypes.TIMEOUT, ErrorSeverity.MEDIUM, { timeout }); } } export class ConfigurationError extends BaseError { constructor(message, config = null) { super(message, ErrorTypes.CONFIGURATION, ErrorSeverity.HIGH, { config }); } } export class SecurityError extends BaseError { constructor(message, threat = null, ip = null) { super(message, ErrorTypes.SECURITY, ErrorSeverity.CRITICAL, { threat, ip }); } } export class BusinessLogicError extends BaseError { constructor(message, rule = null) { super(message, ErrorTypes.BUSINESS_LOGIC, ErrorSeverity.MEDIUM, { rule }); } } /** Gestor de errores principal</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">DebugDashboard</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugDashboard.js</div>
                <div class="item-description">Dashboard web para debugging y monitoreo Proporciona una interfaz web en tiempo real para visualizar m√©tricas y logs</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">DebugMonitor</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugMonitor.js</div>
                <div class="item-description">Sistema avanzado de debugging y monitoreo Proporciona herramientas para debugging, profiling, m√©tricas y monitoreo en tiempo real</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">PerformanceProfiler</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/PerformanceProfiler.js</div>
                <div class="item-description">Profiler de performance avanzado Proporciona an√°lisis detallado de performance, bottlenecks y optimizaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">SystemHealthMonitor</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/SystemHealthMonitor.js</div>
                <div class="item-description">Monitor de salud del sistema Supervisa m√©tricas del sistema, recursos, conectividad y estado general</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ValidationError</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/validators/schema-validator.js</div>
                <div class="item-description">Sistema de Validaci√≥n de Esquemas Implementa validaci√≥n tipo Swagger/OpenAPI para endpoints / /** Clase personalizada para errores de validaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">IOBatcher</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/testing/PerformanceOptimizer.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Sistema de Optimizaci√≥n de Rendimiento para Tests Optimiza CPU, memoria y E/S para lograr m√°xima eficiencia /  import { EventEmitter } from 'events'; import { Worker } from 'worker_threads'; import cluster from 'cluster'; import os from 'os'; import { globalTestLogger } from './AdvancedTestLogger.js';  /** Tipos de optimizaci√≥n disponibles / export const OptimizationType = { CPU: 'cpu', MEMORY: 'memory', IO: 'io', NETWORK: 'network', PARALLELIZATION: 'parallelization', CACHING: 'caching', RESOURCE_POOLING: 'resource_pooling' };  /**<br><strong>@class:</strong> PerformanceOptimizer Sistema avanzado de optimizaci√≥n de rendimiento para tests / export class PerformanceOptimizer extends EventEmitter { constructor(options = {}) { super();  this.config = { maxWorkers: options.maxWorkers || Math.max(1, os.cpus().length - 1), memoryThreshold: options.memoryThreshold || 0.8, // 80% de memoria cpuThreshold: options.cpuThreshold || 0.7, // 70% de CPU ioThreshold: options.ioThreshold || 100, // 100ms para operaciones I/O enableParallelization: options.enableParallelization !== false, enableCaching: options.enableCaching !== false, enableResourcePooling: options.enableResourcePooling !== false, optimizationInterval: options.optimizationInterval || 5000, ...options };  this.metrics = { cpu: { usage: 0, history: [] }, memory: { usage: 0, history: [], peak: 0 }, io: { operations: 0, avgTime: 0, history: [] }, tests: { total: 0, passed: 0, failed: 0, avgDuration: 0 } };  this.optimizations = new Map(); this.resourcePools = new Map(); this.cache = new Map(); this.workers = new Set(); this.activeOptimizations = new Set();  this.setupOptimizations();  // Solo iniciar monitoreo si autoStart no est√° expl√≠citamente deshabilitado if (options.autoStart !== false) { this.startMonitoring(); } }  /** Configura las optimizaciones disponibles / setupOptimizations() { // Optimizaci√≥n de CPU this.optimizations.set(OptimizationType.CPU, { name: 'CPU Optimization', description: 'Optimiza uso de CPU mediante paralelizaci√≥n inteligente', threshold: this.config.cpuThreshold, execute: this.optimizeCPU.bind(this), priority: 1 });  // Optimizaci√≥n de memoria this.optimizations.set(OptimizationType.MEMORY, { name: 'Memory Optimization', description: 'Gestiona memoria de forma eficiente', threshold: this.config.memoryThreshold, execute: this.optimizeMemory.bind(this), priority: 1 });  // Optimizaci√≥n de I/O this.optimizations.set(OptimizationType.IO, { name: 'I/O Optimization', description: 'Optimiza operaciones de entrada/salida', threshold: this.config.ioThreshold, execute: this.optimizeIO.bind(this), priority: 2 });  // Optimizaci√≥n de paralelizaci√≥n this.optimizations.set(OptimizationType.PARALLELIZATION, { name: 'Parallelization Optimization', description: 'Ejecuta tests en paralelo de forma inteligente', threshold: 0.5, execute: this.optimizeParallelization.bind(this), priority: 1 });  // Optimizaci√≥n de cach√© this.optimizations.set(OptimizationType.CACHING, { name: 'Caching Optimization', description: 'Implementa cach√© inteligente para resultados', threshold: 0.3, execute: this.optimizeCaching.bind(this), priority: 3 });  // Optimizaci√≥n de pool de recursos this.optimizations.set(OptimizationType.RESOURCE_POOLING, { name: 'Resource Pooling', description: 'Gestiona pools de recursos reutilizables', threshold: 0.4, execute: this.optimizeResourcePooling.bind(this), priority: 2 }); }  /** Inicia el monitoreo de rendimiento / startMonitoring() { this.monitoringInterval = setInterval(() => { this.collectMetrics(); this.analyzePerformance(); }, this.config.optimizationInterval);  // Monitoreo en tiempo real de memoria this.memoryMonitor = setInterval(() => { this.checkMemoryUsage(); }, 1000); }  /** Recolecta m√©tricas de rendimiento / async collectMetrics() { try { // M√©tricas de CPU const cpuUsage = process.cpuUsage(); this.metrics.cpu.usage = (cpuUsage.user + cpuUsage.system) / 1000000; // Convertir a segundos this.metrics.cpu.history.push({ timestamp: Date.now(), usage: this.metrics.cpu.usage });  // M√©tricas de memoria const memoryUsage = process.memoryUsage(); this.metrics.memory.usage = memoryUsage.heapUsed / memoryUsage.heapTotal; this.metrics.memory.peak = Math.max(this.metrics.memory.peak, memoryUsage.heapUsed); this.metrics.memory.history.push({ timestamp: Date.now(), heapUsed: memoryUsage.heapUsed, heapTotal: memoryUsage.heapTotal, external: memoryUsage.external, rss: memoryUsage.rss });  // Limpiar historial antiguo (mantener √∫ltimos 100 registros) if (this.metrics.cpu.history.length > 100) { this.metrics.cpu.history = this.metrics.cpu.history.slice(-100); } if (this.metrics.memory.history.length > 100) { this.metrics.memory.history = this.metrics.memory.history.slice(-100); }  await globalTestLogger.logPerformanceMetric('system_metrics', { cpu: this.metrics.cpu.usage, memory: this.metrics.memory.usage, memoryPeak: this.metrics.memory.peak, timestamp: Date.now() }); } catch (error) { await globalTestLogger.logTestFailure( { name: 'Performance Monitoring', file: 'PerformanceOptimizer.js' }, error ); } }  /** Analiza rendimiento y aplica optimizaciones / async analyzePerformance() { const analysis = this.generatePerformanceAnalysis();  for (const [type, optimization] of this.optimizations) { if (this.shouldApplyOptimization(type, analysis)) { await this.applyOptimization(type, optimization, analysis); } } }  /** Genera an√°lisis de rendimiento / generatePerformanceAnalysis() { const recentCPU = this.metrics.cpu.history.slice(-10); const recentMemory = this.metrics.memory.history.slice(-10);  return { cpu: { current: this.metrics.cpu.usage, average: recentCPU.reduce((sum, m) => sum + m.usage, 0) / recentCPU.length, trend: this.calculateTrend(recentCPU.map(m => m.usage)) }, memory: { current: this.metrics.memory.usage, average: recentMemory.reduce((sum, m) => sum + (m.heapUsed / m.heapTotal), 0) / recentMemory.length, peak: this.metrics.memory.peak, trend: this.calculateTrend(recentMemory.map(m => m.heapUsed)) }, io: { operations: this.metrics.io.operations, avgTime: this.metrics.io.avgTime }, tests: this.metrics.tests }; }  /** Calcula tendencia de una serie de datos / calculateTrend(data) { if (data.length < 2) return 0;  const n = data.length; const sumX = (n * (n - 1)) / 2; const sumY = data.reduce((sum, val) => sum + val, 0); const sumXY = data.reduce((sum, val, index) => sum + (index * val), 0); const sumX2 = data.reduce((sum, _, index) => sum + (index * index), 0);  const slope = (n * sumXY - sumX * sumY) / (n * sumX2 - sumX * sumX); return slope; }  /** Determina si debe aplicar una optimizaci√≥n / shouldApplyOptimization(type, analysis) { const optimization = this.optimizations.get(type); if (!optimization || this.activeOptimizations.has(type)) { return false; }  switch (type) { case OptimizationType.CPU: return analysis.cpu.average > optimization.threshold; case OptimizationType.MEMORY: return analysis.memory.average > optimization.threshold; case OptimizationType.IO: return analysis.io.avgTime > optimization.threshold; case OptimizationType.PARALLELIZATION: return analysis.cpu.average < optimization.threshold && this.config.enableParallelization; case OptimizationType.CACHING: return this.config.enableCaching && this.cache.size < 1000; case OptimizationType.RESOURCE_POOLING: return this.config.enableResourcePooling; default: return false; } }  /** Aplica una optimizaci√≥n espec√≠fica / async applyOptimization(type, optimization, analysis) { if (this.activeOptimizations.has(type)) { return; }  this.activeOptimizations.add(type); const startTime = Date.now();  try { await globalTestLogger.logInfo(`Aplicando optimizaci√≥n: ${optimization.name}`, { type, analysis: { cpu: analysis.cpu.average, memory: analysis.memory.average, io: analysis.io.avgTime } });  const result = await optimization.execute(analysis); const duration = Date.now() - startTime;  await globalTestLogger.logInfo(`Optimizaci√≥n completada: ${optimization.name}`, { type, duration, result });  this.emit('optimizationApplied', { type, optimization: optimization.name, duration, result, analysis });  return result; } catch (error) { await globalTestLogger.logTestFailure( { name: `Optimization: ${optimization.name}`, file: 'PerformanceOptimizer.js' }, error, { type, analysis } ); } finally { this.activeOptimizations.delete(type); } }  /** Optimizaci√≥n de CPU / async optimizeCPU(analysis) { const actions = [];  // Reducir workers si CPU est√° sobrecargado if (analysis.cpu.average > 0.9 && this.workers.size > 1) { const workersToRemove = Math.ceil(this.workers.size * 0.3); let removed = 0;  for (const worker of this.workers) { if (removed >= workersToRemove) break;  try { await worker.terminate(); this.workers.delete(worker); removed++; actions.push('Terminated worker'); } catch (error) { actions.push(`Failed to terminate worker: ${error.message}`); } } }  // Ajustar prioridad del proceso if (process.platform !== 'win32') { try { process.setpriority(process.pid, 10); // Prioridad m√°s baja actions.push('Reduced process priority'); } catch (error) { actions.push(`Failed to set priority: ${error.message}`); } }  return { type: 'cpu_optimization', actions, workersActive: this.workers.size, cpuUsageReduction: 'Implemented CPU throttling' }; }  /** Optimizaci√≥n de memoria / async optimizeMemory(analysis) { const beforeMemory = process.memoryUsage(); const actions = [];  // Forzar garbage collection if (global.gc) { global.gc(); actions.push('Forced garbage collection'); }  // Limpiar cach√© si est√° muy lleno if (this.cache.size > 500) { const toDelete = Math.ceil(this.cache.size * 0.3); const keys = Array.from(this.cache.keys()).slice(0, toDelete);  keys.forEach(key => this.cache.delete(key)); actions.push(`Cleared ${toDelete} cache entries`); }  // Limpiar historial de m√©tricas this.metrics.cpu.history = this.metrics.cpu.history.slice(-50); this.metrics.memory.history = this.metrics.memory.history.slice(-50); actions.push('Trimmed metrics history');  // Limpiar require cache de archivos de test if (require.cache) { const testFiles = Object.keys(require.cache).filter(key => key.includes('test') || key.includes('spec') || key.includes('__tests__') );  testFiles.forEach(key => { delete require.cache[key]; });  actions.push(`Cleared ${testFiles.length} test files from require cache`); }  const afterMemory = process.memoryUsage(); const memoryFreed = beforeMemory.heapUsed - afterMemory.heapUsed;  return { type: 'memory_optimization', actions, memoryFreed, beforeMemory: beforeMemory.heapUsed, afterMemory: afterMemory.heapUsed, efficiency: memoryFreed > 0 ? 'Successful' : 'Minimal impact' }; }  /** Optimizaci√≥n de I/O / async optimizeIO(analysis) { const actions = [];  // Implementar batching para operaciones I/O if (!this.ioBatcher) { this.ioBatcher = new IOBatcher(); actions.push('Initialized I/O batcher'); }  // Configurar pool de conexiones if (!this.resourcePools.has('io_connections')) { this.resourcePools.set('io_connections', new ResourcePool({ maxSize: 10, factory: () => ({ id: Date.now(), available: true }) })); actions.push('Created I/O connection pool'); }  return { type: 'io_optimization', actions, batcherActive: !!this.ioBatcher, connectionPoolSize: this.resourcePools.get('io_connections')?.size || 0 }; }  /** Optimizaci√≥n de paralelizaci√≥n / async optimizeParallelization(analysis) { const actions = []; const optimalWorkers = Math.min( this.config.maxWorkers, Math.max(1, Math.floor(os.cpus().length * (1 - analysis.cpu.average))) );  // Ajustar n√∫mero de workers const currentWorkers = this.workers.size;  if (currentWorkers < optimalWorkers) { const workersToAdd = optimalWorkers - currentWorkers;  for (let i = 0; i < workersToAdd; i++) { try { const worker = new Worker('./test-worker.js', { workerData: { workerId: Date.now() + i } });  this.workers.add(worker); actions.push('Added worker'); } catch (error) { actions.push(`Failed to add worker: ${error.message}`); } } }  return { type: 'parallelization_optimization', actions, optimalWorkers, currentWorkers: this.workers.size, cpuUtilization: analysis.cpu.average }; }  /** Optimizaci√≥n de cach√© / async optimizeCaching(analysis) { const actions = [];  // Implementar cach√© LRU si no existe if (!this.lruCache) { this.lruCache = new LRUCache(1000); actions.push('Initialized LRU cache'); }  // Precargar datos comunes const commonTestData = this.identifyCommonTestData(); commonTestData.forEach(data => { this.cache.set(data.key, data.value); });  if (commonTestData.length > 0) { actions.push(`Preloaded ${commonTestData.length} common test data items`); }  return { type: 'caching_optimization', actions, cacheSize: this.cache.size, hitRate: this.calculateCacheHitRate() }; }  /** Optimizaci√≥n de pool de recursos / async optimizeResourcePooling(analysis) { const actions = [];  // Crear pools para recursos comunes const resourceTypes = ['database', 'http_client', 'file_handle'];  resourceTypes.forEach(type => { if (!this.resourcePools.has(type)) { this.resourcePools.set(type, new ResourcePool({ maxSize: 5, factory: () => this.createResource(type) })); actions.push(`Created ${type} resource pool`); } });  return { type: 'resource_pooling_optimization', actions, poolsActive: this.resourcePools.size, totalResources: Array.from(this.resourcePools.values()) .reduce((sum, pool) => sum + pool.size, 0) }; }  /** Verifica uso de memoria / checkMemoryUsage() { const memoryUsage = process.memoryUsage(); const usageRatio = memoryUsage.heapUsed / memoryUsage.heapTotal;  if (usageRatio > 0.9) { this.emit('memoryWarning', { usage: usageRatio, heapUsed: memoryUsage.heapUsed, heapTotal: memoryUsage.heapTotal });  // Optimizaci√≥n de emergencia if (global.gc) { global.gc(); } } }  /** Identifica datos comunes de test / identifyCommonTestData() { // Simulaci√≥n de datos comunes return [ { key: 'test_user', value: { id: 1, name: 'Test User' } }, { key: 'test_config', value: { timeout: 5000, retries: 3 } }, { key: 'mock_response', value: { status: 200, data: 'OK' } } ]; }  /** Calcula tasa de aciertos del cach√© / calculateCacheHitRate() { // Implementaci√≥n simplificada return this.cache.size > 0 ? 0.8 : 0; }  /** Crea recurso para pool / createResource(type) { return { id: `${type}_${Date.now()}`, type, created: Date.now(), available: true }; }  /** Obtiene estad√≠sticas de rendimiento / getPerformanceStats() { return { metrics: this.metrics, optimizations: { active: Array.from(this.activeOptimizations), available: Array.from(this.optimizations.keys()) }, resources: { workers: this.workers.size, cache: this.cache.size, pools: this.resourcePools.size }, efficiency: this.calculateEfficiency() }; }  /** Calcula eficiencia general / calculateEfficiency() { const cpuEfficiency = Math.max(0, 1 - this.metrics.cpu.usage); const memoryEfficiency = Math.max(0, 1 - this.metrics.memory.usage); const ioEfficiency = this.metrics.io.avgTime > 0 ? Math.max(0, 1 - (this.metrics.io.avgTime / this.config.ioThreshold)) : 1;  return { overall: (cpuEfficiency + memoryEfficiency + ioEfficiency) / 3, cpu: cpuEfficiency, memory: memoryEfficiency, io: ioEfficiency }; }  /** Limpia recursos y detiene monitoreo / async cleanup() { // Detener monitoreo if (this.monitoringInterval) { clearInterval(this.monitoringInterval); } if (this.memoryMonitor) { clearInterval(this.memoryMonitor); }  // Terminar workers for (const worker of this.workers) { try { await worker.terminate(); } catch (error) { console.warn('Error terminando worker:', error.message); } } this.workers.clear();  // Limpiar recursos this.cache.clear(); this.resourcePools.clear(); this.activeOptimizations.clear();  this.removeAllListeners();  await globalTestLogger.logInfo('PerformanceOptimizer cleanup completado'); } }  /** Clase auxiliar para batching de I/O 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ResourcePool</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/testing/PerformanceOptimizer.js</div>
                <div class="item-description">Clase auxiliar para pool de recursos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">LRUCache</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/testing/PerformanceOptimizer.js</div>
                <div class="item-description">Clase auxiliar para cach√© LRU</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">AutomationManager</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Gestor de automatizaci√≥n que coordina workflows y reglas de negocio Proporciona una interfaz unificada para la automatizaci√≥n completa</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">RuleEngine</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Motor de reglas de negocio para evaluaci√≥n y ejecuci√≥n de reglas complejas Permite definir reglas condicionales con acciones autom√°ticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">WorkflowEngine</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Motor de workflows para automatizaci√≥n y reglas de negocio Gestiona la ejecuci√≥n de flujos de trabajo complejos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">WorkflowUtils</span>
                    <span class="item-type">class</span>
                </div>
                <div class="item-file">üìÅ src/workflows/index.js</div>
                <div class="item-description">Configuraci√≥n por defecto para el sistema de workflows / const DEFAULT_WORKFLOW_CONFIG = { // Configuraci√≥n del motor de workflows workflowEngine: { enabled: true, maxWorkflows: 100, maxConcurrentExecutions: 10, persistence: { type: 'memory', config: {} }, execution: { timeout: 300000, // 5 minutos retryAttempts: 3, retryDelay: 1000, errorHandling: 'continue' }, variables: { global: {}, encryption: false }, conditions: { operators: ['eq', 'ne', 'gt', 'gte', 'lt', 'lte', 'in', 'contains', 'regex'], customFunctions: {} }, triggers: { event: { enabled: true }, schedule: { enabled: true }, webhook: { enabled: true } }, logging: { enabled: true, level: 'info', maxLogs: 1000 }, metrics: { enabled: true, retention: 86400000 // 24 horas } }, // Configuraci√≥n del motor de reglas ruleEngine: { enabled: true, maxRules: 500, maxConditions: 50, evaluation: { timeout: 30000, maxIterations: 1000, cache: true, parallel: false }, operators: { comparison: ['eq', 'ne', 'gt', 'gte', 'lt', 'lte'], logical: ['and', 'or', 'not'], arithmetic: ['add', 'sub', 'mul', 'div', 'mod'], custom: {} }, functions: { builtin: true, custom: {}, security: true }, variables: { global: {}, readonly: [], maxSize: 1024 * 1024, // 1MB allowedTypes: ['string', 'number', 'boolean', 'object', 'array'] }, actions: { maxPerRule: 10, timeout: 10000, retryAttempts: 2, async: true }, priorities: { enabled: true, default: 'normal' }, groups: { enabled: true, executionMode: 'sequential' }, logging: { enabled: true, level: 'info', maxLogs: 1000 }, metrics: { enabled: true, retention: 86400000 } }, // Configuraci√≥n del gestor de automatizaci√≥n automationManager: { enabled: true, maxAutomations: 500, workflows: { enabled: true, config: {} }, rules: { enabled: true, config: {} }, integration: { shareVariables: true, shareEvents: true, crossTriggers: true, conflictResolution: 'priority' }, events: { enabled: true, maxListeners: 100, eventHistory: true, historySize: 1000 }, triggers: { enabled: true, debounceTime: 1000, maxPerAutomation: 10, globalTriggers: [] }, context: { global: {}, persistent: true, encryption: false, maxSize: 10 * 1024 * 1024 // 10MB }, monitoring: { enabled: true, healthChecks: true, performanceMetrics: true, alerting: false }, logging: { enabled: true, level: 'info', includeContext: true, maxLogs: 10000 } } }; /** Constantes del sistema de workflows / const WORKFLOW_CONSTANTS = { // Estados de workflow WORKFLOW_STATES: { PENDING: 'pending', RUNNING: 'running', COMPLETED: 'completed', FAILED: 'failed', CANCELLED: 'cancelled', PAUSED: 'paused' }, // Estados de instancia INSTANCE_STATES: { CREATED: 'created', STARTED: 'started', RUNNING: 'running', WAITING: 'waiting', COMPLETED: 'completed', FAILED: 'failed', CANCELLED: 'cancelled' }, // Tipos de paso STEP_TYPES: { ACTION: 'action', CONDITION: 'condition', LOOP: 'loop', PARALLEL: 'parallel', DELAY: 'delay', VARIABLE: 'variable', WEBHOOK: 'webhook', NOTIFICATION: 'notification' }, // Tipos de acci√≥n ACTION_TYPES: { LOG: 'log', HTTP: 'http', DATABASE: 'database', FILE: 'file', EMAIL: 'email', CUSTOM: 'custom' }, // Tipos de trigger TRIGGER_TYPES: { EVENT: 'event', SCHEDULE: 'schedule', WEBHOOK: 'webhook', CONDITION: 'condition' }, // Operadores de condici√≥n CONDITION_OPERATORS: { EQ: 'eq', NE: 'ne', GT: 'gt', GTE: 'gte', LT: 'lt', LTE: 'lte', IN: 'in', CONTAINS: 'contains', REGEX: 'regex', AND: 'and', OR: 'or', NOT: 'not' }, // Estados de regla RULE_STATES: { ACTIVE: 'active', INACTIVE: 'inactive', DISABLED: 'disabled' }, // Prioridades PRIORITIES: { CRITICAL: 'critical', HIGH: 'high', NORMAL: 'normal', LOW: 'low' }, // Tipos de automatizaci√≥n AUTOMATION_TYPES: { WORKFLOW: 'workflow', RULE: 'rule', HYBRID: 'hybrid' }, // Eventos del sistema EVENTS: { // Workflow events WORKFLOW_CREATED: 'workflowCreated', WORKFLOW_STARTED: 'workflowStarted', WORKFLOW_COMPLETED: 'workflowCompleted', WORKFLOW_FAILED: 'workflowFailed', WORKFLOW_CANCELLED: 'workflowCancelled', STEP_STARTED: 'stepStarted', STEP_COMPLETED: 'stepCompleted', STEP_FAILED: 'stepFailed', // Rule events RULE_CREATED: 'ruleCreated', RULE_MATCHED: 'ruleMatched', RULE_FAILED: 'ruleFailed', ACTION_EXECUTED: 'actionExecuted', // Automation events AUTOMATION_CREATED: 'automationCreated', AUTOMATION_STARTED: 'automationStarted', AUTOMATION_COMPLETED: 'automationCompleted', AUTOMATION_FAILED: 'automationFailed', AUTOMATION_UPDATED: 'automationUpdated', AUTOMATION_DELETED: 'automationDeleted', // System events HEALTH_CHECK: 'healthCheck', METRICS_UPDATE: 'metricsUpdate', LOG: 'log', ERROR: 'error' } }; /** Utilidades para el sistema de workflows</div>
                
            </div>
        </div>

        <div id="functions" class="section">
            <h2>‚öôÔ∏è Funciones (4901)</h2>
            
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/Server.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Servidor Modular Refactorizado del ChatBot  Nueva implementaci√≥n completamente modular del servidor, refactorizada para seguir principios de arquitectura limpia y separaci√≥n de responsabilidades. Utiliza gestores especializados para cada aspecto del servidor. <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 3.0.0 /  import express from 'express'; import { createServer } from 'http'; import path from 'path'; import { fileURLToPath } from 'url';  // Gestores especializados import MiddlewareManager from './services/server/middleware/MiddlewareManager.js'; import RouteManager from './services/server/routes/RouteManager.js'; import SocketManager from './services/server/websocket/SocketManager.js'; import StaticFileManager from './services/server/static/StaticFileManager.js'; import ErrorHandler from './services/server/error/ErrorHandler.js';  // Services imports import { createLogger } from './services/core/core/logger.js';  const logger = createLogger('MODULAR_SERVER');  const __filename = fileURLToPath(import.meta.url); const __dirname = path.dirname(__filename);  /** Clase Server Modular - Implementaci√≥n completamente refactorizada / export class Server { constructor(config = {}) { this.config = { port: config.port || process.env.PORT || 3000, host: config.host || process.env.HOST || 'localhost', environment: config.environment || process.env.NODE_ENV || 'development', clientPath: config.clientPath || path.join(__dirname, '../client'), ...config };  // Inicializar Express y HTTP Server this.app = express(); this.httpServer = createServer(this.app);  // Gestores especializados this.middlewareManager = null; this.routeManager = null; this.socketManager = null; this.staticFileManager = null; this.errorHandler = null;  // Estado del servidor this.isInitialized = false; this.isRunning = false; this.startTime = null; }  /** Inicializar el servidor y todos sus gestores 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeManagers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/Server.js</div>
                <div class="item-description">Inicializar todos los gestores especializados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupManagers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/Server.js</div>
                <div class="item-description">Configurar todos los gestores en el orden correcto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/Server.js</div>
                <div class="item-description">Iniciar el servidor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/Server.js</div>
                <div class="item-description">Detener el servidor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/Server.js</div>
                <div class="item-description">Obtener informaci√≥n completa del servidor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/Server.js</div>
                <div class="item-description">Obtener estad√≠sticas del servidor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateConfiguration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/Server.js</div>
                <div class="item-description">Validar configuraci√≥n del servidor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">restart</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/Server.js</div>
                <div class="item-description">Reiniciar el servidor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logManagersInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/Server.js</div>
                <div class="item-description">Registrar informaci√≥n de gestores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/Server.js</div>
                <div class="item-description">Limpiar recursos del servidor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">AdapterManager - Gestor de Adaptadores de Comunicaci√≥n Coordina y gestiona todos los adaptadores de comunicaci√≥n del sistema event-driven (WebSocket, Pub/Sub, MQTT, etc.)</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 2.0.0 /  import { createLogger } from '../services/core/core/logger.js'; import { EventEmitter } from 'events'; import { WebSocketAdapter } from './WebSocketAdapter.js'; import { PubSubAdapter } from './PubSubAdapter.js'; import { MQTTAdapter } from './MQTTAdapter.js';  const logger = createLogger('ADAPTER_MANAGER');  export class AdapterManager extends EventEmitter { constructor(eventBus, options = {}) { super();  this.eventBus = eventBus; this.isInitialized = false; this.isStarted = false;  // Configuraci√≥n del gestor this.config = { // Configuraci√≥n de adaptadores enabledAdapters: options.enabledAdapters || ['websocket', 'pubsub', 'mqtt'], autoStart: options.autoStart !== false, autoReconnect: options.autoReconnect !== false,  // Configuraci√≥n de failover enableFailover: options.enableFailover !== false, failoverTimeout: options.failoverTimeout || 30000, primaryAdapter: options.primaryAdapter || 'websocket',  // Configuraci√≥n de load balancing enableLoadBalancing: options.enableLoadBalancing || false, loadBalancingStrategy: options.loadBalancingStrategy || 'round-robin', // round-robin, least-connections, weighted  // Configuraci√≥n de broadcasting enableBroadcasting: options.enableBroadcasting !== false, broadcastFilters: options.broadcastFilters || [],  // Configuraci√≥n de m√©tricas enableMetrics: options.enableMetrics !== false, metricsInterval: options.metricsInterval || 60000,  // Configuraci√≥n espec√≠fica de adaptadores adapters: { websocket: options.websocket || {}, pubsub: options.pubsub || {}, mqtt: options.mqtt || {} },  ...options };  // Adaptadores registrados this.adapters = new Map(); // name -> adapter instance this.adapterConfigs = new Map(); // name -> config this.adapterStates = new Map(); // name -> state info  // Estado del gestor this.state = { primaryAdapter: null, activeAdapters: new Set(), failedAdapters: new Set(), lastFailover: null, totalMessages: 0, totalErrors: 0 };  // Load balancing this.loadBalancer = { currentIndex: 0, weights: new Map(), connections: new Map() };  // M√©tricas agregadas this.metrics = { totalMessagesSent: 0, totalMessagesReceived: 0, totalConnections: 0, totalDisconnections: 0, totalErrors: 0, averageLatency: 0, throughput: 0, uptime: 0, adaptersOnline: 0, adaptersOffline: 0 };  // Timers this.metricsTimer = null; this.healthCheckTimer = null;  // Callbacks this.messageHandlers = new Set(); this.errorHandlers = new Set();  logger.info('AdapterManager inicializado', { enabledAdapters: this.config.enabledAdapters, config: this.config }); }  /** Inicializar el gestor de adaptadores 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerEnabledAdapters</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Registrar adaptadores habilitados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerAdapter</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Registrar adaptador espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupAdapterEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Configurar eventos del adaptador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventBusIntegration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Configurar integraci√≥n con EventBus</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Iniciar todos los adaptadores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startAdapter</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Iniciar adaptador espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Detener todos los adaptadores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopAdapter</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Detener adaptador espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">send</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Enviar evento a trav√©s de adaptadores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">broadcastEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Broadcast evento a todos los adaptadores activos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">selectAdapters</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Seleccionar adaptadores para env√≠o</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">selectAdapterByLoadBalancing</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Seleccionar adaptador por load balancing</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">selectRoundRobin</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Selecci√≥n round-robin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">selectLeastConnections</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Selecci√≥n por menor n√∫mero de conexiones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">selectWeighted</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Selecci√≥n ponderada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">passesBroadcastFilters</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Verificar filtros de broadcast</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">matchesFilter</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Verificar coincidencia con filtro</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">subscribe</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Suscribirse a patr√≥n en todos los adaptadores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unsubscribe</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Desuscribirse de patr√≥n en todos los adaptadores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleAdapterConnect</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Manejar conexi√≥n de adaptador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleAdapterDisconnect</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Manejar desconexi√≥n de adaptador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleAdapterError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Manejar error de adaptador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleAdapterEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Manejar evento de adaptador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleAdapterMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Manejar m√©tricas de adaptador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleFailover</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Manejar failover</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scheduleReconnect</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Programar reconexi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">establishPrimaryAdapter</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Establecer adaptador primario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">onMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Registrar handler de mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">offMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Desregistrar handler de mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">onError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Registrar handler de error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">offError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Desregistrar handler de error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startMetricsTimer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Iniciar timer de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopMetricsTimer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Detener timer de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startHealthCheckTimer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Iniciar timer de health check</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopHealthCheckTimer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Detener timer de health check</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performHealthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Realizar health check</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateAggregatedMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Actualizar m√©tricas agregadas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getHealthStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Obtener estado de salud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Obtener m√©tricas del gestor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Obtener estado del gestor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Obtener informaci√≥n completa</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/AdapterManager.js</div>
                <div class="item-description">Destruir el gestor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">BaseAdapter - Clase Base para Adaptadores de Comunicaci√≥n Define la interfaz com√∫n para todos los adaptadores de comunicaci√≥n del sistema event-driven (WebSocket, Pub/Sub, MQTT, etc.)</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 2.0.0 /  import { createLogger } from '../services/core/core/logger.js'; import { EventEmitter } from 'events';  const logger = createLogger('BASE_ADAPTER');  export class BaseAdapter extends EventEmitter { constructor(name, options = {}) { super();  this.name = name; this.type = options.type || 'unknown'; this.isConnected = false; this.isReconnecting = false; this.connectionAttempts = 0; this.lastError = null;  // Configuraci√≥n com√∫n this.config = { // Configuraci√≥n de conexi√≥n autoReconnect: options.autoReconnect !== false, reconnectInterval: options.reconnectInterval || 5000, maxReconnectAttempts: options.maxReconnectAttempts || 10, connectionTimeout: options.connectionTimeout || 30000,  // Configuraci√≥n de heartbeat enableHeartbeat: options.enableHeartbeat !== false, heartbeatInterval: options.heartbeatInterval || 30000, heartbeatTimeout: options.heartbeatTimeout || 10000,  // Configuraci√≥n de buffering enableBuffering: options.enableBuffering !== false, bufferSize: options.bufferSize || 1000, bufferTimeout: options.bufferTimeout || 5000,  // Configuraci√≥n de compresi√≥n enableCompression: options.enableCompression || false, compressionLevel: options.compressionLevel || 6,  // Configuraci√≥n de serializaci√≥n serializer: options.serializer || 'json', // json, msgpack, protobuf  // Configuraci√≥n de filtros enableFiltering: options.enableFiltering !== false, eventFilters: options.eventFilters || [],  // Configuraci√≥n de m√©tricas enableMetrics: options.enableMetrics !== false, metricsInterval: options.metricsInterval || 60000,  ...options };  // Estado del adaptador this.state = { startTime: null, lastConnectTime: null, lastDisconnectTime: null, totalConnections: 0, totalDisconnections: 0, totalReconnections: 0 };  // Buffer de eventos this.eventBuffer = []; this.bufferTimer = null;  // Timers this.heartbeatTimer = null; this.reconnectTimer = null; this.metricsTimer = null;  // M√©tricas this.metrics = { // M√©tricas de conexi√≥n connectionUptime: 0, connectionDowntime: 0, averageConnectionTime: 0,  // M√©tricas de eventos eventsSent: 0, eventsReceived: 0, eventsBuffered: 0, eventsDropped: 0, eventsFiltered: 0,  // M√©tricas de rendimiento averageLatency: 0, minLatency: Infinity, maxLatency: 0, throughputPerSecond: 0,  // M√©tricas de errores connectionErrors: 0, transmissionErrors: 0, serializationErrors: 0,  // M√©tricas de heartbeat heartbeatsSent: 0, heartbeatsReceived: 0, missedHeartbeats: 0 };  // Callbacks this.callbacks = { onConnect: [], onDisconnect: [], onError: [], onEvent: [], onHeartbeat: [] };  // Inicializar this.initialize(); }  /** Inicializar el adaptador 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">connect</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Conectar (debe ser implementado por subclases)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">disconnect</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Desconectar (debe ser implementado por subclases)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">send</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Enviar evento (debe ser implementado por subclases)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">subscribe</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Suscribirse a eventos (debe ser implementado por subclases)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unsubscribe</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Desuscribirse de eventos (debe ser implementado por subclases)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleConnect</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Manejar conexi√≥n exitosa</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleDisconnect</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Manejar desconexi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Manejar error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Manejar evento recibido</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scheduleReconnect</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Programar reconexi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cancelReconnect</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Cancelar reconexi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startHeartbeat</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Iniciar heartbeat</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopHeartbeat</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Detener heartbeat</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendHeartbeat</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Enviar heartbeat (debe ser implementado por subclases)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleHeartbeat</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Manejar heartbeat recibido</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">bufferEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">A√±adir evento al buffer</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scheduleBufferFlush</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Programar flush del buffer</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">flushBuffer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Vaciar buffer de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">passesFilters</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Verificar si un evento pasa los filtros</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">matchesFilter</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Verificar si un evento coincide con un filtro objeto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">serialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Serializar evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deserialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Deserializar evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateLatencyMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Actualizar m√©tricas de latencia</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startMetricsTimer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Iniciar timer de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopMetricsTimer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Detener timer de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Actualizar m√©tricas calculadas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">on</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Registrar callback</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">off</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Desregistrar callback</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeCallbacks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Ejecutar callbacks</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Obtener estado del adaptador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Obtener m√©tricas del adaptador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Obtener informaci√≥n del adaptador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/BaseAdapter.js</div>
                <div class="item-description">Destruir el adaptador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">connect</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">MQTTAdapter - Adaptador MQTT para Comunicaci√≥n IoT Implementa comunicaci√≥n MQTT para dispositivos IoT y sistemas distribuidos con soporte para QoS, retenci√≥n de mensajes y last will</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 2.0.0 /  import { BaseAdapter } from './BaseAdapter.js'; import { createLogger } from '../services/core/core/logger.js'; import mqtt from 'mqtt';  const logger = createLogger('MQTT_ADAPTER');  export class MQTTAdapter extends BaseAdapter { constructor(options = {}) { super('MQTT', { type: 'mqtt', ...options });  // Configuraci√≥n espec√≠fica de MQTT this.mqttConfig = { // Configuraci√≥n de conexi√≥n host: options.host || 'localhost', port: options.port || 1883, protocol: options.protocol || 'mqtt', // mqtt, mqtts, ws, wss  // Configuraci√≥n de cliente clientId: options.clientId || this.generateClientId(), clean: options.clean !== false, keepalive: options.keepalive || 60, connectTimeout: options.connectTimeout || 30000,  // Configuraci√≥n de autenticaci√≥n username: options.username || null, password: options.password || null,  // Configuraci√≥n SSL/TLS ca: options.ca || null, cert: options.cert || null, key: options.key || null, rejectUnauthorized: options.rejectUnauthorized !== false,  // Configuraci√≥n de Will (Last Will and Testament) will: { topic: options.will?.topic || `${this.name}/status`, payload: options.will?.payload || 'offline', qos: options.will?.qos || 1, retain: options.will?.retain !== false },  // Configuraci√≥n de t√≥picos topicPrefix: options.topicPrefix || 'chatbot/', topicSeparator: options.topicSeparator || '/', enableWildcards: options.enableWildcards !== false,  // Configuraci√≥n de QoS defaultQoS: options.defaultQoS || 1, // 0: At most once, 1: At least once, 2: Exactly once publishQoS: options.publishQoS || 1, subscribeQoS: options.subscribeQoS || 1,  // Configuraci√≥n de retenci√≥n enableRetain: options.enableRetain || false, retainedMessagesTTL: options.retainedMessagesTTL || 24 * 60 * 60 * 1000, // 24 horas  // Configuraci√≥n de mensajes maxMessageSize: options.maxMessageSize || 256 * 1024, // 256KB enableCompression: options.enableCompression || false,  ...options.mqttConfig };  // Cliente MQTT this.client = null;  // Gesti√≥n de t√≥picos y suscripciones this.subscriptions = new Map(); // topic -> { qos, callback, subscribedAt } this.retainedMessages = new Map(); // topic -> { message, timestamp } this.pendingMessages = new Map(); // messageId -> { message, timestamp, retries }  // M√©tricas espec√≠ficas de MQTT this.mqttMetrics = { messagesPublished: 0, messagesReceived: 0, messagesRetained: 0, subscriptionsActive: 0, qos0Messages: 0, qos1Messages: 0, qos2Messages: 0, duplicateMessages: 0, retransmissions: 0, averageLatency: 0, connectionUptime: 0 };  // Timers espec√≠ficos de MQTT this.retainCleanupTimer = null; this.metricsUpdateTimer = null;  logger.info('MQTTAdapter inicializado', { clientId: this.mqttConfig.clientId, host: this.mqttConfig.host, port: this.mqttConfig.port, protocol: this.mqttConfig.protocol }); }  /** Conectar cliente MQTT 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">buildConnectionUrl</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Construir URL de conexi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">buildConnectionOptions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Construir opciones de conexi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventHandlers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Configurar manejadores de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">waitForConnection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Esperar conexi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Manejar mensaje recibido</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleRetainedMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Manejar mensaje retenido</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handlePacketSend</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Manejar env√≠o de paquete</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handlePacketReceive</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Manejar recepci√≥n de paquete</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">send</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Enviar evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">publishMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Publicar mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">subscribe</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Suscribirse a t√≥pico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">subscribeToTopic</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Suscribirse a t√≥pico espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unsubscribe</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Desuscribirse de t√≥pico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unsubscribeFromTopic</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Desuscribirse de t√≥pico espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">disconnect</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Desconectar cliente MQTT</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">closeConnection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Cerrar conexi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">publishStatusMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Publicar mensaje de estado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">formatTopic</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Formatear t√≥pico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">serializePayload</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Serializar payload</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deserializePayload</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Deserializar payload</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">compressPayload</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Comprimir payload (implementaci√≥n simple)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">decompressPayload</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Descomprimir payload (implementaci√≥n simple)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateClientId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Generar ID de cliente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateLatencyMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Actualizar m√©tricas de latencia</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startRetainCleanupTimer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Iniciar timer de limpieza de mensajes retenidos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopRetainCleanupTimer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Detener timer de limpieza</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupRetainedMessages</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Limpiar mensajes retenidos expirados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startMetricsUpdateTimer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Iniciar timer de actualizaci√≥n de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopMetricsUpdateTimer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Detener timer de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateConnectionUptime</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Actualizar tiempo de conexi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRetainedMessages</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Obtener mensajes retenidos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPendingMessages</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Obtener mensajes pendientes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Obtener m√©tricas espec√≠ficas de MQTT</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Obtener estado espec√≠fico de MQTT</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSubscriptions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/MQTTAdapter.js</div>
                <div class="item-description">Obtener informaci√≥n de suscripciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">connect</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">PubSubAdapter - Adaptador Pub/Sub para Comunicaci√≥n Distribuida Implementa patr√≥n Publisher/Subscriber para comunicaci√≥n distribuida usando Redis, Google Cloud Pub/Sub, o implementaci√≥n local</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 2.0.0 /  import { BaseAdapter } from './BaseAdapter.js'; import { createLogger } from '../services/core/core/logger.js'; import { EventEmitter } from 'events';  const logger = createLogger('PUBSUB_ADAPTER');  export class PubSubAdapter extends BaseAdapter { constructor(options = {}) { super('PubSub', { type: 'pubsub', ...options });  // Configuraci√≥n espec√≠fica de Pub/Sub this.pubsubConfig = { provider: options.provider || 'local', // local, redis, gcp, aws  // Configuraci√≥n de Redis redis: { host: options.redis?.host || 'localhost', port: options.redis?.port || 6379, password: options.redis?.password || null, db: options.redis?.db || 0, keyPrefix: options.redis?.keyPrefix || 'chatbot:events:', retryDelayOnFailover: options.redis?.retryDelayOnFailover || 100, maxRetriesPerRequest: options.redis?.maxRetriesPerRequest || 3 },  // Configuraci√≥n de Google Cloud Pub/Sub gcp: { projectId: options.gcp?.projectId || null, keyFilename: options.gcp?.keyFilename || null, topicPrefix: options.gcp?.topicPrefix || 'chatbot-events-', subscriptionPrefix: options.gcp?.subscriptionPrefix || 'chatbot-sub-' },  // Configuraci√≥n de AWS SNS/SQS aws: { region: options.aws?.region || 'us-east-1', accessKeyId: options.aws?.accessKeyId || null, secretAccessKey: options.aws?.secretAccessKey || null, topicPrefix: options.aws?.topicPrefix || 'chatbot-events-', queuePrefix: options.aws?.queuePrefix || 'chatbot-queue-' },  // Configuraci√≥n de t√≥picos defaultTopic: options.defaultTopic || 'events', topicSeparator: options.topicSeparator || ':', enableWildcards: options.enableWildcards !== false,  // Configuraci√≥n de mensajes messageFormat: options.messageFormat || 'json', // json, avro, protobuf enableCompression: options.enableCompression || false, maxMessageSize: options.maxMessageSize || 1024 * 1024, // 1MB  // Configuraci√≥n de delivery deliveryMode: options.deliveryMode || 'at-least-once', // at-most-once, at-least-once, exactly-once enableDeduplication: options.enableDeduplication || false, messageRetention: options.messageRetention || 7 * 24 * 60 * 60 * 1000, // 7 d√≠as  ...options.pubsubConfig };  // Cliente del proveedor this.client = null; this.publisher = null; this.subscriber = null;  // Gesti√≥n de t√≥picos y suscripciones this.topics = new Map(); // topic -> metadata this.subscriptions = new Map(); // subscription -> metadata this.patterns = new Map(); // pattern -> compiled regex  // Cola de mensajes local (para provider local) this.messageQueue = new Map(); // topic -> messages[] this.localSubscribers = new Map(); // topic -> Set<callback>  // M√©tricas espec√≠ficas de Pub/Sub this.pubsubMetrics = { messagesPublished: 0, messagesConsumed: 0, topicsCreated: 0, subscriptionsCreated: 0, duplicatesDetected: 0, deliveryFailures: 0, averageMessageSize: 0, totalMessageSize: 0 };  logger.info('PubSubAdapter inicializado', { provider: this.pubsubConfig.provider, config: this.pubsubConfig }); }  /** Conectar al proveedor Pub/Sub 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">connectRedis</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Conectar a Redis</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">connectGCP</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Conectar a Google Cloud Pub/Sub</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">connectAWS</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Conectar a AWS SNS/SQS</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">connectLocal</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Conectar modo local</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupRedisEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Configurar eventos de Redis</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleRedisMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Manejar mensaje de Redis</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleRedisPatternMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Manejar mensaje de patr√≥n de Redis</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">send</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Enviar evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">prepareMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Preparar mensaje para env√≠o</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">publishRedis</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Publicar en Redis</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">publishGCP</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Publicar en Google Cloud Pub/Sub</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">publishAWS</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Publicar en AWS SNS</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">publishLocal</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Publicar localmente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">subscribe</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Suscribirse a t√≥pico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">subscribeRedis</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Suscribirse en Redis</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">subscribeGCP</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Suscribirse en Google Cloud Pub/Sub</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">subscribeAWS</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Suscribirse en AWS SQS</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">subscribeLocal</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Suscribirse localmente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unsubscribe</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Desuscribirse de t√≥pico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unsubscribeRedis</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Desuscribirse en Redis</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unsubscribeGCP</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Desuscribirse en Google Cloud Pub/Sub</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unsubscribeAWS</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Desuscribirse en AWS</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unsubscribeLocal</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Desuscribirse localmente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">disconnect</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Desconectar</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">disconnectRedis</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Desconectar Redis</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">disconnectGCP</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Desconectar Google Cloud Pub/Sub</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">disconnectAWS</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Desconectar AWS</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">disconnectLocal</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Desconectar local</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">formatTopic</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Formatear t√≥pico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isWildcardPattern</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Verificar si es patr√≥n wildcard</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateMessageId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Generar ID de mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateDeduplicationId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Generar ID de deduplicaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">simpleHash</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Hash simple para deduplicaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getOrCreateAWSTopic</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Obtener o crear t√≥pico AWS</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getOrCreateAWSQueue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Obtener o crear cola AWS</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateMessageSizeMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Actualizar m√©tricas de tama√±o de mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Obtener m√©tricas espec√≠ficas de Pub/Sub</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Obtener estado espec√≠fico de Pub/Sub</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getTopics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Obtener informaci√≥n de t√≥picos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSubscriptions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/PubSubAdapter.js</div>
                <div class="item-description">Obtener informaci√≥n de suscripciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">connect</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/WebSocketAdapter.js</div>
                <div class="item-description">WebSocketAdapter - Adaptador WebSocket para Comunicaci√≥n en Tiempo Real Implementa comunicaci√≥n bidireccional en tiempo real usando WebSockets para el sistema event-driven</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 2.0.0 /  import { BaseAdapter } from './BaseAdapter.js'; import { createLogger } from '../services/core/core/logger.js'; import WebSocket from 'ws';  const logger = createLogger('WEBSOCKET_ADAPTER');  export class WebSocketAdapter extends BaseAdapter { constructor(options = {}) { super('WebSocket', { type: 'websocket', ...options });  // Configuraci√≥n espec√≠fica de WebSocket this.wsConfig = { url: options.url || 'ws://localhost:8080', protocols: options.protocols || [],  // Configuraci√≥n del servidor (si act√∫a como servidor) isServer: options.isServer || false, port: options.port || 8080, host: options.host || 'localhost',  // Configuraci√≥n de conexi√≥n handshakeTimeout: options.handshakeTimeout || 30000, perMessageDeflate: options.perMessageDeflate !== false, maxPayload: options.maxPayload || 100 * 1024 * 1024, // 100MB  // Configuraci√≥n de ping/pong pingInterval: options.pingInterval || 30000, pongTimeout: options.pongTimeout || 5000,  // Configuraci√≥n de autenticaci√≥n enableAuth: options.enableAuth || false, authToken: options.authToken || null, authHeader: options.authHeader || 'Authorization',  // Configuraci√≥n de canales enableChannels: options.enableChannels !== false, defaultChannel: options.defaultChannel || 'default',  ...options.wsConfig };  // Estado del WebSocket this.ws = null; this.server = null; this.clients = new Map(); // Para modo servidor this.channels = new Map(); // Gesti√≥n de canales this.subscriptions = new Set(); // Suscripciones activas  // Timers espec√≠ficos de WebSocket this.pingTimer = null; this.pongTimer = null;  // M√©tricas espec√≠ficas de WebSocket this.wsMetrics = { messagesPerSecond: 0, bytesPerSecond: 0, totalBytes: 0, totalMessages: 0, pingLatency: 0, clientCount: 0, channelCount: 0 };  logger.info('WebSocketAdapter inicializado', { config: this.wsConfig, isServer: this.wsConfig.isServer }); }  /** Conectar WebSocket 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startServer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/WebSocketAdapter.js</div>
                <div class="item-description">Iniciar servidor WebSocket</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">connectClient</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/WebSocketAdapter.js</div>
                <div class="item-description">Conectar como cliente WebSocket</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleClientConnection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/WebSocketAdapter.js</div>
                <div class="item-description">Manejar conexi√≥n de cliente (modo servidor)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupClientHandlers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/WebSocketAdapter.js</div>
                <div class="item-description">Configurar handlers del cliente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/WebSocketAdapter.js</div>
                <div class="item-description">Manejar mensaje recibido</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleClose</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/WebSocketAdapter.js</div>
                <div class="item-description">Manejar cierre de conexi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handlePing</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/WebSocketAdapter.js</div>
                <div class="item-description">Manejar ping</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handlePong</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/WebSocketAdapter.js</div>
                <div class="item-description">Manejar pong</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startPingPong</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/WebSocketAdapter.js</div>
                <div class="item-description">Iniciar ping/pong</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleSubscribe</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/WebSocketAdapter.js</div>
                <div class="item-description">Manejar suscripci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleUnsubscribe</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/WebSocketAdapter.js</div>
                <div class="item-description">Manejar desuscripci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleJoinChannel</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/WebSocketAdapter.js</div>
                <div class="item-description">Manejar uni√≥n a canal</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleLeaveChannel</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/WebSocketAdapter.js</div>
                <div class="item-description">Manejar salida de canal</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addClientToChannel</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/WebSocketAdapter.js</div>
                <div class="item-description">A√±adir cliente a canal</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">removeClientFromChannel</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/WebSocketAdapter.js</div>
                <div class="item-description">Remover cliente de canal</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">send</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/WebSocketAdapter.js</div>
                <div class="item-description">Enviar evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendToServer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/WebSocketAdapter.js</div>
                <div class="item-description">Enviar al servidor (modo cliente)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendToClient</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/WebSocketAdapter.js</div>
                <div class="item-description">Enviar a cliente espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">broadcastToClients</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/WebSocketAdapter.js</div>
                <div class="item-description">Broadcast a clientes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">subscribe</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/WebSocketAdapter.js</div>
                <div class="item-description">Suscribirse a patr√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unsubscribe</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/WebSocketAdapter.js</div>
                <div class="item-description">Desuscribirse de patr√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">disconnect</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/WebSocketAdapter.js</div>
                <div class="item-description">Desconectar</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendHeartbeat</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/WebSocketAdapter.js</div>
                <div class="item-description">Enviar heartbeat</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateClientId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/WebSocketAdapter.js</div>
                <div class="item-description">Generar ID de cliente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getClients</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/WebSocketAdapter.js</div>
                <div class="item-description">Obtener informaci√≥n de clientes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getChannels</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/WebSocketAdapter.js</div>
                <div class="item-description">Obtener informaci√≥n de canales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/WebSocketAdapter.js</div>
                <div class="item-description">Obtener m√©tricas espec√≠ficas de WebSocket</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/WebSocketAdapter.js</div>
                <div class="item-description">Obtener estado espec√≠fico de WebSocket</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">mergeConfigs</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/adapters.config.js</div>
                <div class="item-description">Configuraci√≥n de Adaptadores de Comunicaci√≥n Configuraci√≥n centralizada para todos los adaptadores del sistema event-driven (WebSocket, Pub/Sub, MQTT, etc.)</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 2.0.0 /  // Configuraci√≥n por defecto del AdapterManager export const adapterManagerConfig = { // Adaptadores habilitados enabledAdapters: ['websocket', 'pubsub', 'mqtt'],  // Configuraci√≥n general autoStart: true, autoReconnect: true,  // Configuraci√≥n de failover enableFailover: true, failoverTimeout: 30000, primaryAdapter: 'websocket',  // Configuraci√≥n de load balancing enableLoadBalancing: false, loadBalancingStrategy: 'round-robin', // round-robin, least-connections, weighted  // Configuraci√≥n de broadcasting enableBroadcasting: true, broadcastFilters: [ // Filtrar eventos de sistema interno (event) => !event.eventType?.startsWith('system:internal'),  // Filtrar eventos de debug en producci√≥n (event) => process.env.NODE_ENV !== 'production' || event.level !== 'debug' ],  // Configuraci√≥n de m√©tricas enableMetrics: true, metricsInterval: 60000, // 1 minuto  // Configuraci√≥n espec√≠fica de adaptadores adapters: { websocket: { // Configuraci√≥n WebSocket mode: 'server', // 'client' | 'server' | 'both'  // Configuraci√≥n del servidor server: { port: process.env.WS_PORT || 8080, host: process.env.WS_HOST || 'localhost', path: '/ws',  // Configuraci√≥n SSL/TLS ssl: { enabled: process.env.WS_SSL_ENABLED === 'true', cert: process.env.WS_SSL_CERT, key: process.env.WS_SSL_KEY, ca: process.env.WS_SSL_CA },  // Configuraci√≥n de autenticaci√≥n auth: { enabled: process.env.WS_AUTH_ENABLED === 'true', secret: process.env.WS_AUTH_SECRET || 'default-secret', tokenExpiry: 3600000 // 1 hora } },  // Configuraci√≥n del cliente client: { url: process.env.WS_CLIENT_URL || 'ws://localhost:8080/ws', protocols: [],  // Configuraci√≥n de reconexi√≥n reconnect: { enabled: true, maxAttempts: 10, delay: 1000, backoff: 'exponential' } },  // Configuraci√≥n de mensajes message: { maxSize: 1024 * 1024, // 1MB compression: true, format: 'json' // 'json' | 'msgpack' | 'protobuf' },  // Configuraci√≥n de ping/pong ping: { enabled: true, interval: 30000, timeout: 5000 },  // Configuraci√≥n de canales channels: { enabled: true, maxChannelsPerClient: 100, defaultChannel: 'general' } },  pubsub: { // Proveedor de Pub/Sub provider: process.env.PUBSUB_PROVIDER || 'local', // 'redis' | 'gcp' | 'aws' | 'local'  // Configuraci√≥n de Redis redis: { host: process.env.REDIS_HOST || 'localhost', port: process.env.REDIS_PORT || 6379, password: process.env.REDIS_PASSWORD, db: process.env.REDIS_DB || 0,  // Configuraci√≥n de conexi√≥n connectTimeout: 10000, lazyConnect: true, maxRetriesPerRequest: 3,  // Configuraci√≥n de cluster cluster: { enabled: process.env.REDIS_CLUSTER_ENABLED === 'true', nodes: process.env.REDIS_CLUSTER_NODES?.split(',') || [] } },  // Configuraci√≥n de Google Cloud Pub/Sub gcp: { projectId: process.env.GCP_PROJECT_ID, keyFilename: process.env.GCP_KEY_FILENAME,  // Configuraci√≥n de suscripci√≥n subscription: { ackDeadlineSeconds: 60, maxMessages: 100, allowExcessMessages: false } },  // Configuraci√≥n de AWS SNS/SQS aws: { region: process.env.AWS_REGION || 'us-east-1', accessKeyId: process.env.AWS_ACCESS_KEY_ID, secretAccessKey: process.env.AWS_SECRET_ACCESS_KEY,  // Configuraci√≥n SNS sns: { topicArn: process.env.AWS_SNS_TOPIC_ARN },  // Configuraci√≥n SQS sqs: { queueUrl: process.env.AWS_SQS_QUEUE_URL, visibilityTimeout: 30, waitTimeSeconds: 20, maxNumberOfMessages: 10 } },  // Configuraci√≥n de t√≥picos topics: { prefix: process.env.PUBSUB_TOPIC_PREFIX || 'chatbot', separator: ':',  // T√≥picos por defecto defaults: [ 'events', 'notifications', 'analytics', 'errors' ] },  // Configuraci√≥n de mensajes message: { format: 'json', compression: true, maxSize: 256 * 1024, // 256KB ttl: 3600000, // 1 hora  // Configuraci√≥n de deduplicaci√≥n deduplication: { enabled: true, windowSize: 300000, // 5 minutos maxEntries: 10000 } } },  mqtt: { // Configuraci√≥n de conexi√≥n connection: { host: process.env.MQTT_HOST || 'localhost', port: process.env.MQTT_PORT || 1883, protocol: process.env.MQTT_PROTOCOL || 'mqtt', // 'mqtt' | 'mqtts' | 'ws' | 'wss'  // Configuraci√≥n de cliente clientId: process.env.MQTT_CLIENT_ID || `chatbot-${Date.now()}`, clean: true, keepalive: 60, connectTimeout: 30000, reconnectPeriod: 1000,  // Configuraci√≥n de autenticaci√≥n username: process.env.MQTT_USERNAME, password: process.env.MQTT_PASSWORD,  // Configuraci√≥n SSL/TLS ssl: { enabled: process.env.MQTT_SSL_ENABLED === 'true', rejectUnauthorized: process.env.MQTT_SSL_REJECT_UNAUTHORIZED !== 'false', cert: process.env.MQTT_SSL_CERT, key: process.env.MQTT_SSL_KEY, ca: process.env.MQTT_SSL_CA } },  // Configuraci√≥n de Will Message will: { enabled: true, topic: 'chatbot/status', payload: JSON.stringify({ status: 'offline', timestamp: new Date().toISOString() }), qos: 1, retain: true },  // Configuraci√≥n de t√≥picos topics: { prefix: process.env.MQTT_TOPIC_PREFIX || 'chatbot', separator: '/',  // Wildcards permitidos wildcards: { single: '+', multi: '#' },  // T√≥picos por defecto defaults: { events: 'events/+', commands: 'commands/+', status: 'status', metrics: 'metrics' } },  // Configuraci√≥n de QoS qos: { default: 1, // 0: At most once, 1: At least once, 2: Exactly once publish: 1, subscribe: 1 },  // Configuraci√≥n de mensajes message: { retain: false, maxSize: 128 * 1024, // 128KB format: 'json',  // Configuraci√≥n de compresi√≥n compression: { enabled: true, threshold: 1024, // Comprimir mensajes > 1KB algorithm: 'gzip' } },  // Configuraci√≥n de retenci√≥n retention: { enabled: true, maxMessages: 1000, ttl: 3600000 // 1 hora } } } };  // Configuraciones espec√≠ficas por entorno export const environmentConfigs = { development: { enabledAdapters: ['websocket', 'pubsub'], enableMetrics: true,  adapters: { websocket: { server: { port: 8080, host: 'localhost' } }, pubsub: { provider: 'local' } } },  testing: { enabledAdapters: ['websocket'], enableMetrics: false, autoStart: false,  adapters: { websocket: { server: { port: 0, // Puerto aleatorio host: 'localhost' } } } },  production: { enabledAdapters: ['websocket', 'pubsub', 'mqtt'], enableMetrics: true, enableFailover: true, enableLoadBalancing: true,  adapters: { websocket: { server: { ssl: { enabled: true }, auth: { enabled: true } } }, pubsub: { provider: 'redis', // o 'gcp', 'aws' redis: { cluster: { enabled: true } } }, mqtt: { connection: { ssl: { enabled: true } } } } } };  // Configuraci√≥n de logging espec√≠fica para adaptadores export const loggingConfig = { level: process.env.ADAPTER_LOG_LEVEL || 'info',  // Configuraci√≥n por adaptador adapters: { websocket: { level: 'info', logConnections: true, logMessages: false, // Solo en desarrollo logErrors: true }, pubsub: { level: 'info', logPublish: false, logSubscribe: true, logErrors: true }, mqtt: { level: 'info', logConnect: true, logPublish: false, logSubscribe: true, logErrors: true } } };  // Configuraci√≥n de m√©tricas y monitoreo export const metricsConfig = { enabled: process.env.METRICS_ENABLED !== 'false', interval: parseInt(process.env.METRICS_INTERVAL) || 60000,  // M√©tricas a recopilar collect: { connections: true, messages: true, errors: true, latency: true, throughput: true, memory: true, cpu: false // Puede ser costoso },  // Configuraci√≥n de exportaci√≥n export: { enabled: process.env.METRICS_EXPORT_ENABLED === 'true', format: 'prometheus', // 'prometheus' | 'json' | 'csv' endpoint: '/metrics', interval: 30000 },  // Configuraci√≥n de alertas alerts: { enabled: process.env.ALERTS_ENABLED === 'true',  thresholds: { errorRate: 0.05, // 5% latency: 1000, // 1 segundo memoryUsage: 0.8, // 80% connectionFailures: 10 },  // Canales de notificaci√≥n channels: { email: process.env.ALERT_EMAIL, webhook: process.env.ALERT_WEBHOOK, slack: process.env.ALERT_SLACK_WEBHOOK } } };  // Configuraci√≥n de seguridad export const securityConfig = { // Configuraci√≥n de autenticaci√≥n auth: { enabled: process.env.AUTH_ENABLED === 'true', secret: process.env.AUTH_SECRET || 'default-secret-change-in-production', algorithm: 'HS256', expiresIn: '1h',  // Configuraci√≥n de rate limiting rateLimit: { enabled: true, windowMs: 15 * 60 * 1000, // 15 minutos max: 100, // m√°ximo 100 requests por ventana message: 'Too many requests from this IP' } },  // Configuraci√≥n de CORS cors: { enabled: true, origin: process.env.CORS_ORIGIN || '*', methods: ['GET', 'POST', 'PUT', 'DELETE'], allowedHeaders: ['Content-Type', 'Authorization'] },  // Configuraci√≥n de validaci√≥n validation: { enabled: true, maxMessageSize: 1024 * 1024, // 1MB allowedEventTypes: [ 'message:*', 'user:*', 'system:*', 'automation:*' ],  // Sanitizaci√≥n sanitize: { enabled: true, removeScripts: true, removeHtml: false } } };  /** Obtener configuraci√≥n completa para un entorno espec√≠fico / export function getAdapterConfig(environment = process.env.NODE_ENV || 'development') { const baseConfig = { ...adapterManagerConfig }; const envConfig = environmentConfigs[environment] || {};  // Merge configuraciones return mergeConfigs(baseConfig, envConfig); }  /** Merge profundo de configuraciones 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getDefaultConfigForType</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/factory.js</div>
                <div class="item-description">Factory de Adaptadores de Comunicaci√≥n Factory para crear e inicializar adaptadores de comunicaci√≥n de manera simplificada y consistente</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 2.0.0 /  import { createLogger } from '../services/core/core/logger.js'; import { BaseAdapter } from './BaseAdapter.js'; import { WebSocketAdapter } from './WebSocketAdapter.js'; import { PubSubAdapter } from './PubSubAdapter.js'; import { MQTTAdapter } from './MQTTAdapter.js'; import { LocalAdapter } from './LocalAdapter.js'; import { AdapterManager } from './AdapterManager.js'; import { getAdapterConfig, validateAdapterConfig } from './adapters.config.js';  const logger = createLogger('ADAPTER_FACTORY');  // Registro de tipos de adaptadores const ADAPTER_TYPES = { base: BaseAdapter, websocket: WebSocketAdapter, pubsub: PubSubAdapter, mqtt: MQTTAdapter, local: LocalAdapter };  /** Crear adaptador espec√≠fico <br><strong>@param:</strong> {string} type - Tipo de adaptador ('websocket', 'pubsub', 'mqtt', 'local'), {Object} config - Configuraci√≥n del adaptador, {Object} options - Opciones adicionales, {Object} eventBus - EventBus del sistema, {Object} config - Configuraci√≥n del gestor, {Object} options - Opciones adicionales, {Array} adapters - Array de configuraciones de adaptadores, {Object} options - Opciones globales, {string} url - URL del adaptador (ej: ws://localhost:8080, mqtt://broker.com), {Object} options - Opciones adicionales, {string} type - Nombre del tipo, {Class} AdapterClass - Clase del adaptador / export function registerAdapterType(type, AdapterClass) { if (!type || typeof type !== 'string') { throw new Error('Tipo de adaptador requerido'); }  if (!AdapterClass || typeof AdapterClass !== 'function') { throw new Error('Clase de adaptador requerida'); }  // Verificar que extiende BaseAdapter if (!AdapterClass.prototype instanceof BaseAdapter) { throw new Error('La clase debe extender BaseAdapter'); }  const normalizedType = type.toLowerCase();  if (ADAPTER_TYPES[normalizedType]) { logger.warn(`Sobrescribiendo tipo de adaptador existente: ${normalizedType}`); }  ADAPTER_TYPES[normalizedType] = AdapterClass;  logger.info(`Tipo de adaptador registrado: ${normalizedType}`); }  /** Obtener tipos de adaptadores disponibles , {string} type - Tipo a verificar<br><strong>@returns:</strong> {BaseAdapter} Instancia del adaptador / export function createAdapter(type, config = {}, options = {}) { try { // Validar tipo if (!type || typeof type !== 'string') { throw new Error('Tipo de adaptador requerido'); }  const normalizedType = type.toLowerCase(); const AdapterClass = ADAPTER_TYPES[normalizedType];  if (!AdapterClass) { throw new Error(`Tipo de adaptador desconocido: ${type}. Tipos disponibles: ${Object.keys(ADAPTER_TYPES).join(', ')}`); }  // Obtener configuraci√≥n por defecto para el tipo const defaultConfig = getDefaultConfigForType(normalizedType);  // Merge configuraciones const finalConfig = mergeConfigs(defaultConfig, config);  // Validar configuraci√≥n si hay validador espec√≠fico if (options.validate !== false) { validateAdapterTypeConfig(normalizedType, finalConfig); }  // Crear instancia const adapter = new AdapterClass(finalConfig);  // Configurar opciones adicionales if (options.autoConnect) { adapter.connect().catch(error => { logger.error(`Error en auto-conexi√≥n de adaptador ${type}:`, error); }); }  logger.info(`Adaptador ${type} creado correctamente`);  return adapter;  } catch (error) { logger.error(`Error creando adaptador ${type}:`, error); throw error; } }  /** Crear gestor de adaptadores , {AdapterManager} Instancia del gestor / export function createAdapterManager(eventBus, config = {}, options = {}) { try { // Obtener configuraci√≥n por defecto const environment = options.environment || process.env.NODE_ENV || 'development'; const defaultConfig = getAdapterConfig(environment);  // Merge configuraciones const finalConfig = mergeConfigs(defaultConfig, config);  // Validar configuraci√≥n if (options.validate !== false) { const validation = validateAdapterConfig(finalConfig); if (!validation.isValid) { throw new Error(`Configuraci√≥n inv√°lida: ${validation.errors.join(', ')}`); } }  // Crear instancia del gestor const manager = new AdapterManager(eventBus, finalConfig);  // Auto-inicializar si est√° habilitado if (options.autoInitialize !== false) { manager.initialize().catch(error => { logger.error('Error en auto-inicializaci√≥n del AdapterManager:', error); }); }  logger.info('AdapterManager creado correctamente', { environment, enabledAdapters: finalConfig.enabledAdapters });  return manager;  } catch (error) { logger.error('Error creando AdapterManager:', error); throw error; } }  /** Crear m√∫ltiples adaptadores , {Map} Map con los adaptadores creados / export function createAdapters(adapters, options = {}) { const createdAdapters = new Map(); const errors = [];  for (const adapterConfig of adapters) { try { const { name, type, config = {}, ...adapterOptions } = adapterConfig;  if (!name || !type) { throw new Error('Nombre y tipo de adaptador requeridos'); }  const adapter = createAdapter(type, config, { ...options, ...adapterOptions });  createdAdapters.set(name, adapter);  } catch (error) { logger.error(`Error creando adaptador ${adapterConfig.name || 'unknown'}:`, error); errors.push({ adapter: adapterConfig.name || 'unknown', error: error.message });  if (options.failFast) { throw error; } } }  if (errors.length > 0 && options.throwOnErrors) { throw new Error(`Errores creando adaptadores: ${JSON.stringify(errors)}`); }  logger.info(`Adaptadores creados: ${createdAdapters.size}/${adapters.length}`);  return { adapters: createdAdapters, errors }; }  /** Crear adaptador desde URL , {BaseAdapter} Instancia del adaptador / export function createAdapterFromUrl(url, options = {}) { try { const parsedUrl = new URL(url); const protocol = parsedUrl.protocol.replace(':', '');  // Mapear protocolos a tipos de adaptadores const protocolMap = { 'ws': 'websocket', 'wss': 'websocket', 'mqtt': 'mqtt', 'mqtts': 'mqtt', 'redis': 'pubsub', 'local': 'local' };  const adapterType = protocolMap[protocol]; if (!adapterType) { throw new Error(`Protocolo no soportado: ${protocol}`); }  // Generar configuraci√≥n desde URL const config = generateConfigFromUrl(adapterType, parsedUrl, options);  return createAdapter(adapterType, config, options);  } catch (error) { logger.error(`Error creando adaptador desde URL ${url}:`, error); throw error; } }  /** Registrar tipo de adaptador personalizado , {Array} Array con los tipos disponibles / export function getAvailableAdapterTypes() { return Object.keys(ADAPTER_TYPES); }  /** Verificar si un tipo de adaptador est√° disponible , {boolean} True si est√° disponible / export function isAdapterTypeAvailable(type) { return ADAPTER_TYPES.hasOwnProperty(type.toLowerCase()); }  /** Obtener configuraci√≥n por defecto para un tipo 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateAdapterTypeConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/factory.js</div>
                <div class="item-description">Validar configuraci√≥n espec√≠fica del tipo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateWebSocketConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/factory.js</div>
                <div class="item-description">Validar configuraci√≥n WebSocket</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validatePubSubConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/factory.js</div>
                <div class="item-description">Validar configuraci√≥n Pub/Sub</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateMQTTConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/factory.js</div>
                <div class="item-description">Validar configuraci√≥n MQTT</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateLocalConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/factory.js</div>
                <div class="item-description">Validar configuraci√≥n Local</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateConfigFromUrl</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/factory.js</div>
                <div class="item-description">Generar configuraci√≥n desde URL</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">mergeConfigs</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/adapters/factory.js</div>
                <div class="item-description">Merge profundo de configuraciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">middleware</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/api/middleware/ImageOptimizer.js</div>
                <div class="item-description">Middleware de Optimizaci√≥n de Im√°genes Comprime autom√°ticamente las im√°genes subidas para mejorar el rendimiento / import sharp from 'sharp'; import path from 'path'; import fs from 'fs-extra'; import { createLogger } from '../../services/core/core/logger.js'; class ImageOptimizer { constructor(options = {}) { this.options = { quality: options.quality || 80, maxWidth: options.maxWidth || 1920, maxHeight: options.maxHeight || 1080, format: options.format || 'jpeg', enableWebP: options.enableWebP || true, ...options }; // Logger centralizado this.logger = createLogger('IMAGE_OPTIMIZER'); } /** Middleware para optimizar im√°genes autom√°ticamente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isImage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/api/middleware/ImageOptimizer.js</div>
                <div class="item-description">Verifica si el archivo es una imagen</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeImage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/api/middleware/ImageOptimizer.js</div>
                <div class="item-description">Optimiza una imagen individual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeImageFromPath</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/api/middleware/ImageOptimizer.js</div>
                <div class="item-description">Optimiza una imagen desde una ruta espec√≠fica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateImageVariants</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/api/middleware/ImageOptimizer.js</div>
                <div class="item-description">Genera m√∫ltiples versiones de una imagen (thumbnails, diferentes tama√±os)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">parsePaginationParams</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/api/middleware/PaginationMiddleware.js</div>
                <div class="item-description">Middleware de Paginaci√≥n para Optimizaci√≥n de Consultas Proporciona paginaci√≥n eficiente y optimizaci√≥n de consultas de base de datos / import { createLogger } from '../../services/core/core/logger.js'; class PaginationMiddleware { constructor(options = {}) { this.defaultLimit = options.defaultLimit || 20; this.maxLimit = options.maxLimit || 100; this.defaultSort = options.defaultSort || { createdAt: -1 }; this.enableCache = options.enableCache !== false; this.cacheService = options.cacheService; // Logger centralizado this.logger = createLogger('PAGINATION_MIDDLEWARE'); } /** Middleware para parsear par√°metros de paginaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateCacheKey</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/api/middleware/PaginationMiddleware.js</div>
                <div class="item-description">Genera una clave de cach√© basada en los par√°metros de la consulta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">withCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/api/middleware/PaginationMiddleware.js</div>
                <div class="item-description">Middleware para aplicar cach√© a consultas paginadas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">buildMongoQuery</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/api/middleware/PaginationMiddleware.js</div>
                <div class="item-description">Construye una consulta MongoDB optimizada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executePaginatedQuery</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/api/middleware/PaginationMiddleware.js</div>
                <div class="item-description">Ejecuta una consulta paginada optimizada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">formatResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/api/middleware/PaginationMiddleware.js</div>
                <div class="item-description">Formatea la respuesta paginada est√°ndar</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">invalidateCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/api/middleware/PaginationMiddleware.js</div>
                <div class="item-description">Middleware para invalidar cach√© relacionado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateCacheKey</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/api/middleware/cacheMiddleware.js</div>
                <div class="item-description">Cache Middleware Middleware para integrar Redis Cache en rutas de API Recomendaci√≥n #16: Redis Cache / import cacheService from '../services/CacheService.js'; import logger from '../../services/core/core/logger.js'; /** Middleware de cache para respuestas HTTP / export const cacheMiddleware = (options = {}) => { const { ttl = 300, // 5 minutos por defecto keyGenerator = null, skipCache = false, varyBy = [] } = options; return async(req, res, next) => { // Saltar cache si est√° deshabilitado if (skipCache || req.method !== 'GET') { return next(); } try { // Generar clave de cache const cacheKey = keyGenerator ? keyGenerator(req) : generateCacheKey(req, varyBy); // Intentar obtener del cache const cachedResponse = await cacheService.get(cacheKey); if (cachedResponse) { logger.debug(`Cache HIT para ruta: ${req.originalUrl}`); // Establecer headers de cache res.set('X-Cache', 'HIT'); res.set('X-Cache-Key', cacheKey); return res.json(cachedResponse); } // Cache MISS - continuar con la ruta logger.debug(`Cache MISS para ruta: ${req.originalUrl}`); res.set('X-Cache', 'MISS'); res.set('X-Cache-Key', cacheKey); // Interceptar la respuesta para cachearla const originalJson = res.json; res.json = function(data) { // Cachear solo respuestas exitosas if (res.statusCode >= 200 && res.statusCode < 300) { cacheService.set(cacheKey, data, ttl) .catch(error => { logger.error('Error cacheando respuesta:', error); }); } return originalJson.call(this, data); }; next(); } catch (error) { logger.error('Error en cache middleware:', error); next(); // Continuar sin cache en caso de error } }; }; /** Middleware para invalidar cache / export const invalidateCacheMiddleware = (patterns = []) => { return async(req, res, next) => { // Ejecutar la ruta primero const originalJson = res.json; res.json = async function(data) { // Invalidar cache despu√©s de operaciones exitosas if (res.statusCode >= 200 && res.statusCode < 300) { try { for (const pattern of patterns) { const resolvedPattern = typeof pattern === 'function' ? pattern(req, data) : pattern; await cacheService.delPattern(resolvedPattern); logger.debug(`Cache invalidado: ${resolvedPattern}`); } } catch (error) { logger.error('Error invalidando cache:', error); } } return originalJson.call(this, data); }; next(); }; }; /** Middleware espec√≠fico para contactos / export const contactCacheMiddleware = cacheMiddleware({ ttl: 1800, // 30 minutos keyGenerator: (req) => { const { id } = req.params; const { page, limit, search } = req.query; if (id) { return `contact:${id}`; } return `contacts:list:${page || 1}:${limit || 10}:${search || 'all'}`; } }); /** Middleware espec√≠fico para conversaciones / export const conversationCacheMiddleware = cacheMiddleware({ ttl: 3600, // 1 hora keyGenerator: (req) => { const { id } = req.params; const { contactId, limit } = req.query; if (id) { return `conversation:${id}`; } return `conversations:${contactId || 'all'}:${limit || 50}`; } }); /** Middleware espec√≠fico para plantillas / export const templateCacheMiddleware = cacheMiddleware({ ttl: 7200, // 2 horas keyGenerator: (req) => { const { id } = req.params; const { status, category } = req.query; if (id) { return `template:${id}`; } return `templates:${status || 'all'}:${category || 'all'}`; } }); /** Middleware espec√≠fico para estad√≠sticas / export const statsCacheMiddleware = cacheMiddleware({ ttl: 600, // 10 minutos keyGenerator: (req) => { const { period, type } = req.query; return `stats:${type || 'general'}:${period || 'day'}`; } }); /** Middleware para rate limiting con cache / export const rateLimitCacheMiddleware = (options = {}) => { // Rate limiting desactivado - permitir todas las peticiones return (req, res, next) => { next(); }; }; /** Generar clave de cache basada en la request</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeSandboxManager</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/api/routes/sandbox.js</div>
                <div class="item-description">Inicializar SandboxManager</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateJSON</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/api/routes/sandbox.js</div>
                <div class="item-description">Middleware para validar JSON</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/api/routes/sandbox.js</div>
                <div class="item-description">Middleware para manejar errores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/models/AIResponse.js</div>
                <div class="item-description">Modelo de Respuesta de IA Define la estructura y validaci√≥n para respuestas generadas por IA, incluyendo metadatos, contexto y m√©tricas de calidad.</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 1.0.0 /  import { generateId } from '../../../../services/core/core/database.js';  /** Clase para gestionar respuestas de IA / export class AIResponse { constructor(data = {}) { this.id = data.id || generateId(); this.conversationId = data.conversationId || ''; this.contactId = data.contactId || ''; this.messageId = data.messageId || ''; this.prompt = data.prompt || ''; this.response = data.response || ''; this.model = data.model || 'gpt-3.5-turbo'; this.provider = data.provider || 'openai'; this.type = data.type || 'text'; // text, template, action this.confidence = data.confidence || 0; this.tokens = { prompt: data.tokens?.prompt || 0, completion: data.tokens?.completion || 0, total: data.tokens?.total || 0 }; this.cost = data.cost || 0; this.processingTime = data.processingTime || 0; this.context = data.context || {}; this.metadata = { temperature: data.metadata?.temperature || 0.7, maxTokens: data.metadata?.maxTokens || 1000, topP: data.metadata?.topP || 1, frequencyPenalty: data.metadata?.frequencyPenalty || 0, presencePenalty: data.metadata?.presencePenalty || 0, ...data.metadata }; this.quality = { relevance: data.quality?.relevance || 0, coherence: data.quality?.coherence || 0, helpfulness: data.quality?.helpfulness || 0, safety: data.quality?.safety || 0, ...data.quality }; this.feedback = { rating: data.feedback?.rating || 0, comment: data.feedback?.comment || '', helpful: data.feedback?.helpful || null, ...data.feedback }; this.status = data.status || 'completed'; // pending, completed, failed, cancelled this.error = data.error || null; this.retryCount = data.retryCount || 0; this.tags = data.tags || []; this.category = data.category || 'general'; this.isUsed = data.isUsed || false; this.usedAt = data.usedAt || null; this.createdAt = data.createdAt || new Date().toISOString(); this.updatedAt = data.updatedAt || new Date().toISOString();  this.validate(); }  /** Validar los datos de la respuesta de IA 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">markAsUsed</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/models/AIResponse.js</div>
                <div class="item-description">Marcar respuesta como usada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateFeedback</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/models/AIResponse.js</div>
                <div class="item-description">Actualizar feedback de la respuesta</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {Object} feedback - Feedback del usuario 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateQuality</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/models/AIResponse.js</div>
                <div class="item-description">Actualizar m√©tricas de calidad</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {Object} quality - M√©tricas de calidad 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateCost</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/models/AIResponse.js</div>
                <div class="item-description">Calcular costo estimado basado en tokens</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {Object} pricing - Precios por modelo 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSummary</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/models/AIResponse.js</div>
                <div class="item-description">Obtener resumen de la respuesta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isHighQuality</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/models/AIResponse.js</div>
                <div class="item-description">Verificar si la respuesta es de alta calidad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getProcessingTimeFormatted</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/models/AIResponse.js</div>
                <div class="item-description">Obtener tiempo de procesamiento en formato legible</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">needsRetry</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/models/AIResponse.js</div>
                <div class="item-description">Verificar si necesita retry</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">incrementRetry</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/models/AIResponse.js</div>
                <div class="item-description">Incrementar contador de retry</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addTag</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/models/AIResponse.js</div>
                <div class="item-description">Agregar tag</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} tag - Tag a agregar 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">removeTag</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/models/AIResponse.js</div>
                <div class="item-description">Remover tag</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} tag - Tag a remover 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">toJSON</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/models/AIResponse.js</div>
                <div class="item-description">Convertir a JSON</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/services/AIService.js</div>
                <div class="item-description">Servicio de IA Encapsula la l√≥gica de negocio para interacciones con IA, incluyendo generaci√≥n de respuestas, an√°lisis de contexto y gesti√≥n de modelos.</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 1.0.0 /  import { getDatabase } from '../../../../services/core/core/database.js'; import { createLogger } from '../../../../services/core/core/logger.js'; import { CONFIG } from '../../../../workflows/index.js'; import { AIResponse } from '../models/AIResponse.js'; import axios from 'axios';  const logger = createLogger('AI_SERVICE');  /** Servicio para gesti√≥n de IA / export class AIService { constructor() { this.db = getDatabase(); this.config = CONFIG.AI; this.providers = { openai: this.createOpenAIProvider(), anthropic: this.createAnthropicProvider(), google: this.createGoogleProvider(), local: this.createLocalProvider() }; this.defaultProvider = this.config.defaultProvider || 'openai'; this.models = this.config.models || {}; this.cache = new Map(); // Cache simple para respuestas this.rateLimits = new Map(); // Control de rate limiting }  /** Generar respuesta de IA<br><strong>@param:</strong> {Object} options - Opciones para la generaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeContext</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/services/AIService.js</div>
                <div class="item-description">Analizar contexto de conversaci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} conversationId - ID de conversaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getResponsesByConversation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/services/AIService.js</div>
                <div class="item-description">Obtener respuestas por conversaci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} conversationId - ID de conversaci√≥n, {Object} options - Opciones de filtrado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateResponseFeedback</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/services/AIService.js</div>
                <div class="item-description">Actualizar feedback de respuesta</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} responseId - ID de respuesta, {Object} feedback - Feedback del usuario 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAIStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/services/AIService.js</div>
                <div class="item-description">Obtener estad√≠sticas de IA</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {Object} filters - Filtros para estad√≠sticas 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clearCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/services/AIService.js</div>
                <div class="item-description">Limpiar cache de respuestas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createOpenAIProvider</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/services/AIService.js</div>
                <div class="item-description">Crear proveedor OpenAI</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createAnthropicProvider</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/services/AIService.js</div>
                <div class="item-description">Crear proveedor Anthropic</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createGoogleProvider</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/services/AIService.js</div>
                <div class="item-description">Crear proveedor Google</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createLocalProvider</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/services/AIService.js</div>
                <div class="item-description">Crear proveedor local</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">buildPrompt</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/services/AIService.js</div>
                <div class="item-description">Construir prompt con contexto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evaluateQuality</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/services/AIService.js</div>
                <div class="item-description">Evaluar calidad de respuesta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkRateLimit</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/services/AIService.js</div>
                <div class="item-description">Verificar rate limit</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateRateLimit</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/services/AIService.js</div>
                <div class="item-description">Actualizar rate limit</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateCacheKey</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/services/AIService.js</div>
                <div class="item-description">Generar clave de cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getDefaultModel</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/services/AIService.js</div>
                <div class="item-description">Obtener modelo por defecto para proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">groupBy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/services/AIService.js</div>
                <div class="item-description">Agrupar elementos por campo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateAvgRating</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/services/AIService.js</div>
                <div class="item-description">Calcular rating promedio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeSentiment</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/services/AIService.js</div>
                <div class="item-description">Analizar sentimiento (placeholder)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractTopics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/services/AIService.js</div>
                <div class="item-description">Extraer temas (placeholder)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectIntent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/services/AIService.js</div>
                <div class="item-description">Detectar intenci√≥n (placeholder)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">determineConversationStage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/ai/services/AIService.js</div>
                <div class="item-description">Determinar etapa de conversaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAllRules</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/controllers/AutomationController.js</div>
                <div class="item-description">Controlador de Automatizaci√≥n Maneja las peticiones HTTP relacionadas con reglas de automatizaci√≥n, coordinando entre las rutas y el servicio de automatizaci√≥n.</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 1.0.0 /  import { getAutomationService } from '../services/AutomationService.js'; import { createLogger } from '../../../../services/core/core/logger.js';  const logger = createLogger('AUTOMATION_CONTROLLER');  /** Controlador para gesti√≥n de automatizaci√≥n / export class AutomationController { constructor() { this.automationService = getAutomationService(); }  /** Obtener todas las reglas con filtros y paginaci√≥n GET /api/automation/rules 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRuleById</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/controllers/AutomationController.js</div>
                <div class="item-description">Obtener regla por ID GET /api/automation/rules/:id</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createRule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/controllers/AutomationController.js</div>
                <div class="item-description">Crear nueva regla POST /api/automation/rules</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateRule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/controllers/AutomationController.js</div>
                <div class="item-description">Actualizar regla existente PUT /api/automation/rules/:id</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deleteRule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/controllers/AutomationController.js</div>
                <div class="item-description">Eliminar regla DELETE /api/automation/rules/:id</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">toggleRuleStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/controllers/AutomationController.js</div>
                <div class="item-description">Activar o desactivar regla PATCH /api/automation/rules/:id/toggle</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evaluateRulesForContact</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/controllers/AutomationController.js</div>
                <div class="item-description">Evaluar reglas para un contacto espec√≠fico POST /api/automation/evaluate/:contactId</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processAutomaticRules</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/controllers/AutomationController.js</div>
                <div class="item-description">Procesar todas las reglas autom√°ticas POST /api/automation/process</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRuleStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/controllers/AutomationController.js</div>
                <div class="item-description">Obtener estad√≠sticas de reglas GET /api/automation/stats</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCategories</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/controllers/AutomationController.js</div>
                <div class="item-description">Obtener categor√≠as disponibles GET /api/automation/categories</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getConditionTypes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/controllers/AutomationController.js</div>
                <div class="item-description">Obtener tipos de condiciones disponibles GET /api/automation/condition-types</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getActionTypes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/controllers/AutomationController.js</div>
                <div class="item-description">Obtener tipos de acciones disponibles GET /api/automation/action-types</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateRule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/controllers/AutomationController.js</div>
                <div class="item-description">Validar regla antes de guardar POST /api/automation/validate</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/models/Rule.js</div>
                <div class="item-description">Modelo de Regla de Automatizaci√≥n Define la estructura y validaci√≥n para reglas de automatizaci√≥n que permiten etiquetar contactos basado en comportamientos.</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 1.0.0 /  import { createLogger } from '../../../../services/core/core/logger.js';  const logger = createLogger('RULE_MODEL');  /** Clase que representa una regla de automatizaci√≥n / export class Rule { constructor(data = {}) { this.id = data.id || this.generateId(); this.name = data.name || ''; this.description = data.description || ''; this.isActive = data.isActive !== undefined ? data.isActive : true; this.priority = data.priority || 1; this.conditions = data.conditions || []; this.actions = data.actions || []; this.tags = data.tags || []; this.category = data.category || 'general'; this.triggerType = data.triggerType || 'immediate'; // immediate, scheduled, manual this.executionCount = data.executionCount || 0; this.lastExecuted = data.lastExecuted || null; this.createdAt = data.createdAt || new Date().toISOString(); this.updatedAt = data.updatedAt || new Date().toISOString(); this.createdBy = data.createdBy || 'system';  this.validate(); }  /** Validar los datos de la regla<br><strong>@throws:</strong> {Error} Si los datos no son v√°lidos 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateCondition</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/models/Rule.js</div>
                <div class="item-description">Validar una condici√≥n espec√≠fica</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} condition - Condici√≥n a validar, {number} index - √çndice de la condici√≥n<br><strong>@returns:</strong> {string[]} Array de errores 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateAction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/models/Rule.js</div>
                <div class="item-description">Validar una acci√≥n espec√≠fica</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} action - Acci√≥n a validar, {number} index - √çndice de la acci√≥n<br><strong>@returns:</strong> {string[]} Array de errores 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evaluate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/models/Rule.js</div>
                <div class="item-description">Evaluar si la regla se aplica a un contacto</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} contact - Datos del contacto, {object} context - Contexto adicional (mensajes, etc.)<br><strong>@returns:</strong> {boolean} True si la regla se aplica 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evaluateCondition</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/models/Rule.js</div>
                <div class="item-description">Evaluar una condici√≥n espec√≠fica</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} condition - Condici√≥n a evaluar, {object} contact - Datos del contacto, {object} context - Contexto adicional<br><strong>@returns:</strong> {boolean} Resultado de la evaluaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">applyOperator</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/models/Rule.js</div>
                <div class="item-description">Aplicar operador de comparaci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {any} actualValue - Valor actual, {string} operator - Operador, {any} expectedValue - Valor esperado<br><strong>@returns:</strong> {boolean} Resultado de la comparaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">execute</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/models/Rule.js</div>
                <div class="item-description">Ejecutar las acciones de la regla</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} contact - Contacto objetivo, {object} context - Contexto de ejecuci√≥n<br><strong>@returns:</strong> {Promise<object>} Resultado de la ejecuci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeAction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/models/Rule.js</div>
                <div class="item-description">Ejecutar una acci√≥n espec√≠fica</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} action - Acci√≥n a ejecutar, {object} contact - Contacto objetivo, {object} context - Contexto de ejecuci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/models/Rule.js</div>
                <div class="item-description">Generar ID √∫nico para la regla</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {string} ID √∫nico 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">toJSON</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/models/Rule.js</div>
                <div class="item-description">Convertir a JSON</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {object} Representaci√≥n JSON 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAllRules</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/services/AutomationService.js</div>
                <div class="item-description">Servicio de Automatizaci√≥n Maneja toda la l√≥gica de negocio relacionada con reglas de automatizaci√≥n, incluyendo evaluaci√≥n, ejecuci√≥n y gesti√≥n de reglas.</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 1.0.0 /  import { getDatabase } from '../../../../services/core/core/database.js'; import { createLogger } from '../../../../services/core/core/logger.js'; import { Rule } from '../models/Rule.js'; import { getContactService } from '../../contacts/services/ContactService.js'; import { getMessageService } from '../../messaging/services/MessageService.js';  const logger = createLogger('AUTOMATION_SERVICE');  /** Servicio para gesti√≥n de automatizaci√≥n / export class AutomationService { constructor() { this.db = getDatabase(); this.filename = this.db.files.RULES; this.contactService = getContactService(); this.messageService = getMessageService(); this.isProcessing = false; }  /** Obtener todas las reglas con filtros y paginaci√≥n<br><strong>@param:</strong> {object} options - Opciones de filtrado y paginaci√≥n<br><strong>@returns:</strong> {Promise<object>} Lista de reglas con metadata 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRuleById</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/services/AutomationService.js</div>
                <div class="item-description">Obtener regla por ID</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} id - ID de la regla<br><strong>@returns:</strong> {Promise<Rule|null>} Regla encontrada 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createRule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/services/AutomationService.js</div>
                <div class="item-description">Crear nueva regla</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} ruleData - Datos de la regla<br><strong>@returns:</strong> {Promise<Rule>} Regla creada 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateRule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/services/AutomationService.js</div>
                <div class="item-description">Actualizar regla existente</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} id - ID de la regla, {object} updateData - Datos a actualizar<br><strong>@returns:</strong> {Promise<Rule>} Regla actualizada 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deleteRule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/services/AutomationService.js</div>
                <div class="item-description">Eliminar regla</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} id - ID de la regla<br><strong>@returns:</strong> {Promise<boolean>} True si se elimin√≥ exitosamente 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">toggleRuleStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/services/AutomationService.js</div>
                <div class="item-description">Activar o desactivar regla</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} id - ID de la regla, {boolean} isActive - Estado activo<br><strong>@returns:</strong> {Promise<Rule>} Regla actualizada 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evaluateRulesForContact</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/services/AutomationService.js</div>
                <div class="item-description">Evaluar reglas para un contacto espec√≠fico</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} contactId - ID del contacto, {object} context - Contexto adicional<br><strong>@returns:</strong> {Promise<object>} Resultado de la evaluaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processAutomaticRules</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/services/AutomationService.js</div>
                <div class="item-description">Procesar todas las reglas autom√°ticas</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} options - Opciones de procesamiento<br><strong>@returns:</strong> {Promise<object>} Resultado del procesamiento 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRuleStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/services/AutomationService.js</div>
                <div class="item-description">Obtener estad√≠sticas de reglas</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} filters - Filtros para las estad√≠sticas<br><strong>@returns:</strong> {Promise<object>} Estad√≠sticas 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getActiveRulesByPriority</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/services/AutomationService.js</div>
                <div class="item-description">Obtener reglas activas ordenadas por prioridad</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@returns:</strong> {Promise<Rule[]>} Reglas activas 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getActiveRulesByType</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/services/AutomationService.js</div>
                <div class="item-description">Obtener reglas activas por tipo</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {string[]} types - Tipos de trigger<br><strong>@returns:</strong> {Promise<Rule[]>} Reglas filtradas 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">buildContactContext</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/services/AutomationService.js</div>
                <div class="item-description">Construir contexto para evaluaci√≥n de reglas</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {object} contact - Datos del contacto, {object} additionalContext - Contexto adicional<br><strong>@returns:</strong> {Promise<object>} Contexto completo 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateAverageResponseTime</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/services/AutomationService.js</div>
                <div class="item-description">Calcular tiempo promedio de respuesta</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {object[]} messages - Mensajes de la conversaci√≥n<br><strong>@returns:</strong> {number} Tiempo promedio en horas 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getContactsForProcessing</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/automation/services/AutomationService.js</div>
                <div class="item-description">Obtener contactos para procesamiento</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {number} limit - L√≠mite de contactos, {boolean} skipRecent - Omitir procesados recientemente<br><strong>@returns:</strong> {Promise<object[]>} Lista de contactos 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/contacts/models/Contact.js</div>
                <div class="item-description">Modelo de Contacto Define la estructura y validaciones para los contactos del sistema de gesti√≥n de WhatsApp Business.</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 1.0.0 /  import { createLogger } from '../../../../services/core/core/logger.js';  const logger = createLogger('CONTACT_MODEL');  /** Clase modelo para Contactos / export class Contact { constructor(data = {}) { this.id = data.id || null; this.phone = data.phone || ''; this.name = data.name || ''; this.email = data.email || ''; this.tags = data.tags || []; this.segments = data.segments || []; this.status = data.status || 'active'; this.lastInteraction = data.lastInteraction || null; this.metadata = data.metadata || {}; this.customFields = data.customFields || {}; this.createdAt = data.createdAt || new Date().toISOString(); this.updatedAt = data.updatedAt || new Date().toISOString();  // Validar datos al crear instancia this.validate(); }  /** Validar datos del contacto<br><strong>@throws:</strong> {Error} Si los datos son inv√°lidos 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isValidPhone</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/contacts/models/Contact.js</div>
                <div class="item-description">Validar formato de tel√©fono</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} phone - N√∫mero de tel√©fono<br><strong>@returns:</strong> {boolean} True si es v√°lido 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isValidEmail</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/contacts/models/Contact.js</div>
                <div class="item-description">Validar formato de email</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} email - Direcci√≥n de email<br><strong>@returns:</strong> {boolean} True si es v√°lido 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addTag</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/contacts/models/Contact.js</div>
                <div class="item-description">Agregar etiqueta al contacto</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} tag - Etiqueta a agregar 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">removeTag</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/contacts/models/Contact.js</div>
                <div class="item-description">Remover etiqueta del contacto</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} tag - Etiqueta a remover 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addSegment</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/contacts/models/Contact.js</div>
                <div class="item-description">Agregar segmento al contacto</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} segment - Segmento a agregar 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">removeSegment</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/contacts/models/Contact.js</div>
                <div class="item-description">Remover segmento del contacto</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} segment - Segmento a remover 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateLastInteraction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/contacts/models/Contact.js</div>
                <div class="item-description">Actualizar √∫ltimo contacto</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {Date|string} date - Fecha de √∫ltima interacci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateMetadata</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/contacts/models/Contact.js</div>
                <div class="item-description">Actualizar metadata del contacto</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} newMetadata - Nueva metadata 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateCustomFields</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/contacts/models/Contact.js</div>
                <div class="item-description">Actualizar campos personalizados</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} newFields - Nuevos campos personalizados 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">changeStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/contacts/models/Contact.js</div>
                <div class="item-description">Cambiar status del contacto</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} newStatus - Nuevo status 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isActive</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/contacts/models/Contact.js</div>
                <div class="item-description">Verificar si el contacto est√° activo</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {boolean} True si est√° activo 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isBlocked</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/contacts/models/Contact.js</div>
                <div class="item-description">Verificar si el contacto est√° bloqueado</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {boolean} True si est√° bloqueado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getDaysSinceLastInteraction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/contacts/models/Contact.js</div>
                <div class="item-description">Obtener d√≠as desde √∫ltima interacci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {number} D√≠as desde √∫ltima interacci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">toJSON</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/contacts/models/Contact.js</div>
                <div class="item-description">Convertir a objeto plano para almacenamiento</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {object} Objeto plano 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/models/Message.js</div>
                <div class="item-description">Modelo de Mensaje Define la estructura y validaciones para los mensajes del sistema de WhatsApp Business.</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 1.0.0 /  import { createLogger } from '../../../../services/core/core/logger.js';  const logger = createLogger('MESSAGE_MODEL');  /** Clase modelo para Mensajes / export class Message { constructor(data = {}) { this.id = data.id || null; this.type = data.type || 'text'; // text, image, document, audio, video, template this.direction = data.direction || 'outbound'; // inbound, outbound this.status = data.status || 'pending'; // pending, sent, delivered, read, failed this.from = data.from || ''; this.to = data.to || ''; this.content = data.content || {}; this.templateId = data.templateId || null; this.templateData = data.templateData || {}; this.mediaUrl = data.mediaUrl || null; this.mediaType = data.mediaType || null; this.metadata = data.metadata || {}; this.errorCode = data.errorCode || null; this.errorMessage = data.errorMessage || null; this.whatsappMessageId = data.whatsappMessageId || null; this.conversationId = data.conversationId || null; this.campaignId = data.campaignId || null; this.automationRuleId = data.automationRuleId || null; this.scheduledAt = data.scheduledAt || null; this.sentAt = data.sentAt || null; this.deliveredAt = data.deliveredAt || null; this.readAt = data.readAt || null; this.createdAt = data.createdAt || new Date().toISOString(); this.updatedAt = data.updatedAt || new Date().toISOString();  // Validar datos al crear instancia this.validate(); }  /** Validar datos del mensaje<br><strong>@throws:</strong> {Error} Si los datos son inv√°lidos 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">markAsSent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/models/Message.js</div>
                <div class="item-description">Marcar mensaje como enviado</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} whatsappMessageId - ID del mensaje en WhatsApp 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">markAsDelivered</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/models/Message.js</div>
                <div class="item-description">Marcar mensaje como entregado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">markAsRead</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/models/Message.js</div>
                <div class="item-description">Marcar mensaje como le√≠do</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">markAsFailed</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/models/Message.js</div>
                <div class="item-description">Marcar mensaje como fallido</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} errorCode - C√≥digo de error, {string} errorMessage - Mensaje de error 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">schedule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/models/Message.js</div>
                <div class="item-description">Programar mensaje para env√≠o futuro</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {Date|string} scheduledDate - Fecha programada 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isPending</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/models/Message.js</div>
                <div class="item-description">Verificar si el mensaje est√° pendiente</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {boolean} True si est√° pendiente 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isSent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/models/Message.js</div>
                <div class="item-description">Verificar si el mensaje fue enviado</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {boolean} True si fue enviado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isFailed</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/models/Message.js</div>
                <div class="item-description">Verificar si el mensaje fall√≥</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {boolean} True si fall√≥ 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isScheduled</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/models/Message.js</div>
                <div class="item-description">Verificar si el mensaje est√° programado</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {boolean} True si est√° programado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isInbound</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/models/Message.js</div>
                <div class="item-description">Verificar si es mensaje entrante</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {boolean} True si es entrante 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isOutbound</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/models/Message.js</div>
                <div class="item-description">Verificar si es mensaje saliente</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {boolean} True si es saliente 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getContactPhone</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/models/Message.js</div>
                <div class="item-description">Obtener n√∫mero de tel√©fono del contacto</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {string} N√∫mero de tel√©fono 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateMetadata</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/models/Message.js</div>
                <div class="item-description">Actualizar metadata del mensaje</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} newMetadata - Nueva metadata 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getDeliveryDuration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/models/Message.js</div>
                <div class="item-description">Obtener duraci√≥n hasta entrega (en segundos)</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {number|null} Duraci√≥n en segundos 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getReadDuration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/models/Message.js</div>
                <div class="item-description">Obtener duraci√≥n hasta lectura (en segundos)</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {number|null} Duraci√≥n en segundos 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldBeSentNow</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/models/Message.js</div>
                <div class="item-description">Verificar si el mensaje debe ser enviado ahora</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {boolean} True si debe enviarse 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">toJSON</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/models/Message.js</div>
                <div class="item-description">Convertir a objeto plano para almacenamiento</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {object} Objeto plano 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAllMessages</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/services/MessageService.js</div>
                <div class="item-description">Servicio de Mensajes Maneja toda la l√≥gica de negocio relacionada con mensajes, incluyendo env√≠o, recepci√≥n, programaci√≥n y gesti√≥n de estados.</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 1.0.0 /  import { getDatabase } from '../../../../services/core/core/database.js'; import { createLogger } from '../../../../services/core/core/logger.js'; import { Message } from '../models/Message.js'; import { getContactService } from '../../contacts/services/ContactService.js'; import config from '../../../../config/environments/index.js';  const logger = createLogger('MESSAGE_SERVICE');  /** Clase personalizada para errores del servicio de mensajes / class MessageServiceError extends Error { constructor(message, code = 'MESSAGE_SERVICE_ERROR', statusCode = null, details = null) { super(message); this.name = 'MessageServiceError'; this.code = code; this.statusCode = statusCode; this.details = details; } }  /** Servicio para gesti√≥n de mensajes / export class MessageService { constructor() { this.db = getDatabase(); this.filename = this.db.files.MESSAGES; this.contactService = getContactService(); this.whatsappConfig = config.DIALOG360; }  /** Obtener todos los mensajes con filtros y paginaci√≥n<br><strong>@param:</strong> {object} options - Opciones de filtrado y paginaci√≥n<br><strong>@returns:</strong> {Promise<object>} Lista de mensajes con metadata 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMessageById</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/services/MessageService.js</div>
                <div class="item-description">Obtener mensaje por ID</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} id - ID del mensaje<br><strong>@returns:</strong> {Promise<Message|null>} Mensaje encontrado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendTextMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/services/MessageService.js</div>
                <div class="item-description">Crear y enviar mensaje de texto</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} to - N√∫mero de destino, {string} text - Texto del mensaje, {object} options - Opciones adicionales<br><strong>@returns:</strong> {Promise<Message>} Mensaje creado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendTemplateMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/services/MessageService.js</div>
                <div class="item-description">Crear y enviar mensaje de template</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} to - N√∫mero de destino, {string} templateId - ID del template, {object} templateData - Datos del template, {object} options - Opciones adicionales<br><strong>@returns:</strong> {Promise<Message>} Mensaje creado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendMediaMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/services/MessageService.js</div>
                <div class="item-description">Crear y enviar mensaje multimedia</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} to - N√∫mero de destino, {string} type - Tipo de media, {string} mediaUrl - URL del archivo, {object} options - Opciones adicionales<br><strong>@returns:</strong> {Promise<Message>} Mensaje creado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scheduleMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/services/MessageService.js</div>
                <div class="item-description">Programar mensaje para env√≠o futuro</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} messageData - Datos del mensaje, {Date|string} scheduledDate - Fecha programada<br><strong>@returns:</strong> {Promise<Message>} Mensaje programado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processScheduledMessages</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/services/MessageService.js</div>
                <div class="item-description">Procesar mensajes programados que deben enviarse</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Promise<object>} Resultado del procesamiento 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">receiveMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/services/MessageService.js</div>
                <div class="item-description">Recibir mensaje entrante</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} messageData - Datos del mensaje entrante<br><strong>@returns:</strong> {Promise<Message>} Mensaje recibido 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateMessageStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/services/MessageService.js</div>
                <div class="item-description">Actualizar estado de mensaje</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} messageId - ID del mensaje, {string} status - Nuevo estado, {object} additionalData - Datos adicionales<br><strong>@returns:</strong> {Promise<Message>} Mensaje actualizado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getConversation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/services/MessageService.js</div>
                <div class="item-description">Obtener conversaci√≥n con un contacto</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} contactPhone - N√∫mero del contacto, {object} options - Opciones de paginaci√≥n<br><strong>@returns:</strong> {Promise<object>} Conversaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMessageStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/services/MessageService.js</div>
                <div class="item-description">Obtener estad√≠sticas de mensajes</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} filters - Filtros para las estad√≠sticas<br><strong>@returns:</strong> {Promise<object>} Estad√≠sticas 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/services/MessageService.js</div>
                <div class="item-description">Enviar mensaje a trav√©s de la API de WhatsApp</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Message} message - Mensaje a enviar<br><strong>@returns:</strong> {Promise<void>} 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateContactLastInteraction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/messaging/services/MessageService.js</div>
                <div class="item-description">Actualizar √∫ltima interacci√≥n del contacto</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {string} phone - N√∫mero del contacto 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">Universal Logger - Sistema universal de logging y monitoreo Registra logs, mide tiempo de ejecuci√≥n y detecta errores silenciosos / import fs from 'fs-extra'; import path from 'path'; import { EventEmitter } from 'events'; class UniversalLogger extends EventEmitter { constructor() { super(); this.baseDir = process.cwd(); this.logsDir = path.join(this.baseDir, 'logs'); this.configDir = path.join(this.baseDir, 'config'); this.config = { logLevel: 'info', maxFileSize: 10 * 1024 * 1024, // 10MB maxFiles: 10, rotateDaily: true, enableConsole: true, enableFile: true, enableMetrics: true, enablePerformance: true, enableErrorDetection: true, silentErrorThreshold: 5, // errores por minuto performanceThreshold: 1000, // ms memoryThreshold: 100 * 1024 * 1024 // 100MB }; this.logLevels = { error: 0, warn: 1, info: 2, debug: 3, trace: 4 }; this.logFiles = { error: 'error.log', warn: 'warn.log', info: 'info.log', debug: 'debug.log', performance: 'performance.log', metrics: 'metrics.log', system: 'system.log' }; this.metrics = { totalLogs: 0, errorCount: 0, warnCount: 0, performanceIssues: 0, memoryUsage: [], cpuUsage: [], silentErrors: [], activeTimers: new Map(), sessionStart: Date.now() }; this.timers = new Map(); this.errorPatterns = new Map(); this.performanceData = new Map(); this.isInitialized = false; this.rotationTimer = null; this.metricsTimer = null; this.errorDetectionTimer = null; } /** Inicializar el logger universal</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ensureDirectories</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">Asegurar directorios necesarios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">Cargar configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">Guardar configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">log</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">M√©todo principal de logging</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createLogEntry</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">Crear entrada de log</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldLog</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">Verificar si se debe loggear este nivel</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logToConsole</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">Log a consola</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">colorizeLevel</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">Colorizar nivel de log para consola</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logToFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">Log a archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getLogFileName</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">Obtener nombre de archivo de log</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkFileRotation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">Verificar rotaci√≥n de archivos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">rotateFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">Rotar archivo de log</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanOldFiles</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">Limpiar archivos antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupLogRotation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">Configurar rotaci√≥n autom√°tica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performRotationCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">Realizar verificaci√≥n de rotaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startTimer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">Iniciar timer de medici√≥n de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopTimer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">Detener timer y registrar tiempo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordPerformance</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">Registrar datos de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startMetricsCollection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">Iniciar recolecci√≥n de m√©tricas del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">collectSystemMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">Recolectar m√©tricas del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">Guardar m√©tricas a archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startErrorDetection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">Iniciar detecci√≥n de errores silenciosos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectSilentError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">Detectar error silencioso</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectSilentErrors</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">Detectar errores silenciosos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPerformanceStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">Obtener estad√≠sticas de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSystemMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">Obtener m√©tricas del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCallStack</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">Obtener stack trace</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">Generar ID √∫nico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">error</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">M√©todos de conveniencia para logging</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shutdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/business/universal_logger.js</div>
                <div class="item-description">Cerrar logger</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">AlertManager - Gestor de Alertas del Sistema Gestiona alertas del sistema, notificaciones, escalamiento y pol√≠ticas de alertas para el dashboard de monitoreo</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 2.0.0 /  import { createLogger } from '../../services/core/core/logger.js'; import { EventEmitter } from 'events';  const logger = createLogger('ALERT_MANAGER');  export class AlertManager extends EventEmitter { constructor(options = {}) { super();  // Configuraci√≥n this.config = { // Configuraci√≥n general enabled: options.enabled !== false, maxAlerts: options.maxAlerts || 1000, retentionPeriod: options.retentionPeriod || 86400000, // 24 horas  // Configuraci√≥n de severidad severityLevels: options.severityLevels || [ 'info', 'warning', 'error', 'critical' ],  // Configuraci√≥n de cooldown cooldown: { enabled: options.cooldown?.enabled !== false, defaultPeriod: options.cooldown?.defaultPeriod || 300000, // 5 minutos periods: { info: options.cooldown?.periods?.info || 60000, // 1 minuto warning: options.cooldown?.periods?.warning || 300000, // 5 minutos error: options.cooldown?.periods?.error || 600000, // 10 minutos critical: options.cooldown?.periods?.critical || 900000, // 15 minutos ...options.cooldown?.periods } },  // Configuraci√≥n de agrupaci√≥n grouping: { enabled: options.grouping?.enabled !== false, window: options.grouping?.window || 60000, // 1 minuto maxGroupSize: options.grouping?.maxGroupSize || 10, groupBy: options.grouping?.groupBy || ['type', 'source'] },  // Configuraci√≥n de escalamiento escalation: { enabled: options.escalation?.enabled !== false, levels: options.escalation?.levels || [ { level: 1, delay: 300000, // 5 minutos conditions: ['critical'], actions: ['notify'] }, { level: 2, delay: 900000, // 15 minutos conditions: ['critical', 'unresolved'], actions: ['notify', 'escalate'] } ] },  // Configuraci√≥n de notificaciones notifications: { enabled: options.notifications?.enabled !== false, channels: options.notifications?.channels || ['console'], templates: options.notifications?.templates || {}, throttle: options.notifications?.throttle || 60000 // 1 minuto },  // Configuraci√≥n de filtros filters: { enabled: options.filters?.enabled !== false, rules: options.filters?.rules || [], blacklist: options.filters?.blacklist || [], whitelist: options.filters?.whitelist || [] },  // Configuraci√≥n de m√©tricas metrics: { enabled: options.metrics?.enabled !== false, trackResolution: options.metrics?.trackResolution !== false, trackEscalation: options.metrics?.trackEscalation !== false },  ...options };  // Estado del gestor this.isInitialized = false; this.isRunning = false; this.startTime = null;  // Almacenamiento de alertas this.alerts = new Map(); // ID -> Alert this.alertHistory = []; this.alertGroups = new Map(); // GroupKey -> Group  // √çndices para b√∫squeda r√°pida this.alertsByType = new Map(); this.alertsBySource = new Map(); this.alertsBySeverity = new Map(); this.alertsByStatus = new Map();  // Cache de cooldown this.cooldownCache = new Map();  // Escalamiento this.escalationTimers = new Map(); this.escalationHistory = [];  // Estad√≠sticas this.alertStats = { totalAlerts: 0, activeAlerts: 0, resolvedAlerts: 0, escalatedAlerts: 0, suppressedAlerts: 0, groupedAlerts: 0, notificationsSent: 0, averageResolutionTime: 0, alertsByType: new Map(), alertsBySeverity: new Map(), alertsBySource: new Map() };  // Canales de notificaci√≥n this.notificationChannels = new Map();  // Timers this.cleanupTimer = null; this.metricsTimer = null;  logger.info('AlertManager inicializado', { enabled: this.config.enabled, maxAlerts: this.config.maxAlerts, severityLevels: this.config.severityLevels }); }  /** Inicializar el gestor de alertas 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupDefaultNotificationChannels</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Configurar canales de notificaci√≥n por defecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupTimers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Configurar timers</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupIndices</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Configurar √≠ndices</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Iniciar el gestor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Detener el gestor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Crear alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateAlertData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Validar datos de alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">passesFilters</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Verificar si pasa los filtros</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">matchesRule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Verificar si coincide con regla</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isInCooldown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Verificar cooldown</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateCooldownKey</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Generar clave de cooldown</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">buildAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Construir objeto de alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateAlertId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Generar ID de alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">findOrCreateGroup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Encontrar o crear grupo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateGroupKey</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Generar clave de grupo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateGroupId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Generar ID de grupo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">storeAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Almacenar alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addToGroup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Agregar a grupo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateIndices</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Actualizar √≠ndices</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateAlertStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Actualizar estad√≠sticas de alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEscalation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Configurar escalamiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldEscalate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Verificar si debe escalar</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">escalateAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Escalar alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeEscalationAction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Ejecutar acci√≥n de escalamiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendNotifications</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Enviar notificaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getNotificationTemplate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Obtener plantilla de notificaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getDefaultTemplate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Obtener plantilla por defecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">formatAlertMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Formatear mensaje de alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">acknowledgeAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Reconocer alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">resolveAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Resolver alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cancelEscalation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Cancelar escalamiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateAverageResolutionTime</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Actualizar tiempo promedio de resoluci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerNotificationChannel</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Registrar canal de notificaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unregisterNotificationChannel</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Desregistrar canal de notificaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAlerts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Obtener alertas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Obtener alerta por ID</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAlertGroups</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Obtener grupos de alertas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAlertStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Obtener estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAlertHistory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Obtener historial</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getEscalationHistory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Obtener historial de escalamiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Actualizar m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldAlerts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Limpiar alertas antiguas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">exportAlerts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Exportar alertas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">convertAlertsToCSV</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Convertir alertas a CSV</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/AlertManager.js</div>
                <div class="item-description">Destruir el gestor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Dashboard Principal - Sistema de Visualizaci√≥n y Monitoreo Dashboard en tiempo real para monitorear el estado del sistema event-driven, m√©tricas de rendimiento, eventos, agentes y adaptadores de comunicaci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 2.0.0 /  import { createLogger } from '../../services/core/core/logger.js'; import { EventEmitter } from 'events'; import { MetricsCollector } from './MetricsCollector.js'; import { EventMonitor } from './EventMonitor.js'; import { SystemHealthMonitor } from './SystemHealthMonitor.js'; import { PerformanceAnalyzer } from './PerformanceAnalyzer.js'; import { AlertManager } from './AlertManager.js';  const logger = createLogger('DASHBOARD');  export class Dashboard extends EventEmitter { constructor(eventBus, options = {}) { super();  this.eventBus = eventBus; this.isInitialized = false; this.isStarted = false;  // Configuraci√≥n del dashboard this.config = { // Configuraci√≥n de actualizaci√≥n updateInterval: options.updateInterval || 5000, // 5 segundos metricsRetention: options.metricsRetention || 3600000, // 1 hora  // Configuraci√≥n de visualizaci√≥n maxDataPoints: options.maxDataPoints || 100, refreshRate: options.refreshRate || 1000, // 1 segundo  // Configuraci√≥n de widgets enabledWidgets: options.enabledWidgets || [ 'system-overview', 'event-stream', 'metrics-charts', 'agent-status', 'adapter-status', 'performance-stats', 'alerts', 'logs' ],  // Configuraci√≥n de alertas enableAlerts: options.enableAlerts !== false, alertThresholds: { cpuUsage: 80, memoryUsage: 85, errorRate: 5, responseTime: 2000, eventQueueSize: 1000 },  // Configuraci√≥n de exportaci√≥n enableExport: options.enableExport !== false, exportFormats: ['json', 'csv', 'pdf'],  ...options };  // Componentes del dashboard this.components = { metricsCollector: null, eventMonitor: null, healthMonitor: null, performanceAnalyzer: null, alertManager: null };  // Estado del dashboard this.state = { startTime: null, lastUpdate: null, totalEvents: 0, totalErrors: 0, activeConnections: 0, systemStatus: 'unknown' };  // Datos en tiempo real this.realTimeData = { events: [], metrics: new Map(), alerts: [], logs: [], performance: { cpu: [], memory: [], network: [], disk: [] }, agents: new Map(), adapters: new Map() };  // Widgets activos this.widgets = new Map();  // Timers this.updateTimer = null; this.cleanupTimer = null;  // Callbacks de actualizaci√≥n this.updateCallbacks = new Set();  logger.info('Dashboard inicializado', { updateInterval: this.config.updateInterval, enabledWidgets: this.config.enabledWidgets }); }  /** Inicializar el dashboard 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeComponents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Inicializar componentes del dashboard</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupComponentEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Configurar eventos de componentes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventBusIntegration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Configurar integraci√≥n con EventBus</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeWidgets</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Inicializar widgets</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createWidget</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Crear widget espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getWidgetTitle</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Obtener t√≠tulo del widget</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupTimers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Configurar timers</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Iniciar el dashboard</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Detener el dashboard</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateDashboard</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Actualizar dashboard</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateRealTimeData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Actualizar datos en tiempo real</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleMetricsUpdate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Manejar actualizaci√≥n de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleEventReceived</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Manejar evento recibido</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleEventPattern</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Manejar patr√≥n de evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleHealthStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Manejar estado de salud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleHealthAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Manejar alerta de salud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handlePerformanceAnalysis</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Manejar an√°lisis de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handlePerformanceAnomaly</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Manejar anomal√≠a de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleAlertTriggered</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Manejar alerta activada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleAlertResolved</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Manejar alerta resuelta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleSystemError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Manejar error del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleAgentEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Manejar evento de agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleAdapterEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Manejar evento de adaptador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSystemOverviewData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Obtener datos del resumen del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getEventStreamData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Obtener datos del flujo de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMetricsChartsData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Obtener datos de gr√°ficos de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAgentStatusData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Obtener datos del estado de agentes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAdapterStatusData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Obtener datos del estado de adaptadores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPerformanceStatsData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Obtener datos de estad√≠sticas de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAlertsData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Obtener datos de alertas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getLogsData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Obtener datos de logs</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateEventsPerSecond</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Calcular eventos por segundo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Limpiar datos antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">onUpdate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Registrar callback de actualizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">offUpdate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Desregistrar callback de actualizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getDashboardData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Obtener datos completos del dashboard</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">exportData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Exportar datos del dashboard</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">convertToCSV</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Convertir datos a CSV</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generatePDF</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Generar PDF</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Obtener estado del dashboard</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/Dashboard.js</div>
                <div class="item-description">Destruir el dashboard</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">EventMonitor - Monitor de Eventos en Tiempo Real Monitorea, analiza y procesa eventos del sistema en tiempo real para el dashboard de visualizaci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 2.0.0 /  import { createLogger } from '../../services/core/core/logger.js'; import { EventEmitter } from 'events';  const logger = createLogger('EVENT_MONITOR');  export class EventMonitor extends EventEmitter { constructor(eventBus, options = {}) { super();  this.eventBus = eventBus;  // Configuraci√≥n this.config = { // Configuraci√≥n de monitoreo maxEvents: options.maxEvents || 1000, retentionPeriod: options.retentionPeriod || 3600000, // 1 hora  // Configuraci√≥n de filtrado enableFiltering: options.enableFiltering !== false, eventFilters: options.eventFilters || [], excludePatterns: options.excludePatterns || [], includePatterns: options.includePatterns || [],  // Configuraci√≥n de an√°lisis enablePatternDetection: options.enablePatternDetection !== false, patternWindow: options.patternWindow || 60000, // 1 minuto minPatternOccurrences: options.minPatternOccurrences || 3,  // Configuraci√≥n de alertas enableAlerts: options.enableAlerts !== false, alertThresholds: { eventsPerSecond: 100, errorRate: 5, duplicateEvents: 10, unusualPatterns: true },  // Configuraci√≥n de agregaci√≥n enableAggregation: options.enableAggregation !== false, aggregationWindow: options.aggregationWindow || 60000, // 1 minuto  ...options };  // Estado del monitor this.isInitialized = false; this.isMonitoring = false; this.startTime = null;  // Almacenamiento de eventos this.events = []; this.eventTypes = new Map(); this.eventSources = new Map(); this.eventPatterns = new Map();  // Estad√≠sticas de eventos this.stats = { totalEvents: 0, eventsPerSecond: 0, errorEvents: 0, errorRate: 0, uniqueTypes: 0, uniqueSources: 0, lastEvent: null, lastError: null };  // An√°lisis de patrones this.patternAnalysis = { detectedPatterns: new Map(), anomalies: [], trends: new Map(), correlations: new Map() };  // Filtros activos this.activeFilters = new Set();  // Timers this.analysisTimer = null; this.cleanupTimer = null; this.statsTimer = null;  // Buffer para an√°lisis en tiempo real this.analysisBuffer = []; this.bufferSize = 100;  logger.info('EventMonitor inicializado', { maxEvents: this.config.maxEvents, enablePatternDetection: this.config.enablePatternDetection }); }  /** Inicializar el monitor 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventBusIntegration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Configurar integraci√≥n con EventBus</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupFilters</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Configurar filtros</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupTimers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Configurar timers</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Iniciar monitoreo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Detener monitoreo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Procesar evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processErrorEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Procesar evento de error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processAgentEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Procesar evento de agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processAdapterEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Procesar evento de adaptador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldProcessEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Verificar si debe procesar el evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">matchesPattern</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Verificar si el evento coincide con un patr√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">enrichEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Enriquecer evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateEventId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Generar ID √∫nico para el evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateEventSize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Calcular tama√±o del evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateEventHash</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Calcular hash del evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">categorizeEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Categorizar evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">determineSeverity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Determinar severidad del evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractTags</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Extraer tags del evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">storeEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Almacenar evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateEventIndices</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Actualizar √≠ndices de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addToAnalysisBuffer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Agregar al buffer de an√°lisis</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateEventStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Actualizar estad√≠sticas de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Actualizar estad√≠sticas generales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkEventAlerts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Verificar alertas de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">countDuplicateEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Contar eventos duplicados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzePatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Analizar patrones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectSequencePatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Detectar patrones de secuencia</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectFrequencyPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Detectar patrones de frecuencia</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectAnomalies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Detectar anomal√≠as</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectCorrelations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Detectar correlaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getEventCountsOverTime</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Obtener conteos de eventos a lo largo del tiempo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addFilter</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Agregar filtro</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">removeFilter</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Remover filtro</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addExcludePattern</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Agregar patr√≥n de exclusi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addIncludePattern</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Agregar patr√≥n de inclusi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Limpiar eventos antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRecentEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Obtener eventos recientes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getEventsByType</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Obtener eventos por tipo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getEventsBySource</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Obtener eventos por fuente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getEventsByCategory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Obtener eventos por categor√≠a</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getEventsByTimeRange</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Obtener eventos por rango de tiempo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">searchEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Buscar eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Obtener estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPatternAnalysis</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Obtener an√°lisis de patrones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getEventSummary</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Obtener resumen de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getTopEventTypes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Obtener tipos de eventos m√°s frecuentes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getTopSources</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Obtener fuentes m√°s frecuentes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">exportEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Exportar eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">convertEventsToCSV</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Convertir eventos a CSV</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/EventMonitor.js</div>
                <div class="item-description">Destruir el monitor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">MetricsCollector - Recopilador de M√©tricas del Sistema Recopila, procesa y almacena m√©tricas del sistema en tiempo real para el dashboard de monitoreo</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 2.0.0 /  import { createLogger } from '../../services/core/core/logger.js'; import { EventEmitter } from 'events'; import os from 'os'; import process from 'process';  const logger = createLogger('METRICS_COLLECTOR');  export class MetricsCollector extends EventEmitter { constructor(options = {}) { super();  // Configuraci√≥n this.config = { // Configuraci√≥n de recopilaci√≥n collectionInterval: options.collectionInterval || 5000, // 5 segundos retentionPeriod: options.retentionPeriod || 3600000, // 1 hora maxDataPoints: options.maxDataPoints || 720, // 1 hora a 5 segundos  // M√©tricas habilitadas enabledMetrics: options.enabledMetrics || [ 'system', 'process', 'memory', 'cpu', 'network', 'disk', 'events', 'custom' ],  // Configuraci√≥n de agregaci√≥n aggregationWindow: options.aggregationWindow || 60000, // 1 minuto aggregationMethods: options.aggregationMethods || ['avg', 'min', 'max', 'sum'],  // Configuraci√≥n de alertas enableAlerts: options.enableAlerts !== false, alertThresholds: { cpuUsage: 80, memoryUsage: 85, diskUsage: 90, errorRate: 5, responseTime: 2000 },  ...options };  // Estado del collector this.isInitialized = false; this.isCollecting = false; this.startTime = null;  // Almacenamiento de m√©tricas this.metrics = new Map(); this.aggregatedMetrics = new Map(); this.customMetrics = new Map();  // Timers this.collectionTimer = null; this.aggregationTimer = null; this.cleanupTimer = null;  // Estad√≠sticas de recopilaci√≥n this.stats = { totalCollections: 0, totalMetrics: 0, lastCollection: null, errors: 0 };  // M√©tricas base del sistema this.baselineMetrics = null;  logger.info('MetricsCollector inicializado', { collectionInterval: this.config.collectionInterval, enabledMetrics: this.config.enabledMetrics }); }  /** Inicializar el collector 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Inicializar estructuras de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">collectBaselineMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Recopilar m√©tricas base del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupTimers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Configurar timers</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Iniciar recopilaci√≥n de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Detener recopilaci√≥n de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">collectMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Recopilar todas las m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">collectSystemMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Recopilar m√©tricas del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">collectProcessMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Recopilar m√©tricas del proceso</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">collectMemoryMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Recopilar m√©tricas de memoria</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">collectCPUMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Recopilar m√©tricas de CPU</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">collectNetworkMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Recopilar m√©tricas de red</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">collectDiskMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Recopilar m√©tricas de disco</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">collectEventMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Recopilar m√©tricas de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">collectCustomMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Recopilar m√©tricas personalizadas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addMetricData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Agregar datos de m√©trica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractNumericValue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Extraer valor num√©rico para gr√°ficos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addCustomMetric</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Agregar m√©trica personalizada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">removeCustomMetric</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Remover m√©trica personalizada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateCustomMetric</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Actualizar valor de m√©trica personalizada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateEventMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Agregar m√©tricas de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateAdapterMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Agregar m√©tricas de adaptadores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateAgentMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Agregar m√©tricas de agentes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updatePerformanceMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Agregar m√©tricas de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">aggregateMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Agregar m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateAggregations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Calcular agregaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkAlerts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Verificar alertas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Limpiar m√©tricas antiguas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCurrentMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Obtener m√©tricas actuales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getHistoricalMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Obtener m√©tricas hist√≥ricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAggregatedMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Obtener m√©tricas agregadas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAllMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Obtener todas las m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Obtener estad√≠sticas del collector</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">exportMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Exportar m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">convertMetricsToCSV</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Convertir m√©tricas a CSV</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/MetricsCollector.js</div>
                <div class="item-description">Destruir el collector</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">PerformanceAnalyzer - Analizador de Rendimiento del Sistema Analiza el rendimiento del sistema, identifica cuellos de botella, genera reportes de optimizaci√≥n y m√©tricas de rendimiento</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 2.0.0 /  import { createLogger } from '../../services/core/core/logger.js'; import { EventEmitter } from 'events'; import os from 'os'; import process from 'process';  const logger = createLogger('PERFORMANCE_ANALYZER');  export class PerformanceAnalyzer extends EventEmitter { constructor(options = {}) { super();  // Configuraci√≥n this.config = { // Configuraci√≥n de an√°lisis analysisInterval: options.analysisInterval || 60000, // 1 minuto samplingInterval: options.samplingInterval || 5000, // 5 segundos retentionPeriod: options.retentionPeriod || 3600000, // 1 hora  // Configuraci√≥n de m√©tricas enabledMetrics: options.enabledMetrics || [ 'cpu', 'memory', 'disk', 'network', 'process', 'eventloop', 'gc', 'custom' ],  // Configuraci√≥n de an√°lisis analysis: { enableTrendAnalysis: options.analysis?.enableTrendAnalysis !== false, enableAnomalyDetection: options.analysis?.enableAnomalyDetection !== false, enableBottleneckDetection: options.analysis?.enableBottleneckDetection !== false, enablePrediction: options.analysis?.enablePrediction !== false, trendWindow: options.analysis?.trendWindow || 300000, // 5 minutos anomalyThreshold: options.analysis?.anomalyThreshold || 2.0, // Desviaciones est√°ndar bottleneckThreshold: options.analysis?.bottleneckThreshold || 80, // Porcentaje predictionWindow: options.analysis?.predictionWindow || 600000 // 10 minutos },  // Configuraci√≥n de alertas alerts: { enabled: options.alerts?.enabled !== false, thresholds: { cpuUsage: options.alerts?.thresholds?.cpuUsage || 85, memoryUsage: options.alerts?.thresholds?.memoryUsage || 90, diskUsage: options.alerts?.thresholds?.diskUsage || 95, responseTime: options.alerts?.thresholds?.responseTime || 5000, errorRate: options.alerts?.thresholds?.errorRate || 10, throughput: options.alerts?.thresholds?.throughput || 100, ...options.alerts?.thresholds }, cooldown: options.alerts?.cooldown || 300000 // 5 minutos },  // Configuraci√≥n de reportes reports: { enabled: options.reports?.enabled !== false, interval: options.reports?.interval || 3600000, // 1 hora includeRecommendations: options.reports?.includeRecommendations !== false, includeGraphs: options.reports?.includeGraphs !== false },  ...options };  // Estado del analizador this.isInitialized = false; this.isAnalyzing = false; this.startTime = null;  // Datos de rendimiento this.performanceData = { cpu: [], memory: [], disk: [], network: [], process: [], eventloop: [], gc: [], custom: new Map() };  // An√°lisis de rendimiento this.performanceAnalysis = { trends: new Map(), anomalies: [], bottlenecks: [], predictions: new Map(), recommendations: [], lastAnalysis: null };  // Estad√≠sticas de rendimiento this.performanceStats = { totalSamples: 0, analysisCount: 0, anomaliesDetected: 0, bottlenecksDetected: 0, alertsTriggered: 0, reportsGenerated: 0, averageResponseTime: 0, peakCpuUsage: 0, peakMemoryUsage: 0 };  // Timers this.samplingTimer = null; this.analysisTimer = null; this.reportTimer = null; this.cleanupTimer = null;  // Cache de alertas this.alertCache = new Map();  // M√©tricas personalizadas this.customMetrics = new Map();  logger.info('PerformanceAnalyzer inicializado', { analysisInterval: this.config.analysisInterval, enabledMetrics: this.config.enabledMetrics }); }  /** Inicializar el analizador 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupTimers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Configurar timers</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Iniciar an√°lisis</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Detener an√°lisis</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">collectSample</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Recopilar muestra de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">collectCPUMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Recopilar m√©tricas de CPU</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">collectMemoryMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Recopilar m√©tricas de memoria</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">collectDiskMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Recopilar m√©tricas de disco</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">collectNetworkMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Recopilar m√©tricas de red</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">collectProcessMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Recopilar m√©tricas del proceso</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">collectEventLoopMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Recopilar m√©tricas del event loop</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">collectGCMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Recopilar m√©tricas de garbage collection</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">storeSample</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Almacenar muestra</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Actualizar estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performAnalysis</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Realizar an√°lisis de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeTrends</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Analizar tendencias</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateTrend</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Calcular tendencia</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateCustomTrend</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Calcular tendencia personalizada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectAnomalies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Detectar anomal√≠as</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectMetricAnomalies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Detectar anomal√≠as en m√©trica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectCustomAnomalies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Detectar anomal√≠as personalizadas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectBottlenecks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Detectar cuellos de botella</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generatePredictions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Generar predicciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateRecommendations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Generar recomendaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkPerformanceAlerts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Verificar alertas de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldTriggerAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Verificar si debe activar alerta (cooldown)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Generar reporte</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateReportSummary</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Generar resumen del reporte</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateMetricsSummary</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Generar resumen de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateOverallHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Calcular salud general</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateMetricAverage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Calcular promedio de m√©trica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateMetricMin</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Calcular m√≠nimo de m√©trica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateMetricMax</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Calcular m√°ximo de m√©trica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerCustomMetric</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Registrar m√©trica personalizada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unregisterCustomMetric</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Desregistrar m√©trica personalizada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Limpiar datos antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPerformanceData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Obtener datos de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPerformanceAnalysis</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Obtener an√°lisis de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPerformanceStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Obtener estad√≠sticas de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">exportPerformanceData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Exportar datos de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">convertPerformanceToCSV</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Convertir datos de rendimiento a CSV</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/PerformanceAnalyzer.js</div>
                <div class="item-description">Destruir el analizador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">SystemHealthMonitor - Monitor de Salud del Sistema Monitorea la salud general del sistema, componentes y servicios, generando alertas y reportes de estado</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 2.0.0 /  import { createLogger } from '../../services/core/core/logger.js'; import { EventEmitter } from 'events'; import os from 'os'; import process from 'process';  const logger = createLogger('HEALTH_MONITOR');  export class SystemHealthMonitor extends EventEmitter { constructor(options = {}) { super();  // Configuraci√≥n this.config = { // Configuraci√≥n de monitoreo checkInterval: options.checkInterval || 30000, // 30 segundos healthTimeout: options.healthTimeout || 5000, // 5 segundos  // Umbrales de salud thresholds: { cpuUsage: options.thresholds?.cpuUsage || 80, memoryUsage: options.thresholds?.memoryUsage || 85, diskUsage: options.thresholds?.diskUsage || 90, loadAverage: options.thresholds?.loadAverage || 2.0, responseTime: options.thresholds?.responseTime || 2000, errorRate: options.thresholds?.errorRate || 5, uptime: options.thresholds?.uptime || 99.9, ...options.thresholds },  // Configuraci√≥n de alertas enableAlerts: options.enableAlerts !== false, alertCooldown: options.alertCooldown || 300000, // 5 minutos  // Configuraci√≥n de componentes monitoredComponents: options.monitoredComponents || [ 'system', 'process', 'memory', 'cpu', 'disk', 'network', 'eventbus', 'agents', 'adapters' ],  // Configuraci√≥n de servicios externos externalServices: options.externalServices || [],  ...options };  // Estado del monitor this.isInitialized = false; this.isMonitoring = false; this.startTime = null;  // Estado de salud this.healthStatus = { overall: 'unknown', components: new Map(), services: new Map(), lastCheck: null, uptime: 0, issues: [], alerts: [] };  // Historial de salud this.healthHistory = []; this.maxHistorySize = 100;  // Estad√≠sticas de salud this.healthStats = { totalChecks: 0, healthyChecks: 0, unhealthyChecks: 0, criticalIssues: 0, resolvedIssues: 0, averageResponseTime: 0, uptime: 0 };  // Componentes registrados this.registeredComponents = new Map(); this.registeredServices = new Map();  // Timers this.healthCheckTimer = null; this.cleanupTimer = null;  // Cache de alertas para cooldown this.alertCache = new Map();  logger.info('SystemHealthMonitor inicializado', { checkInterval: this.config.checkInterval, monitoredComponents: this.config.monitoredComponents }); }  /** Inicializar el monitor 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerDefaultComponents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Registrar componentes por defecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerExternalServices</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Registrar servicios externos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupTimers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Configurar timers</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Iniciar monitoreo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Detener monitoreo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performHealthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Realizar verificaci√≥n de salud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkAllComponents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Verificar todos los componentes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkAllServices</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Verificar todos los servicios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkComponent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Verificar componente espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkService</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Verificar servicio espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkSystemHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Verificar salud del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkProcessHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Verificar salud del proceso</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkMemoryHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Verificar salud de la memoria</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkCPUHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Verificar salud de la CPU</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkDiskHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Verificar salud del disco</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkNetworkHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Verificar salud de la red</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkEventBusHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Verificar salud del EventBus</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkAgentsHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Verificar salud de los agentes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkAdaptersHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Verificar salud de los adaptadores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateOverallStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Calcular estado general</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateHealthStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Actualizar estado de salud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateIssues</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Actualizar issues</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateHealthStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Actualizar estad√≠sticas de salud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addToHistory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Agregar al historial</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkHealthAlerts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Verificar alertas de salud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldTriggerAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Verificar si debe activar alerta (cooldown)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerComponent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Registrar componente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unregisterComponent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Desregistrar componente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerService</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Registrar servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unregisterService</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Desregistrar servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Limpiar datos antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getHealthStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Obtener estado de salud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getHealthStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Obtener estad√≠sticas de salud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getHealthHistory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Obtener historial de salud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRegisteredComponents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Obtener componentes registrados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRegisteredServices</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Obtener servicios registrados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getHealthSummary</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Obtener resumen de salud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">exportHealthData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Exportar datos de salud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">convertHealthToCSV</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Convertir datos de salud a CSV</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/components/ui/SystemHealthMonitor.js</div>
                <div class="item-description">Destruir el monitor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/cache/CacheConfig.js</div>
                <div class="item-description">Cache Configuration System Sistema de configuraci√≥n avanzada para cache distribuido Incluye perfiles, optimizaciones y configuraciones por entorno / import { config } from '../environments/environments.js'; import logger from '../../services/core/core/logger.js'; import { CacheValidationUtils, CacheTTLUtils } from '../../services/cache/CacheUtils.js'; /** Configuraciones base por tipo de cache / const CACHE_TYPES = { SESSION: { name: 'session', ttl: 3600, // 1 hora maxSize: '100MB', strategy: 'LRU', compression: false, serialization: 'json', keyPrefix: 'sess:', cluster: false }, USER: { name: 'user', ttl: 1800, // 30 minutos maxSize: '200MB', strategy: 'LFU', compression: true, serialization: 'json', keyPrefix: 'user:', cluster: true }, CONVERSATION: { name: 'conversation', ttl: 7200, // 2 horas maxSize: '500MB', strategy: 'TTL', compression: true, serialization: 'msgpack', keyPrefix: 'conv:', cluster: true }, TEMPLATE: { name: 'template', ttl: 86400, // 24 horas maxSize: '50MB', strategy: 'LFU', compression: false, serialization: 'json', keyPrefix: 'tmpl:', cluster: false }, API_RESPONSE: { name: 'api_response', ttl: 300, // 5 minutos maxSize: '1GB', strategy: 'LRU', compression: true, serialization: 'json', keyPrefix: 'api:', cluster: true }, ANALYTICS: { name: 'analytics', ttl: 43200, // 12 horas maxSize: '2GB', strategy: 'TTL', compression: true, serialization: 'msgpack', keyPrefix: 'analytics:', cluster: true }, STATIC: { name: 'static', ttl: 604800, // 7 d√≠as maxSize: '100MB', strategy: 'LFU', compression: false, serialization: 'json', keyPrefix: 'static:', cluster: false } }; /** Perfiles de configuraci√≥n por entorno / const ENVIRONMENT_PROFILES = { development: { redis: { host: process.env.REDIS_HOST || 'localhost', port: parseInt(process.env.REDIS_PORT) || 6379, password: process.env.REDIS_PASSWORD || null, db: 0, maxRetriesPerRequest: 3, retryDelayOnFailover: 100, enableOfflineQueue: false, lazyConnect: true, keepAlive: 30000, connectTimeout: 10000, commandTimeout: 5000, family: 4 }, cluster: { enabled: false, nodes: [] }, monitoring: { enabled: true, metricsInterval: 30000, alertsEnabled: true, dashboardEnabled: true }, performance: { compression: { enabled: true, algorithm: 'gzip', threshold: 1024 // Comprimir si > 1KB }, serialization: { default: 'json', binary: 'msgpack' }, pipeline: { enabled: true, batchSize: 100, timeout: 1000 } } }, staging: { redis: { host: process.env.REDIS_HOST || 'redis-staging', port: parseInt(process.env.REDIS_PORT) || 6379, password: process.env.REDIS_PASSWORD, db: 0, maxRetriesPerRequest: 5, retryDelayOnFailover: 200, enableOfflineQueue: true, lazyConnect: false, keepAlive: 60000, connectTimeout: 15000, commandTimeout: 10000, family: 4 }, cluster: { enabled: true, nodes: [ { host: 'redis-staging-1', port: 6379 }, { host: 'redis-staging-2', port: 6379 }, { host: 'redis-staging-3', port: 6379 } ], options: { enableOfflineQueue: false, redisOptions: { password: process.env.REDIS_PASSWORD }, maxRetriesPerRequest: 3, retryDelayOnFailover: 100 } }, monitoring: { enabled: true, metricsInterval: 15000, alertsEnabled: true, dashboardEnabled: true, alertThresholds: { hitRateMin: 0.85, errorRateMax: 0.03, responseTimeMax: 50, memoryUsageMax: 0.80 } }, performance: { compression: { enabled: true, algorithm: 'lz4', threshold: 512 }, serialization: { default: 'msgpack', binary: 'msgpack' }, pipeline: { enabled: true, batchSize: 200, timeout: 500 } } }, production: { redis: { host: process.env.REDIS_HOST || 'redis-prod', port: parseInt(process.env.REDIS_PORT) || 6379, password: process.env.REDIS_PASSWORD, db: 0, maxRetriesPerRequest: 10, retryDelayOnFailover: 500, enableOfflineQueue: true, lazyConnect: false, keepAlive: 120000, connectTimeout: 20000, commandTimeout: 15000, family: 4, tls: process.env.REDIS_TLS === 'true' ? {} : undefined }, cluster: { enabled: true, nodes: [ { host: 'redis-prod-1', port: 6379 }, { host: 'redis-prod-2', port: 6379 }, { host: 'redis-prod-3', port: 6379 }, { host: 'redis-prod-4', port: 6379 }, { host: 'redis-prod-5', port: 6379 }, { host: 'redis-prod-6', port: 6379 } ], options: { enableOfflineQueue: false, redisOptions: { password: process.env.REDIS_PASSWORD, tls: process.env.REDIS_TLS === 'true' ? {} : undefined }, maxRetriesPerRequest: 5, retryDelayOnFailover: 200, scaleReads: 'slave', enableReadyCheck: true, maxRedirections: 16 } }, monitoring: { enabled: true, metricsInterval: 10000, alertsEnabled: true, dashboardEnabled: true, alertThresholds: { hitRateMin: 0.90, errorRateMax: 0.01, responseTimeMax: 25, memoryUsageMax: 0.75, connectionCountMax: 200 } }, performance: { compression: { enabled: true, algorithm: 'lz4', threshold: 256 }, serialization: { default: 'msgpack', binary: 'msgpack' }, pipeline: { enabled: true, batchSize: 500, timeout: 200 }, readReplicas: { enabled: true, ratio: 0.7, // 70% lecturas a replicas fallbackToMaster: true } }, security: { encryption: { enabled: true, algorithm: 'aes-256-gcm', keyRotation: true, keyRotationInterval: 86400000 // 24 horas }, authentication: { enabled: true, requireAuth: true }, network: { allowedIPs: process.env.REDIS_ALLOWED_IPS?.split(',') || [], ssl: process.env.REDIS_SSL === 'true' } } } }; /** Configuraciones de optimizaci√≥n / const OPTIMIZATION_CONFIGS = { // Configuraci√≥n para alta concurrencia highConcurrency: { redis: { maxRetriesPerRequest: 3, retryDelayOnFailover: 50, enableOfflineQueue: false, lazyConnect: false }, performance: { pipeline: { enabled: true, batchSize: 1000, timeout: 100 }, compression: { enabled: false // Desactivar para reducir latencia } } }, // Configuraci√≥n para ahorro de memoria memoryOptimized: { performance: { compression: { enabled: true, algorithm: 'lz4', threshold: 128 }, serialization: { default: 'msgpack' } }, cacheTypes: { // TTLs m√°s cortos para liberar memoria SESSION: { ttl: 1800 }, USER: { ttl: 900 }, CONVERSATION: { ttl: 3600 } } }, // Configuraci√≥n para baja latencia lowLatency: { redis: { commandTimeout: 1000, connectTimeout: 5000, keepAlive: 10000 }, performance: { compression: { enabled: false }, pipeline: { enabled: true, batchSize: 50, timeout: 50 } } }, // Configuraci√≥n para alta disponibilidad highAvailability: { redis: { maxRetriesPerRequest: 10, retryDelayOnFailover: 1000, enableOfflineQueue: true }, cluster: { enabled: true, options: { maxRedirections: 32, enableReadyCheck: true, scaleReads: 'slave' } }, monitoring: { alertThresholds: { hitRateMin: 0.95, errorRateMax: 0.005, responseTimeMax: 10 } } } }; /** Clase principal de configuraci√≥n de cache / class CacheConfig { constructor() { this.environment = process.env.NODE_ENV || 'development'; this.profile = ENVIRONMENT_PROFILES[this.environment]; this.cacheTypes = { ...CACHE_TYPES }; this.optimizations = []; } /** Obtener configuraci√≥n completa</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">applyOptimization</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/cache/CacheConfig.js</div>
                <div class="item-description">Aplicar optimizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">configureCacheType</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/cache/CacheConfig.js</div>
                <div class="item-description">Configurar tipo de cache espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCacheTypeConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/cache/CacheConfig.js</div>
                <div class="item-description">Obtener configuraci√≥n de tipo de cache espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRedisConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/cache/CacheConfig.js</div>
                <div class="item-description">Obtener configuraci√≥n de Redis</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMonitoringConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/cache/CacheConfig.js</div>
                <div class="item-description">Obtener configuraci√≥n de monitoreo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPerformanceConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/cache/CacheConfig.js</div>
                <div class="item-description">Obtener configuraci√≥n de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/cache/CacheConfig.js</div>
                <div class="item-description">Validar configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">mergeConfigs</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/cache/CacheConfig.js</div>
                <div class="item-description">Fusionar configuraciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateDockerComposeConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/cache/CacheConfig.js</div>
                <div class="item-description">Generar configuraci√≥n para Docker Compose</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">exportConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/cache/CacheConfig.js</div>
                <div class="item-description">Exportar configuraci√≥n para archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">toEnvFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/cache/CacheConfig.js</div>
                <div class="item-description">Convertir a archivo .env</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">toYAML</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/cache/CacheConfig.js</div>
                <div class="item-description">Convertir a YAML (implementaci√≥n b√°sica)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheManager.js</div>
                <div class="item-description">Gestor de cach√© inteligente con m√∫ltiples estrategias Soporta diferentes tipos de almacenamiento y pol√≠ticas de expiraci√≥n / class CacheManager extends EventEmitter { constructor(config = {}) { super(); this.config = { enabled: true, // Configuraci√≥n de almacenamiento storage: { type: 'memory', // memory, redis, file, hybrid maxSize: 100 * 1024 * 1024, // 100MB maxItems: 10000, compression: false, serialization: 'json' // json, msgpack, binary }, // Configuraci√≥n de expiraci√≥n expiration: { defaultTTL: 3600000, // 1 hora maxTTL: 24 * 3600000, // 24 horas checkInterval: 60000, // 1 minuto strategy: 'ttl' // ttl, lru, lfu, fifo }, // Configuraci√≥n de pol√≠ticas de evicci√≥n eviction: { policy: 'lru', // lru, lfu, fifo, random, ttl threshold: 0.8, // Evictar cuando se alcance el 80% de capacidad batchSize: 100, // N√∫mero de elementos a evictar por lote aggressive: false // Evicci√≥n agresiva cuando se alcanza el l√≠mite }, // Configuraci√≥n de particionado partitioning: { enabled: false, strategy: 'hash', // hash, range, consistent partitions: 4, replication: 1 }, // Configuraci√≥n de persistencia persistence: { enabled: false, path: './cache', format: 'json', interval: 300000, // 5 minutos compression: true }, // Configuraci√≥n de estad√≠sticas statistics: { enabled: true, detailed: false, historySize: 1000 }, // Configuraci√≥n de warming warming: { enabled: false, strategies: ['preload', 'background'], preloadKeys: [], backgroundInterval: 60000 }, // Configuraci√≥n de clustering clustering: { enabled: false, nodes: [], consistency: 'eventual', // strong, eventual replication: 2 }, ...config }; this.state = 'initialized'; // Almacenamiento principal this.storage = new Map(); this.metadata = new Map(); // Metadatos de cada entrada this.accessLog = new Map(); // Log de accesos para LRU/LFU this.expirationQueue = new Map(); // Cola de expiraci√≥n // Particiones (si est√° habilitado) this.partitions = []; // Estad√≠sticas this.statistics = { hits: 0, misses: 0, sets: 0, deletes: 0, evictions: 0, expirations: 0, size: 0, memoryUsage: 0, operations: 0, errors: 0 }; this.operationHistory = []; this.performanceMetrics = { averageGetTime: 0, averageSetTime: 0, averageDeleteTime: 0, peakMemoryUsage: 0, hitRate: 0 }; // Logger centralizado this.logger = createLogger('CACHE_MANAGER'); // Timers this.expirationTimer = null; this.persistenceTimer = null; this.warmingTimer = null; this.statisticsTimer = null; this._initializeTimers(); } /** Inicializa el gestor de cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">get</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheManager.js</div>
                <div class="item-description">Obtiene un valor del cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">set</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheManager.js</div>
                <div class="item-description">Establece un valor en el cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">delete</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheManager.js</div>
                <div class="item-description">Elimina un valor del cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">has</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheManager.js</div>
                <div class="item-description">Verifica si existe una clave en el cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">mget</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheManager.js</div>
                <div class="item-description">Obtiene m√∫ltiples valores del cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">mset</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheManager.js</div>
                <div class="item-description">Establece m√∫ltiples valores en el cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">mdel</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheManager.js</div>
                <div class="item-description">Elimina m√∫ltiples valores del cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clear</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheManager.js</div>
                <div class="item-description">Limpia todo el cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">keys</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheManager.js</div>
                <div class="item-description">Obtiene todas las claves del cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">size</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheManager.js</div>
                <div class="item-description">Obtiene el tama√±o del cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">expire</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheManager.js</div>
                <div class="item-description">Actualiza el TTL de una clave</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ttl</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheManager.js</div>
                <div class="item-description">Obtiene el TTL restante de una clave</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">findByTags</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheManager.js</div>
                <div class="item-description">Busca claves por tags</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">invalidateByTags</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheManager.js</div>
                <div class="item-description">Invalida claves por tags</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStatistics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheManager.js</div>
                <div class="item-description">Obtiene estad√≠sticas del cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheManager.js</div>
                <div class="item-description">Obtiene informaci√≥n detallada del cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheManager.js</div>
                <div class="item-description">Fuerza la limpieza de elementos expirados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setEnabled</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheManager.js</div>
                <div class="item-description">Habilita o deshabilita el cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheManager.js</div>
                <div class="item-description">Destruye el gestor de cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheStore.js</div>
                <div class="item-description">Almac√©n de cach√© con soporte para m√∫ltiples backends Soporta almacenamiento en memoria, archivos y Redis / class CacheStore extends EventEmitter { constructor(config = {}) { super(); this.config = { type: 'memory', // memory, file, redis, hybrid // Configuraci√≥n de almacenamiento en memoria memory: { maxSize: 100 * 1024 * 1024, // 100MB maxItems: 10000, compression: false }, // Configuraci√≥n de almacenamiento en archivos file: { directory: './cache', maxFileSize: 10 * 1024 * 1024, // 10MB por archivo maxFiles: 1000, compression: true, format: 'json', // json, binary, msgpack sync: false, // Escritura s√≠ncrona o as√≠ncrona backup: true, encryption: false }, // Configuraci√≥n de Redis redis: { host: 'localhost', port: 6379, password: null, db: 0, keyPrefix: 'cache:', maxRetries: 3, retryDelay: 1000, compression: true }, // Configuraci√≥n h√≠brida hybrid: { l1: 'memory', // Cache L1 (m√°s r√°pido) l2: 'file',   // Cache L2 (m√°s capacidad) l1MaxSize: 50 * 1024 * 1024, // 50MB l2MaxSize: 500 * 1024 * 1024, // 500MB promoteThreshold: 3, // Promover a L1 despu√©s de N accesos demoteThreshold: 0.8 // Degradar cuando L1 est√© al 80% }, // Configuraci√≥n de serializaci√≥n serialization: { format: 'json', // json, msgpack, binary compression: false, encryption: false, encryptionKey: null }, // Configuraci√≥n de persistencia persistence: { enabled: false, interval: 300000, // 5 minutos atomic: true, // Escritura at√≥mica backup: true, maxBackups: 5 }, ...config }; this.state = 'initialized'; // Almacenes espec√≠ficos this.memoryStore = new Map(); this.fileStore = new Map(); // √çndice de archivos this.redisClient = null; // Para almacenamiento h√≠brido this.l1Store = new Map(); // Cache L1 (memoria) this.l2Store = new Map(); // Cache L2 (archivo/redis) this.accessCounts = new Map(); // Contadores de acceso // Estad√≠sticas this.statistics = { reads: 0, writes: 0, deletes: 0, hits: 0, misses: 0, l1Hits: 0, l2Hits: 0, promotions: 0, demotions: 0, errors: 0, totalSize: 0, fileCount: 0 }; // Timers this.persistenceTimer = null; this.cleanupTimer = null; // Logger this.logger = createLogger('CACHE_STORE'); } /** Inicializa el almac√©n de cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">get</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheStore.js</div>
                <div class="item-description">Obtiene un valor del almac√©n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">set</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheStore.js</div>
                <div class="item-description">Establece un valor en el almac√©n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">delete</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheStore.js</div>
                <div class="item-description">Elimina un valor del almac√©n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">has</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheStore.js</div>
                <div class="item-description">Verifica si existe una clave</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">keys</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheStore.js</div>
                <div class="item-description">Obtiene todas las claves</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clear</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheStore.js</div>
                <div class="item-description">Limpia todo el almac√©n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">size</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheStore.js</div>
                <div class="item-description">Obtiene el tama√±o del almac√©n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStatistics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheStore.js</div>
                <div class="item-description">Obtiene estad√≠sticas del almac√©n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">compact</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheStore.js</div>
                <div class="item-description">Compacta el almac√©n (para almacenamiento en archivos)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheStore.js</div>
                <div class="item-description">Destruye el almac√©n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheStrategy.js</div>
                <div class="item-description">Estrategias de cach√© con diferentes algoritmos de evicci√≥n y pol√≠ticas / class CacheStrategy extends EventEmitter { constructor(config = {}) { super(); this.config = { // Estrategia de evicci√≥n eviction: { policy: 'lru', // lru, lfu, fifo, lifo, random, ttl, adaptive maxSize: 1000, maxMemory: 100 * 1024 * 1024, // 100MB threshold: 0.8, // Comenzar evicci√≥n al 80% batchSize: 10, // Evictar en lotes adaptiveWindow: 1000 // Ventana para estrategia adaptativa }, // Pol√≠ticas de TTL ttl: { default: 3600000, // 1 hora sliding: false, // TTL deslizante absolute: true, // TTL absoluto maxAge: 86400000, // 24 horas m√°ximo refreshThreshold: 0.8 // Refrescar al 80% del TTL }, // Configuraci√≥n de warming warming: { enabled: false, strategies: ['preload', 'predictive', 'scheduled'], preloadKeys: [], predictiveThreshold: 5, // Predecir despu√©s de N accesos scheduledInterval: 3600000 // 1 hora }, // Configuraci√≥n de particionado partitioning: { enabled: false, strategy: 'hash', // hash, range, consistent partitions: 4, rebalanceThreshold: 0.7, virtualNodes: 150 // Para consistent hashing }, // Configuraci√≥n de replicaci√≥n replication: { enabled: false, factor: 2, // N√∫mero de r√©plicas strategy: 'sync', // sync, async consistency: 'eventual' // strong, eventual }, ...config }; // Estructuras de datos para diferentes estrategias this.accessOrder = new Map(); // Para LRU this.accessCount = new Map(); // Para LFU this.insertionOrder = []; // Para FIFO/LIFO this.accessHistory = []; // Para estrategia adaptativa this.partitions = new Map(); // Para particionado this.replicas = new Map(); // Para replicaci√≥n // M√©tricas de rendimiento this.metrics = { evictions: 0, hits: 0, misses: 0, refreshes: 0, predictions: 0, partitionRebalances: 0, replicationSyncs: 0 }; // Timers this.cleanupTimer = null; this.warmingTimer = null; this.rebalanceTimer = null; } /** Inicializa la estrategia</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldEvict</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheStrategy.js</div>
                <div class="item-description">Determina si un elemento debe ser evictado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">selectForEviction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheStrategy.js</div>
                <div class="item-description">Selecciona elementos para evicci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordAccess</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheStrategy.js</div>
                <div class="item-description">Registra un acceso a un elemento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordInsertion</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheStrategy.js</div>
                <div class="item-description">Registra la inserci√≥n de un elemento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordRemoval</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheStrategy.js</div>
                <div class="item-description">Registra la eliminaci√≥n de un elemento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateTTL</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheStrategy.js</div>
                <div class="item-description">Calcula el TTL para un elemento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldRefresh</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheStrategy.js</div>
                <div class="item-description">Verifica si un elemento debe ser refrescado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPartition</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheStrategy.js</div>
                <div class="item-description">Obtiene la partici√≥n para una clave</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getReplicas</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheStrategy.js</div>
                <div class="item-description">Obtiene las r√©plicas para una clave</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStatistics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheStrategy.js</div>
                <div class="item-description">Obtiene estad√≠sticas de la estrategia</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/CacheStrategy.js</div>
                <div class="item-description">Destruye la estrategia</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createCacheManager</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/index.js</div>
                <div class="item-description">Configuraci√≥n por defecto del sistema de cach√© / const DEFAULT_CACHE_CONFIG = { // Configuraci√≥n general enabled: true, debug: false, // Configuraci√≥n del gestor de cach√© manager: { storage: { type: 'memory', // memory, file, redis, hybrid maxSize: 1000, maxMemory: 100 * 1024 * 1024, // 100MB compression: false, serialization: 'json' }, expiration: { defaultTTL: 3600000, // 1 hora checkInterval: 300000, // 5 minutos strategy: 'lazy' // lazy, active, hybrid }, eviction: { policy: 'lru', // lru, lfu, fifo, random, ttl threshold: 0.8, batchSize: 10 }, partitioning: { enabled: false, strategy: 'hash', partitions: 4 }, persistence: { enabled: false, path: './cache', interval: 300000, format: 'json' }, statistics: { enabled: true, detailed: false, historySize: 1000 }, warming: { enabled: false, strategies: ['preload'], preloadKeys: [] }, clustering: { enabled: false, nodes: [], replication: 1 } }, // Configuraci√≥n del almac√©n store: { memory: { maxSize: 100 * 1024 * 1024, maxItems: 10000, compression: false }, file: { directory: './cache', maxFileSize: 10 * 1024 * 1024, maxFiles: 1000, compression: true, format: 'json', sync: false, backup: true, encryption: false }, redis: { host: 'localhost', port: 6379, password: null, db: 0, keyPrefix: 'cache:', maxRetries: 3, retryDelay: 1000, compression: true }, hybrid: { l1: 'memory', l2: 'file', l1MaxSize: 50 * 1024 * 1024, l2MaxSize: 500 * 1024 * 1024, promoteThreshold: 3, demoteThreshold: 0.8 }, serialization: { format: 'json', compression: false, encryption: false, encryptionKey: null }, persistence: { enabled: false, interval: 300000, atomic: true, backup: true, maxBackups: 5 } }, // Configuraci√≥n de estrategias strategy: { eviction: { policy: 'lru', maxSize: 1000, maxMemory: 100 * 1024 * 1024, threshold: 0.8, batchSize: 10, adaptiveWindow: 1000 }, ttl: { default: 3600000, sliding: false, absolute: true, maxAge: 86400000, refreshThreshold: 0.8 }, warming: { enabled: false, strategies: ['preload', 'predictive', 'scheduled'], preloadKeys: [], predictiveThreshold: 5, scheduledInterval: 3600000 }, partitioning: { enabled: false, strategy: 'hash', partitions: 4, rebalanceThreshold: 0.7, virtualNodes: 150 }, replication: { enabled: false, factor: 2, strategy: 'sync', consistency: 'eventual' } } }; /** Eventos del sistema de cach√© / const CACHE_EVENTS = { // Eventos del gestor MANAGER_INITIALIZED: 'manager:initialized', MANAGER_STARTED: 'manager:started', MANAGER_STOPPED: 'manager:stopped', MANAGER_ERROR: 'manager:error', MANAGER_DESTROYED: 'manager:destroyed', // Eventos de operaciones ITEM_SET: 'item:set', ITEM_GET: 'item:get', ITEM_DELETE: 'item:delete', ITEM_EXPIRED: 'item:expired', ITEM_EVICTED: 'item:evicted', // Eventos de cach√© CACHE_HIT: 'cache:hit', CACHE_MISS: 'cache:miss', CACHE_CLEAR: 'cache:clear', CACHE_FULL: 'cache:full', // Eventos de almac√©n STORE_INITIALIZED: 'store:initialized', STORE_ERROR: 'store:error', STORE_DESTROYED: 'store:destroyed', // Eventos de estrategia STRATEGY_INITIALIZED: 'strategy:initialized', STRATEGY_EVICTION: 'strategy:eviction', STRATEGY_PROMOTION: 'strategy:promotion', STRATEGY_DEMOTION: 'strategy:demotion', STRATEGY_PREDICTION: 'strategy:prediction', STRATEGY_REBALANCE: 'strategy:rebalanceNeeded', // Eventos de warming WARMING_STARTED: 'warming:started', WARMING_COMPLETED: 'warming:completed', WARMING_SCHEDULED: 'warming:scheduled', WARMING_PREDICTIVE: 'warming:predictive', // Eventos de persistencia PERSISTENCE_SAVED: 'persistence:saved', PERSISTENCE_LOADED: 'persistence:loaded', PERSISTENCE_ERROR: 'persistence:error', // Eventos de clustering CLUSTER_NODE_ADDED: 'cluster:nodeAdded', CLUSTER_NODE_REMOVED: 'cluster:nodeRemoved', CLUSTER_REPLICATION: 'cluster:replication' }; /** Estados del sistema de cach√© / const CACHE_STATES = { UNINITIALIZED: 'uninitialized', INITIALIZING: 'initializing', INITIALIZED: 'initialized', STARTING: 'starting', RUNNING: 'running', STOPPING: 'stopping', STOPPED: 'stopped', ERROR: 'error', DESTROYED: 'destroyed' }; /** Tipos de almacenamiento / const STORAGE_TYPES = { MEMORY: 'memory', FILE: 'file', REDIS: 'redis', HYBRID: 'hybrid' }; /** Pol√≠ticas de evicci√≥n / const EVICTION_POLICIES = { LRU: 'lru', LFU: 'lfu', FIFO: 'fifo', LIFO: 'lifo', RANDOM: 'random', TTL: 'ttl', ADAPTIVE: 'adaptive' }; /** Estrategias de warming / const WARMING_STRATEGIES = { PRELOAD: 'preload', PREDICTIVE: 'predictive', SCHEDULED: 'scheduled' }; /** Funciones de f√°brica / /** Crea una instancia del gestor de cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createCacheStore</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/index.js</div>
                <div class="item-description">Crea una instancia del almac√©n de cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createCacheStrategy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/index.js</div>
                <div class="item-description">Crea una instancia de la estrategia de cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createCacheSystem</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/index.js</div>
                <div class="item-description">Crea un sistema de cach√© completo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/index.js</div>
                <div class="item-description">Utilidades del sistema de cach√© / const CacheUtils = { /** Valida una configuraci√≥n de cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">mergeConfigs</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/index.js</div>
                <div class="item-description">Combina configuraciones de cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deepMerge</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/index.js</div>
                <div class="item-description">Combina objetos profundamente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createDevelopmentConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/index.js</div>
                <div class="item-description">Crea una configuraci√≥n optimizada para desarrollo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createProductionConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/index.js</div>
                <div class="item-description">Crea una configuraci√≥n optimizada para producci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSystemInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/index.js</div>
                <div class="item-description">Obtiene informaci√≥n del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">formatStatistics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/index.js</div>
                <div class="item-description">Formatea estad√≠sticas para mostrar</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">formatBytes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/index.js</div>
                <div class="item-description">Formatea bytes en formato legible</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">formatDuration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/index.js</div>
                <div class="item-description">Formatea duraci√≥n en formato legible</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">buildAndValidateConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/environment.js</div>
                <div class="item-description">Configuraci√≥n centralizada del sistema Consolida todas las variables de entorno en un solo lugar / class EnvironmentConfig { constructor() { this.config = this.buildAndValidateConfig(); } /** Construye y valida la configuraci√≥n completa del sistema usando Joi</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/environment.js</div>
                <div class="item-description">Obtiene la configuraci√≥n completa</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/environment.js</div>
                <div class="item-description">Obtiene una secci√≥n espec√≠fica de la configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isConfigured</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/environment.js</div>
                <div class="item-description">Verifica si el sistema est√° configurado correctamente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getDialog360Headers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/environment.js</div>
                <div class="item-description">Obtiene headers para 360Dialog API</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getHubHeaders</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/environment.js</div>
                <div class="item-description">Obtiene headers para Hub 360Dialog (compatibilidad)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">printSummary</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/environment.js</div>
                <div class="item-description">Imprime un resumen de la configuraci√≥n (sin datos sensibles)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getDashboardMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/controllers/AnalyticsController.js</div>
                <div class="item-description">===================================================== ChatBot Enterprise - Analytics Controller ===================================================== Controlador para gestionar todas las operaciones relacionadas con analytics, m√©tricas y reportes. / import BusinessMetricsService from '../services/analytics/BusinessMetricsService.js'; import AlertService from '../services/analytics/AlertService.js'; import DashboardService from '../services/analytics/DashboardService.js'; import NotificationService from '../services/analytics/NotificationService.js'; import ReportService from '../services/analytics/ReportService.js'; class AnalyticsController { constructor() { this.metricsService = new BusinessMetricsService(); this.alertService = new AlertService(); this.dashboardService = new DashboardService(); this.notificationService = new NotificationService(); this.reportService = new ReportService(); } /** ===================================================== M√âTRICAS Y DASHBOARDS ===================================================== / /** Obtener m√©tricas del dashboard principal</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getKPIs</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/controllers/AnalyticsController.js</div>
                <div class="item-description">Obtener KPIs principales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getConversationMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/controllers/AnalyticsController.js</div>
                <div class="item-description">Obtener m√©tricas de conversaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMessageMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/controllers/AnalyticsController.js</div>
                <div class="item-description">Obtener m√©tricas de mensajes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAgentPerformance</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/controllers/AnalyticsController.js</div>
                <div class="item-description">Obtener m√©tricas de rendimiento de agentes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMainDashboard</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/controllers/AnalyticsController.js</div>
                <div class="item-description">===================================================== DASHBOARDS ===================================================== / /** Obtener dashboard principal</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAgentDashboard</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/controllers/AnalyticsController.js</div>
                <div class="item-description">Obtener dashboard de agentes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCustomerSatisfactionDashboard</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/controllers/AnalyticsController.js</div>
                <div class="item-description">Obtener dashboard de satisfacci√≥n del cliente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getOperationalDashboard</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/controllers/AnalyticsController.js</div>
                <div class="item-description">Obtener dashboard operacional</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getActiveAlerts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/controllers/AnalyticsController.js</div>
                <div class="item-description">===================================================== ALERTAS ===================================================== / /** Obtener alertas activas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAlertHistory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/controllers/AnalyticsController.js</div>
                <div class="item-description">Obtener historial de alertas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">acknowledgeAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/controllers/AnalyticsController.js</div>
                <div class="item-description">Reconocer alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">resolveAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/controllers/AnalyticsController.js</div>
                <div class="item-description">Resolver alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAlertRules</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/controllers/AnalyticsController.js</div>
                <div class="item-description">Obtener reglas de alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createAlertRule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/controllers/AnalyticsController.js</div>
                <div class="item-description">Crear regla de alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateAlertRule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/controllers/AnalyticsController.js</div>
                <div class="item-description">Actualizar regla de alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deleteAlertRule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/controllers/AnalyticsController.js</div>
                <div class="item-description">Eliminar regla de alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/controllers/AnalyticsController.js</div>
                <div class="item-description">===================================================== REPORTES ===================================================== / /** Generar reporte de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">listReports</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/controllers/AnalyticsController.js</div>
                <div class="item-description">Listar reportes disponibles</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">downloadReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/controllers/AnalyticsController.js</div>
                <div class="item-description">Descargar reporte</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getNotificationStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/controllers/AnalyticsController.js</div>
                <div class="item-description">===================================================== NOTIFICACIONES ===================================================== / /** Obtener estad√≠sticas de notificaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getOverallStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/controllers/AnalyticsController.js</div>
                <div class="item-description">===================================================== RESUMEN GENERAL ===================================================== / /** Obtener resumen general de estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">exportDashboard</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/controllers/AnalyticsController.js</div>
                <div class="item-description">===================================================== EXPORTACI√ìN DE DASHBOARDS ===================================================== / /** Exportar dashboard</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/engine/ChatBot.js</div>
                <div class="item-description">ChatBot Core Service M√≥dulo principal del sistema de chatbot / import { EventEmitter } from 'events'; import logger from '../../shared/utils/logger.js'; export class ChatBot extends EventEmitter { constructor(config = {}) { super(); this.config = { name: 'ChatBot', version: '1.0.0', maxConcurrentChats: 100, defaultLanguage: 'es', sessionTimeout: 30 * 60 * 1000, // 30 minutos enableAnalytics: true, enableLogging: true, ...config }; this.sessions = new Map(); this.activeChats = new Map(); this.messageQueue = []; this.plugins = new Map(); this.handlers = new Map(); this.middleware = []; this.stats = { totalMessages: 0, totalSessions: 0, activeUsers: 0, startTime: new Date() }; this.isRunning = false; /** @type {NodeJS.Timeout|null} Referencia al timer de limpieza de sesiones para cleanup */ this.sessionCleanupTimer = null; // Configurar manejadores por defecto this.setupDefaultHandlers(); // Configurar limpieza de sesiones this.setupSessionCleanup(); } /** Inicia el chatbot</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Promise<boolean>} √âxito del inicio 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/engine/ChatBot.js</div>
                <div class="item-description">Detiene el chatbot</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Promise<boolean>} √âxito de la detenci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/engine/ChatBot.js</div>
                <div class="item-description">Procesa un mensaje entrante</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} message - Mensaje a procesar, {object} context - Contexto del mensaje<br><strong>@returns:</strong> {Promise<object>} Respuesta procesada 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getOrCreateSession</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/engine/ChatBot.js</div>
                <div class="item-description">Obtiene o crea una sesi√≥n de usuario</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} userId - ID del usuario, {object} context - Contexto adicional<br><strong>@returns:</strong> {Promise<object>} Sesi√≥n del usuario 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/engine/ChatBot.js</div>
                <div class="item-description">Maneja un mensaje procesado</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} message - Mensaje procesado, {object} session - Sesi√≥n del usuario<br><strong>@returns:</strong> {Promise<object>} Respuesta generada 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">findHandler</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/engine/ChatBot.js</div>
                <div class="item-description">Busca el manejador apropiado para un mensaje</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} message - Mensaje a manejar, {object} session - Sesi√≥n del usuario<br><strong>@returns:</strong> {object|null} Manejador encontrado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateDefaultResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/engine/ChatBot.js</div>
                <div class="item-description">Genera respuesta por defecto</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} message - Mensaje original, {object} session - Sesi√≥n del usuario<br><strong>@returns:</strong> {object} Respuesta por defecto 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerHandler</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/engine/ChatBot.js</div>
                <div class="item-description">Registra un manejador de mensajes</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} name - Nombre del manejador, {object} handler - Manejador a registrar 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">use</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/engine/ChatBot.js</div>
                <div class="item-description">Registra middleware</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {function} middleware - Funci√≥n middleware 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">applyMiddleware</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/engine/ChatBot.js</div>
                <div class="item-description">Aplica middleware al mensaje</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} message - Mensaje original, {object} session - Sesi√≥n del usuario<br><strong>@returns:</strong> {Promise<object>} Mensaje procesado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerPlugin</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/engine/ChatBot.js</div>
                <div class="item-description">Registra un plugin</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} name - Nombre del plugin, {object} plugin - Plugin a registrar 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializePlugins</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/engine/ChatBot.js</div>
                <div class="item-description">Inicializa todos los plugins</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Promise} Promise de inicializaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shutdownPlugins</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/engine/ChatBot.js</div>
                <div class="item-description">Detiene todos los plugins</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Promise} Promise de detenci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/engine/ChatBot.js</div>
                <div class="item-description">Valida formato del mensaje</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} message - Mensaje a validar<br><strong>@returns:</strong> {boolean} Si el mensaje es v√°lido 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/engine/ChatBot.js</div>
                <div class="item-description">Actualiza estad√≠sticas</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} message - Mensaje procesado, {object} session - Sesi√≥n del usuario 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupDefaultHandlers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/engine/ChatBot.js</div>
                <div class="item-description">Configura manejadores por defecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventHandlers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/engine/ChatBot.js</div>
                <div class="item-description">Configura manejadores de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupSessionCleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/engine/ChatBot.js</div>
                <div class="item-description">Configura limpieza autom√°tica de sesiones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupExpiredSessions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/engine/ChatBot.js</div>
                <div class="item-description">Limpia sesiones expiradas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">closeAllSessions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/engine/ChatBot.js</div>
                <div class="item-description">Cierra todas las sesiones activas</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Promise} Promise de cierre 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/engine/ChatBot.js</div>
                <div class="item-description">Obtiene estad√≠sticas del chatbot</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {object} Estad√≠sticas actuales 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSession</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/engine/ChatBot.js</div>
                <div class="item-description">Obtiene informaci√≥n de una sesi√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} userId - ID del usuario<br><strong>@returns:</strong> {object|null} Informaci√≥n de la sesi√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">removeSession</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/engine/ChatBot.js</div>
                <div class="item-description">Elimina una sesi√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} userId - ID del usuario<br><strong>@returns:</strong> {boolean} √âxito de la eliminaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/patterns/MessagePatterns.js</div>
                <div class="item-description">MessagePatterns - Sistema de reconocimiento de patrones en mensajes Proporciona funcionalidades para identificar intenciones, entidades y contexto / import { EventEmitter } from 'events'; class MessagePatterns extends EventEmitter { constructor(options = {}) { super(); this.patterns = new Map(); this.intentClassifiers = new Map(); this.entityExtractors = new Map(); this.contextAnalyzers = new Map(); this.options = { enableFuzzyMatching: options.enableFuzzyMatching !== false, fuzzyThreshold: options.fuzzyThreshold || 0.8, enableLearning: options.enableLearning !== false, maxPatterns: options.maxPatterns || 1000, ...options }; this.setupDefaultPatterns(); this.setupDefaultClassifiers(); this.setupDefaultExtractors(); } /** Analiza un mensaje y extrae patrones, intenciones y entidades</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/patterns/MessagePatterns.js</div>
                <div class="item-description">Detecta patrones en el mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">classifyIntents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/patterns/MessagePatterns.js</div>
                <div class="item-description">Clasifica intenciones del mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractEntities</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/patterns/MessagePatterns.js</div>
                <div class="item-description">Extrae entidades del mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeContext</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/patterns/MessagePatterns.js</div>
                <div class="item-description">Analiza el contexto del mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerPattern</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/patterns/MessagePatterns.js</div>
                <div class="item-description">Registra un nuevo patr√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerIntentClassifier</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/patterns/MessagePatterns.js</div>
                <div class="item-description">Registra un clasificador de intenciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerEntityExtractor</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/patterns/MessagePatterns.js</div>
                <div class="item-description">Registra un extractor de entidades</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerContextAnalyzer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/patterns/MessagePatterns.js</div>
                <div class="item-description">Registra un analizador de contexto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">normalizeMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/patterns/MessagePatterns.js</div>
                <div class="item-description">Normaliza el mensaje para procesamiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">matchPattern</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/patterns/MessagePatterns.js</div>
                <div class="item-description">Hace match de un patr√≥n con el mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">matchKeywords</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/patterns/MessagePatterns.js</div>
                <div class="item-description">Hace match de palabras clave</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">fuzzyMatch</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/patterns/MessagePatterns.js</div>
                <div class="item-description">Realiza matching difuso</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">levenshteinDistance</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/patterns/MessagePatterns.js</div>
                <div class="item-description">Calcula la distancia de Levenshtein</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateOverallConfidence</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/patterns/MessagePatterns.js</div>
                <div class="item-description">Calcula la confianza general del an√°lisis</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateMetadata</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/patterns/MessagePatterns.js</div>
                <div class="item-description">Genera metadata del an√°lisis</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupDefaultPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/patterns/MessagePatterns.js</div>
                <div class="item-description">Configura patrones por defecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupDefaultClassifiers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/patterns/MessagePatterns.js</div>
                <div class="item-description">Configura clasificadores por defecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupDefaultExtractors</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/patterns/MessagePatterns.js</div>
                <div class="item-description">Configura extractores por defecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/patterns/MessagePatterns.js</div>
                <div class="item-description">Obtiene estad√≠sticas del sistema de patrones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerService</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/services/ServiceManager.js</div>
                <div class="item-description">ServiceManager - Gestor centralizado de servicios para el chatbot Coordina el ciclo de vida y la comunicaci√≥n entre servicios / import { EventEmitter } from 'events'; class ServiceManager extends EventEmitter { constructor(options = {}) { super(); this.services = new Map(); this.dependencies = new Map(); this.serviceStates = new Map(); this.startupOrder = []; this.shutdownOrder = []; this.options = { startupTimeout: options.startupTimeout || 30000, shutdownTimeout: options.shutdownTimeout || 15000, enableHealthChecks: options.enableHealthChecks !== false, healthCheckInterval: options.healthCheckInterval || 30000, enableAutoRestart: options.enableAutoRestart !== false, maxRestartAttempts: options.maxRestartAttempts || 3, ...options }; this.isStarted = false; this.healthCheckTimer = null; this.restartAttempts = new Map(); } /** Registra un servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unregisterService</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/services/ServiceManager.js</div>
                <div class="item-description">Desregistra un servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startAll</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/services/ServiceManager.js</div>
                <div class="item-description">Inicia todos los servicios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopAll</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/services/ServiceManager.js</div>
                <div class="item-description">Detiene todos los servicios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startService</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/services/ServiceManager.js</div>
                <div class="item-description">Inicia un servicio espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopService</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/services/ServiceManager.js</div>
                <div class="item-description">Detiene un servicio espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">restartService</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/services/ServiceManager.js</div>
                <div class="item-description">Reinicia un servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getServiceState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/services/ServiceManager.js</div>
                <div class="item-description">Obtiene el estado de un servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getServicesInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/services/ServiceManager.js</div>
                <div class="item-description">Obtiene informaci√≥n de todos los servicios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkServiceHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/services/ServiceManager.js</div>
                <div class="item-description">Verifica la salud de un servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkAllHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/services/ServiceManager.js</div>
                <div class="item-description">Verifica la salud de todos los servicios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getService</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/services/ServiceManager.js</div>
                <div class="item-description">Obtiene un servicio por nombre</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isServiceRunning</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/services/ServiceManager.js</div>
                <div class="item-description">Verifica si un servicio est√° corriendo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/services/ServiceManager.js</div>
                <div class="item-description">Obtiene estad√≠sticas del gestor de servicios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateService</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/services/ServiceManager.js</div>
                <div class="item-description">Valida que un servicio tenga la interfaz correcta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateStartupOrder</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/services/ServiceManager.js</div>
                <div class="item-description">Calcula el orden de inicio basado en dependencias</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ensureDependencies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/services/ServiceManager.js</div>
                <div class="item-description">Asegura que las dependencias est√©n corriendo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startHealthChecks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/services/ServiceManager.js</div>
                <div class="item-description">Inicia los health checks peri√≥dicos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleUnhealthyService</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/services/ServiceManager.js</div>
                <div class="item-description">Maneja un servicio no saludable</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">withTimeout</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/services/ServiceManager.js</div>
                <div class="item-description">Ejecuta una funci√≥n con timeout</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerSchema</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/validation/ValidationEngine.js</div>
                <div class="item-description">ValidationEngine - Motor de validaci√≥n centralizado para el chatbot Proporciona validaci√≥n de datos, mensajes y configuraciones / import Joi from '@hapi/joi'; import { EventEmitter } from 'events'; class ValidationEngine extends EventEmitter { constructor(options = {}) { super(); this.schemas = new Map(); this.validators = new Map(); this.customRules = new Map(); this.options = { enableCaching: options.enableCaching !== false, cacheSize: options.cacheSize || 1000, enableMetrics: options.enableMetrics !== false, strictMode: options.strictMode !== false, ...options }; this.cache = new Map(); this.metrics = { validations: 0, successes: 0, failures: 0, cacheHits: 0, cacheMisses: 0 }; this.setupDefaultSchemas(); this.setupDefaultValidators(); this.setupCustomRules(); } /** Registra un esquema de validaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerValidator</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/validation/ValidationEngine.js</div>
                <div class="item-description">Registra un validador personalizado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/validation/ValidationEngine.js</div>
                <div class="item-description">Valida datos usando un esquema registrado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateWith</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/validation/ValidationEngine.js</div>
                <div class="item-description">Valida usando un validador personalizado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateBatch</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/validation/ValidationEngine.js</div>
                <div class="item-description">Valida m√∫ltiples datos con diferentes esquemas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/validation/ValidationEngine.js</div>
                <div class="item-description">Valida un mensaje de chat</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/validation/ValidationEngine.js</div>
                <div class="item-description">Valida configuraci√≥n del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performValidation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/validation/ValidationEngine.js</div>
                <div class="item-description">Realiza la validaci√≥n con Joi</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performMessageValidations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/validation/ValidationEngine.js</div>
                <div class="item-description">Realiza validaciones espec√≠ficas de mensajes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">containsSuspiciousContent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/validation/ValidationEngine.js</div>
                <div class="item-description">Verifica contenido sospechoso</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isRateLimited</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/validation/ValidationEngine.js</div>
                <div class="item-description">Verifica rate limiting</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">formatJoiErrors</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/validation/ValidationEngine.js</div>
                <div class="item-description">Formatea errores de Joi</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">formatJoiWarnings</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/validation/ValidationEngine.js</div>
                <div class="item-description">Formatea warnings de Joi</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">normalizeValidationResult</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/validation/ValidationEngine.js</div>
                <div class="item-description">Normaliza resultado de validaci√≥n personalizada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateCacheKey</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/validation/ValidationEngine.js</div>
                <div class="item-description">Genera clave de cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">simpleHash</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/validation/ValidationEngine.js</div>
                <div class="item-description">Hash simple para cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cacheResult</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/validation/ValidationEngine.js</div>
                <div class="item-description">Guarda resultado en cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clearCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/validation/ValidationEngine.js</div>
                <div class="item-description">Limpia la cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/validation/ValidationEngine.js</div>
                <div class="item-description">Obtiene m√©tricas de validaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupDefaultSchemas</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/validation/ValidationEngine.js</div>
                <div class="item-description">Configura esquemas por defecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupDefaultValidators</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/validation/ValidationEngine.js</div>
                <div class="item-description">Configura validadores por defecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupCustomRules</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/validation/ValidationEngine.js</div>
                <div class="item-description">Configura reglas personalizadas de Joi</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/core/validation/ValidationEngine.js</div>
                <div class="item-description">Obtiene estad√≠sticas del motor de validaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateAll</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/docs/doc-generator.js</div>
                <div class="item-description">Generador de Documentaci√≥n Autom√°tica Orquesta la generaci√≥n de documentaci√≥n usando m√≥dulos especializados / import DocumentationCoordinator from '../services/docs/core/DocumentationCoordinator.js'; import { createLogger } from '../services/core/core/logger.js'; class DocumentationGenerator { constructor(config = {}) { this.config = { sourceDir: config.sourceDir || './src', outputDir: config.outputDir || './docs', publicDir: config.publicDir || './public', projectRoot: config.projectRoot || '.', excludePatterns: config.excludePatterns || ['node_modules', '.git', 'tests'], ...config }; this.logger = createLogger('DOC_GENERATOR'); this.coordinator = new DocumentationCoordinator(this.config); } /** Genera toda la documentaci√≥n usando el coordinador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateJSDoc</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/docs/doc-generator.js</div>
                <div class="item-description">Genera solo documentaci√≥n JSDoc</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateSwagger</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/docs/doc-generator.js</div>
                <div class="item-description">Genera solo documentaci√≥n Swagger</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateComponentDocs</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/docs/doc-generator.js</div>
                <div class="item-description">Genera solo documentaci√≥n de componentes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateReadme</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/docs/doc-generator.js</div>
                <div class="item-description">Genera solo README</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateIndex</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/docs/doc-generator.js</div>
                <div class="item-description">Genera solo √≠ndice de documentaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getProjectStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/docs/doc-generator.js</div>
                <div class="item-description">Obtiene estad√≠sticas del proyecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/docs/doc-generator.js</div>
                <div class="item-description">Obtiene el estado del coordinador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clean</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/docs/doc-generator.js</div>
                <div class="item-description">Limpia la documentaci√≥n generada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/docs/doc-generator.js</div>
                <div class="item-description">Valida la configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeDefaultRules</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AlertService.js</div>
                <div class="item-description">===================================================== ChatBot Enterprise - Alert Service ===================================================== Servicio para gestionar alertas de negocio basadas en KPIs y m√©tricas cr√≠ticas del ChatBot Enterprise. / import BusinessMetricsService from './BusinessMetricsService.js'; import { getPrismaService } from '../database/PrismaService.js'; class AlertService { constructor() { this.metricsService = new BusinessMetricsService(); this.prismaService = getPrismaService(); this.alertRules = new Map(); this.activeAlerts = new Map(); this.notificationChannels = []; this.initializeDefaultRules(); } /** Inicializar reglas de alerta por defecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addAlertRule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AlertService.js</div>
                <div class="item-description">Agregar regla de alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateAlertRule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AlertService.js</div>
                <div class="item-description">Actualizar regla de alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">removeAlertRule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AlertService.js</div>
                <div class="item-description">Eliminar regla de alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAlertRules</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AlertService.js</div>
                <div class="item-description">Obtener todas las reglas de alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evaluateAlerts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AlertService.js</div>
                <div class="item-description">Evaluar todas las alertas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evaluateRule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AlertService.js</div>
                <div class="item-description">Evaluar una regla espec√≠fica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evaluateCondition</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AlertService.js</div>
                <div class="item-description">Evaluar condici√≥n de alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AlertService.js</div>
                <div class="item-description">Crear alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isInCooldown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AlertService.js</div>
                <div class="item-description">Verificar si una regla est√° en cooldown</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">acknowledgeAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AlertService.js</div>
                <div class="item-description">Reconocer alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">resolveAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AlertService.js</div>
                <div class="item-description">Resolver alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getActiveAlerts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AlertService.js</div>
                <div class="item-description">Obtener alertas activas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAllAlerts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AlertService.js</div>
                <div class="item-description">Obtener todas las alertas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addNotificationChannel</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AlertService.js</div>
                <div class="item-description">Agregar canal de notificaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendNotification</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AlertService.js</div>
                <div class="item-description">Enviar notificaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldAlerts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AlertService.js</div>
                <div class="item-description">Limpiar alertas antiguas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAlertStatistics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AlertService.js</div>
                <div class="item-description">Obtener estad√≠sticas de alertas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startMonitoring</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AlertService.js</div>
                <div class="item-description">Iniciar monitoreo autom√°tico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopMonitoring</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AlertService.js</div>
                <div class="item-description">Detener monitoreo autom√°tico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AnalyticsInitializer.js</div>
                <div class="item-description">===================================================== ChatBot Enterprise - Analytics Initializer ===================================================== Inicializador del sistema de analytics y m√©tricas de negocio. / import cron from 'node-cron'; import { promises as fs } from 'fs'; import path from 'path'; import { analyticsConfig, defaultAlertRules } from '../../config/analytics.js'; import BusinessMetricsService from './BusinessMetricsService.js'; import AlertService from './AlertService.js'; import DashboardService from './DashboardService.js'; import NotificationService from './NotificationService.js'; import ReportService from './ReportService.js'; /** Inicializador del Sistema de Analytics / class AnalyticsInitializer { constructor() { this.services = {}; this.scheduledTasks = []; this.isInitialized = false; } /** Inicializar el sistema de analytics</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createDirectories</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AnalyticsInitializer.js</div>
                <div class="item-description">Crear directorios necesarios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeServices</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AnalyticsInitializer.js</div>
                <div class="item-description">Inicializar servicios de analytics</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupDefaultAlertRules</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AnalyticsInitializer.js</div>
                <div class="item-description">Configurar reglas de alerta predefinidas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupScheduledTasks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AnalyticsInitializer.js</div>
                <div class="item-description">Configurar tareas programadas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupNotificationChannels</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AnalyticsInitializer.js</div>
                <div class="item-description">Configurar canales de notificaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startScheduledTasks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AnalyticsInitializer.js</div>
                <div class="item-description">Iniciar tareas programadas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopScheduledTasks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AnalyticsInitializer.js</div>
                <div class="item-description">Detener tareas programadas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSystemStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AnalyticsInitializer.js</div>
                <div class="item-description">Obtener estado del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getService</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AnalyticsInitializer.js</div>
                <div class="item-description">Obtener servicio por nombre</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">reinitialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AnalyticsInitializer.js</div>
                <div class="item-description">Reinicializar sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shutdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AnalyticsInitializer.js</div>
                <div class="item-description">Shutdown graceful del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAnalyticsInitializer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/AnalyticsInitializer.js</div>
                <div class="item-description">Obtener instancia singleton del inicializador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getDashboardMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/BusinessMetricsService.js</div>
                <div class="item-description">===================================================== ChatBot Enterprise - Business Metrics Service ===================================================== Servicio principal para calcular y gestionar m√©tricas de negocio, KPIs y analytics del ChatBot Enterprise. / import { getPrismaService } from '../database/PrismaService.js'; class BusinessMetricsService { constructor() { this.prismaService = getPrismaService(); this.cache = new Map(); this.cacheTimeout = 5 * 60 * 1000; // 5 minutos } /** Obtener m√©tricas generales del dashboard</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getConversationMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/BusinessMetricsService.js</div>
                <div class="item-description">Obtener m√©tricas de conversaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMessageMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/BusinessMetricsService.js</div>
                <div class="item-description">Obtener m√©tricas de mensajes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getUserMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/BusinessMetricsService.js</div>
                <div class="item-description">Obtener m√©tricas de usuarios/agentes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getResponseTimeMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/BusinessMetricsService.js</div>
                <div class="item-description">Obtener m√©tricas de tiempo de respuesta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSatisfactionMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/BusinessMetricsService.js</div>
                <div class="item-description">Obtener m√©tricas de satisfacci√≥n del cliente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getChannelMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/BusinessMetricsService.js</div>
                <div class="item-description">Obtener m√©tricas por canal</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getKPIs</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/BusinessMetricsService.js</div>
                <div class="item-description">Obtener KPIs principales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAverageResolutionTime</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/BusinessMetricsService.js</div>
                <div class="item-description">M√©todos auxiliares para c√°lculos espec√≠ficos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getTimeRange</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/BusinessMetricsService.js</div>
                <div class="item-description">M√©todos auxiliares</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMainDashboard</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/DashboardService.js</div>
                <div class="item-description">===================================================== ChatBot Enterprise - Dashboard Service ===================================================== Servicio para generar y gestionar dashboards de m√©tricas de negocio del ChatBot Enterprise. / import BusinessMetricsService from './BusinessMetricsService.js'; import AlertService from './AlertService.js'; import { getPrismaService } from '../database/PrismaService.js'; class DashboardService { constructor() { this.metricsService = new BusinessMetricsService(); this.alertService = new AlertService(); this.prismaService = getPrismaService(); this.dashboardCache = new Map(); this.cacheTimeout = 2 * 60 * 1000; // 2 minutos } /** Obtener dashboard principal</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAgentDashboard</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/DashboardService.js</div>
                <div class="item-description">Obtener dashboard de agentes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCustomerSatisfactionDashboard</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/DashboardService.js</div>
                <div class="item-description">Obtener dashboard de satisfacci√≥n del cliente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getOperationsDashboard</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/DashboardService.js</div>
                <div class="item-description">Obtener dashboard de operaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">buildOverviewSection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/DashboardService.js</div>
                <div class="item-description">Construir secci√≥n de resumen</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">buildKPISection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/DashboardService.js</div>
                <div class="item-description">Construir secci√≥n de KPIs</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">buildAlertsSection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/DashboardService.js</div>
                <div class="item-description">Construir secci√≥n de alertas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">buildTrendsSection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/DashboardService.js</div>
                <div class="item-description">Construir secci√≥n de tendencias</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">buildAgentsSection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/DashboardService.js</div>
                <div class="item-description">Construir secci√≥n de agentes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">buildChannelsSection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/DashboardService.js</div>
                <div class="item-description">Construir secci√≥n de canales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">buildRealTimeSection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/DashboardService.js</div>
                <div class="item-description">Construir secci√≥n en tiempo real</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getTrendAnalytics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/DashboardService.js</div>
                <div class="item-description">M√©todos auxiliares para obtener datos espec√≠ficos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">formatTime</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/DashboardService.js</div>
                <div class="item-description">M√©todos de utilidad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">exportDashboard</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/DashboardService.js</div>
                <div class="item-description">Exportar dashboard a diferentes formatos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeChannels</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/NotificationService.js</div>
                <div class="item-description">===================================================== ChatBot Enterprise - Notification Service ===================================================== Servicio para gestionar notificaciones de alertas a trav√©s de m√∫ltiples canales (email, Slack, webhook). / import nodemailer from 'nodemailer'; import axios from 'axios'; import twilio from 'twilio'; import { getPrismaService } from '../database/PrismaService.js'; class NotificationService { constructor() { this.prismaService = getPrismaService(); this.channels = new Map(); this.templates = new Map(); this.initializeChannels(); this.initializeTemplates(); } /** Inicializar canales de notificaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeTemplates</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/NotificationService.js</div>
                <div class="item-description">Inicializar plantillas de notificaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addChannel</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/NotificationService.js</div>
                <div class="item-description">Agregar canal de notificaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addTemplate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/NotificationService.js</div>
                <div class="item-description">Agregar plantilla de notificaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendNotification</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/NotificationService.js</div>
                <div class="item-description">Enviar notificaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getTemplateName</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/NotificationService.js</div>
                <div class="item-description">Obtener nombre de plantilla seg√∫n severidad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">buildNotificationContext</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/NotificationService.js</div>
                <div class="item-description">Construir contexto para la notificaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCurrentValue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/NotificationService.js</div>
                <div class="item-description">Obtener valor actual de la m√©trica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getThreshold</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/NotificationService.js</div>
                <div class="item-description">Obtener umbral de la alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">renderTemplate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/NotificationService.js</div>
                <div class="item-description">Renderizar plantilla con contexto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">replaceVariables</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/NotificationService.js</div>
                <div class="item-description">Reemplazar variables en texto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logNotification</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/NotificationService.js</div>
                <div class="item-description">Registrar notificaci√≥n en base de datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getNotificationStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/NotificationService.js</div>
                <div class="item-description">Obtener estad√≠sticas de notificaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeReportsDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/ReportService.js</div>
                <div class="item-description">===================================================== ChatBot Enterprise - Report Service ===================================================== Servicio para generar reportes detallados de m√©tricas, KPIs y an√°lisis de negocio en m√∫ltiples formatos. / import { promises as fs } from 'fs'; import { createWriteStream } from 'fs'; import path from 'path'; import ExcelJS from 'exceljs'; import PDFDocument from 'pdfkit'; import { getPrismaService } from '../database/PrismaService.js'; import BusinessMetricsService from './BusinessMetricsService.js'; class ReportService { constructor() { this.prismaService = getPrismaService(); this.metricsService = new BusinessMetricsService(); this.reportsDir = path.join(process.cwd(), 'reports'); this.initializeReportsDirectory(); } /** Inicializar directorio de reportes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateMetricsReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/ReportService.js</div>
                <div class="item-description">Generar reporte completo de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">collectReportData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/ReportService.js</div>
                <div class="item-description">Recopilar datos para el reporte</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateExcelReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/ReportService.js</div>
                <div class="item-description">Generar reporte en Excel</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createSummarySheet</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/ReportService.js</div>
                <div class="item-description">Crear hoja de resumen</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createKPIsSheet</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/ReportService.js</div>
                <div class="item-description">Crear hoja de KPIs</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generatePDFReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/ReportService.js</div>
                <div class="item-description">Generar reporte en PDF</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateJSONReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/ReportService.js</div>
                <div class="item-description">Generar reporte en JSON</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getTrendData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/ReportService.js</div>
                <div class="item-description">Obtener datos de tendencias</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSatisfactionData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/ReportService.js</div>
                <div class="item-description">Obtener datos de satisfacci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAlertsData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/ReportService.js</div>
                <div class="item-description">Obtener datos de alertas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">groupSatisfactionByChannel</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/ReportService.js</div>
                <div class="item-description">Agrupar satisfacci√≥n por canal</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">groupSatisfactionByAgent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/ReportService.js</div>
                <div class="item-description">Agrupar satisfacci√≥n por agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">groupAlertsBySeverity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/ReportService.js</div>
                <div class="item-description">Agrupar alertas por severidad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getTimeRange</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/ReportService.js</div>
                <div class="item-description">Obtener rango de tiempo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">listReports</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/ReportService.js</div>
                <div class="item-description">Listar reportes generados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldReports</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/analytics/ReportService.js</div>
                <div class="item-description">Eliminar reportes antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeManager</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Notification Manager Service Gestiona notificaciones multi-canal (email, SMS, push, webhook) <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 6.0.0<br><strong>@since:</strong> 2.0.0 /  import nodemailer from 'nodemailer'; import axios from 'axios'; import { EventEmitter } from 'events'; import { logger } from '../core/logger.js';  /** Tipos de notificaci√≥n / export const NotificationType = { EMAIL: 'email', SMS: 'sms', PUSH: 'push', WEBHOOK: 'webhook', IN_APP: 'in_app', SLACK: 'slack', DISCORD: 'discord' };  /** Prioridades de notificaci√≥n / export const NotificationPriority = { LOW: 'low', NORMAL: 'normal', HIGH: 'high', URGENT: 'urgent', CRITICAL: 'critical' };  /** Estados de notificaci√≥n / export const NotificationStatus = { PENDING: 'pending', SENDING: 'sending', SENT: 'sent', DELIVERED: 'delivered', FAILED: 'failed', CANCELLED: 'cancelled', RETRYING: 'retrying' };  /** Categor√≠as de notificaci√≥n / export const NotificationCategory = { SYSTEM: 'system', SECURITY: 'security', USER_ACTION: 'user_action', MARKETING: 'marketing', ALERT: 'alert', REMINDER: 'reminder', UPDATE: 'update' };  /** Clase principal del gestor de notificaciones / export class NotificationManager extends EventEmitter { constructor(config = {}) { super();  this.config = { // Configuraci√≥n de email email: { enabled: true, service: config.email?.service || 'gmail', host: config.email?.host || 'smtp.gmail.com', port: config.email?.port || 587, secure: config.email?.secure || false, auth: { user: config.email?.auth?.user || process.env.EMAIL_USER, pass: config.email?.auth?.pass || process.env.EMAIL_PASS }, from: config.email?.from || process.env.EMAIL_FROM || 'noreply@chatbot.com', ...config.email },  // Configuraci√≥n de SMS sms: { enabled: false, provider: 'twilio', accountSid: process.env.TWILIO_ACCOUNT_SID, authToken: process.env.TWILIO_AUTH_TOKEN, from: process.env.TWILIO_FROM, ...config.sms },  // Configuraci√≥n de push notifications push: { enabled: false, provider: 'firebase', serverKey: process.env.FIREBASE_SERVER_KEY, ...config.push },  // Configuraci√≥n de webhooks webhook: { enabled: true, timeout: 30000, retries: 3, ...config.webhook },  // Configuraci√≥n de retry retry: { maxAttempts: 3, baseDelay: 1000, maxDelay: 30000, backoffFactor: 2 },  // Configuraci√≥n de rate limiting rateLimit: { enabled: true, maxPerMinute: 60, maxPerHour: 1000 },  // Configuraci√≥n de templates templates: { enabled: true, defaultLanguage: 'es', fallbackLanguage: 'en' },  ...config };  // Almacenamiento de notificaciones this.notifications = new Map(); this.templates = new Map(); this.subscribers = new Map(); this.channels = new Map();  // Colas de procesamiento this.sendQueue = []; this.retryQueue = [];  // Estad√≠sticas this.stats = { totalSent: 0, totalFailed: 0, totalRetries: 0, byType: {}, byPriority: {}, byStatus: {}, averageDeliveryTime: 0, lastDeliveryTime: 0 };  // Rate limiting this.rateLimitCounters = new Map();  // Transporters this.emailTransporter = null; this.smsClient = null;  this.initializeManager(); }  /** Inicializa el gestor de notificaciones 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupTransporters</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Configura transporters de notificaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupDefaultTemplates</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Configura templates por defecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerTemplate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Registra un template de notificaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">subscribe</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Suscribe un usuario a notificaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unsubscribe</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Desuscribe un usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendNotification</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Env√≠a una notificaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendTemplateNotification</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Env√≠a notificaci√≥n usando template</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processTemplate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Procesa un template</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">replaceVariables</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Reemplaza variables en un texto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processNotification</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Procesa la cola de env√≠o</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendEmail</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Env√≠a email</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendSMS</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Env√≠a SMS</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendTwilioSMS</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Env√≠a SMS usando Twilio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendAWSSMS</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Env√≠a SMS usando AWS SNS</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendNexmoSMS</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Env√≠a SMS usando Nexmo/Vonage</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendPush</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Env√≠a push notification</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendFCMPush</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Env√≠a push notification usando Firebase Cloud Messaging (FCM)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendAPNsPush</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Env√≠a push notification usando Apple Push Notification Service (APNs)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendExpoPush</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Env√≠a push notification usando Expo Push Service</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">mapPriorityToFCM</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Mapea prioridad interna a prioridad FCM</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendWebhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Env√≠a webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendInApp</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Env√≠a notificaci√≥n in-app</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scheduleRetry</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Programa retry de notificaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkRateLimit</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Verifica rate limiting</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupQueueProcessing</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Configura procesamiento de colas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processSendQueue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Procesa cola de env√≠o</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processRetryQueue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Procesa cola de retry</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupCleanupTasks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Configura tareas de limpieza</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupRateLimitCounters</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Limpia contadores de rate limit antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldNotifications</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Limpia notificaciones antiguas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Actualiza estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateNotificationId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Genera ID de notificaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Obtiene estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getNotification</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Obtiene notificaci√≥n por ID</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getNotificationsByStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Obtiene notificaciones por estado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cancelNotification</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Cancela una notificaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">close</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/features/messaging/NotificationManager.js</div>
                <div class="item-description">Cierra el gestor de notificaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">DependencyManager - Gestor de Dependencias Gestiona las dependencias entre m√≥dulos, detecta dependencias circulares, y optimiza el orden de carga/recarga de m√≥dulos</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 2.0.0 /  import { createLogger } from '../services/core/core/logger.js'; import { EventEmitter } from 'events'; import { readFile } from 'fs/promises'; import { existsSync, statSync } from 'fs'; import path from 'path';  const logger = createLogger('DEPENDENCY_MANAGER');  export class DependencyManager extends EventEmitter { constructor(options = {}) { super();  // Configuraci√≥n this.config = { // Configuraci√≥n general enabled: options.enabled !== false, autoAnalyze: options.autoAnalyze !== false,  // Configuraci√≥n de an√°lisis analyzePatterns: options.analyzePatterns || ['**/*.js', '**/*.mjs', '**/*.json'], excludePatterns: options.excludePatterns || [ '**/node_modules/**', '**/dist/**', '**/build/**', '**/.git/**', '**/coverage/**' ],  // Configuraci√≥n de dependencias trackImports: options.trackImports !== false, trackRequires: options.trackRequires !== false, trackDynamicImports: options.trackDynamicImports !== false, trackConditionalRequires: options.trackConditionalRequires !== false,  // Configuraci√≥n de detecci√≥n circular detectCircular: options.detectCircular !== false, maxCircularDepth: options.maxCircularDepth || 50, circularStrategy: options.circularStrategy || 'warn', // 'warn', 'error', 'ignore'  // Configuraci√≥n de resoluci√≥n baseDir: options.baseDir || process.cwd(), modulePaths: options.modulePaths || ['./src', './lib', './modules'], extensions: options.extensions || ['.js', '.mjs', '.json'],  // Configuraci√≥n de cache useCache: options.useCache !== false, cacheTimeout: options.cacheTimeout || 300000, // 5 minutos  // Configuraci√≥n de optimizaci√≥n optimizeOrder: options.optimizeOrder !== false, parallelAnalysis: options.parallelAnalysis !== false, maxParallelTasks: options.maxParallelTasks || 10,  // Configuraci√≥n de estad√≠sticas stats: { enabled: options.stats?.enabled !== false, trackAnalysisTime: options.stats?.trackAnalysisTime !== false, trackResolutionTime: options.stats?.trackResolutionTime !== false },  ...options };  // Estado del manager this.isInitialized = false; this.isEnabled = this.config.enabled; this.startTime = null;  // Grafos de dependencias this.dependencyGraph = new Map(); // module -> Set<dependencies> this.reverseDependencyGraph = new Map(); // module -> Set<dependents> this.externalDependencies = new Map(); // module -> Set<external_deps>  // Cache de an√°lisis this.analysisCache = new Map(); // filePath -> AnalysisResult this.resolutionCache = new Map(); // relativePath -> resolvedPath  // Dependencias circulares this.circularDependencies = new Set(); // Set<CircularDependency> this.circularPaths = new Map(); // module -> Set<circular_paths>  // Orden de carga optimizado this.loadOrder = []; this.loadLevels = new Map(); // module -> level  // Estad√≠sticas this.stats = { totalModules: 0, totalDependencies: 0, externalDependencies: 0, circularDependencies: 0, analysisTime: 0, resolutionTime: 0, cacheHits: 0, cacheMisses: 0, lastAnalysisTime: null, startTime: null };  // Patrones de an√°lisis compilados this.importPatterns = [ /import\s+(?:(?:\{[^}]*\}|\*\s+as\s+\w+|\w+)(?:\s*,\s*(?:\{[^}]*\}|\*\s+as\s+\w+|\w+))*\s+from\s+)?['"`]([^'"`]+)['"`]/g, /import\s*\(\s*['"`]([^'"`]+)['"`]\s*\)/g // Dynamic imports ];  this.requirePatterns = [ /require\s*\(\s*['"`]([^'"`]+)['"`]\s*\)/g, /require\.resolve\s*\(\s*['"`]([^'"`]+)['"`]\s*\)/g ];  logger.info('DependencyManager inicializado', { enabled: this.config.enabled, detectCircular: this.config.detectCircular, optimizeOrder: this.config.optimizeOrder }); }  /** Inicializar el manager 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Validar configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Inicializar cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeModule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Analizar dependencias de un m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">readModuleContent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Leer contenido del m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performAnalysis</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Realizar an√°lisis de dependencias</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectModuleType</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Detectar tipo de m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeImports</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Analizar imports ES6</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeRequires</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Analizar requires CommonJS</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeExports</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Analizar exports</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isRelativeImport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Verificar si es import relativo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">resolveModulePath</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Resolver ruta del m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">findModuleFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Encontrar archivo de m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Verificar si es archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Verificar si es directorio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateDependencyGraphs</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Actualizar grafos de dependencias</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectCircularDependencies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Detectar dependencias circulares</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleCircularDependency</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Manejar dependencia circular</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeModules</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Analizar m√∫ltiples m√≥dulos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">chunkArray</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Dividir array en chunks</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateLoadOrder</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Generar orden de carga optimizado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCachedAnalysis</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Obtener an√°lisis del cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cacheAnalysis</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Almacenar an√°lisis en cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanExpiredCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Limpiar cache expirado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Actualizar estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getDependencies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Obtener dependencias de un m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getDependents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Obtener dependientes de un m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getExternalDependencies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Obtener dependencias externas de un m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getDependencyGraph</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Obtener grafo de dependencias</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getReverseDependencyGraph</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Obtener grafo inverso de dependencias</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCircularDependencies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Obtener dependencias circulares</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getLoadOrder</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Obtener orden de carga</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getLoadLevels</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Obtener niveles de carga</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Obtener estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clearCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Limpiar cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clearGraphs</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Limpiar grafos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setEnabled</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Habilitar/deshabilitar manager</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/DependencyManager.js</div>
                <div class="item-description">Destruir el manager</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/FileWatcher.js</div>
                <div class="item-description">FileWatcher - Monitor de Archivos para Hot Reload Monitorea cambios en archivos del sistema para activar el hot reload y la recarga din√°mica de m√≥dulos</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 2.0.0 /  import { createLogger } from '../services/core/core/logger.js'; import { EventEmitter } from 'events'; import { watch, stat, readdir } from 'fs/promises'; import { existsSync, statSync } from 'fs'; import path from 'path';  const logger = createLogger('FILE_WATCHER');  export class FileWatcher extends EventEmitter { constructor(options = {}) { super();  // Configuraci√≥n this.config = { // Configuraci√≥n general enabled: options.enabled !== false, recursive: options.recursive !== false, persistent: options.persistent !== false,  // Configuraci√≥n de debounce debounceDelay: options.debounceDelay || 100, batchDelay: options.batchDelay || 50,  // Patrones de archivos watchPatterns: options.watchPatterns || [ '**/*.js', '**/*.mjs', '**/*.json', '**/*.yaml', '**/*.yml' ],  // Patrones de exclusi√≥n ignorePatterns: options.ignorePatterns || [ '**/node_modules/**', '**/dist/**', '**/build/**', '**/.git/**', '**/logs/**', '**/tmp/**', '**/*.log', '**/*.tmp', '**/.*' ],  // Directorios a monitorear watchDirs: options.watchDirs || ['./src'],  // Configuraci√≥n de eventos events: { change: options.events?.change !== false, add: options.events?.add !== false, unlink: options.events?.unlink !== false, addDir: options.events?.addDir !== false, unlinkDir: options.events?.unlinkDir !== false, rename: options.events?.rename !== false },  // Configuraci√≥n de filtros filters: { minFileSize: options.filters?.minFileSize || 0, maxFileSize: options.filters?.maxFileSize || 10 * 1024 * 1024, // 10MB extensions: options.filters?.extensions || ['.js', '.mjs', '.json', '.yaml', '.yml'] },  // Configuraci√≥n de estad√≠sticas stats: { enabled: options.stats?.enabled !== false, trackChanges: options.stats?.trackChanges !== false, trackPerformance: options.stats?.trackPerformance !== false },  ...options };  // Estado del watcher this.isInitialized = false; this.isWatching = false; this.startTime = null;  // Watchers activos this.watchers = new Map(); // path -> AbortController this.watchedPaths = new Set();  // Cache de archivos this.fileCache = new Map(); // path -> { mtime, size, hash } this.directoryCache = new Map(); // path -> Set<files>  // Debounce y batch this.debounceTimers = new Map(); // path -> timer this.batchedChanges = new Map(); // path -> changes[] this.batchTimer = null;  // Estad√≠sticas this.stats = { totalEvents: 0, changeEvents: 0, addEvents: 0, unlinkEvents: 0, addDirEvents: 0, unlinkDirEvents: 0, renameEvents: 0, filteredEvents: 0, debouncedEvents: 0, batchedEvents: 0, watchedFiles: 0, watchedDirectories: 0, averageEventTime: 0, lastEventTime: null, startTime: null };  // Historial de cambios this.changeHistory = []; this.maxHistorySize = options.maxHistorySize || 1000;  logger.info('FileWatcher inicializado', { enabled: this.config.enabled, watchDirs: this.config.watchDirs, debounceDelay: this.config.debounceDelay }); }  /** Inicializar el watcher 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateWatchDirectories</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/FileWatcher.js</div>
                <div class="item-description">Validar directorios de monitoreo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">buildInitialCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/FileWatcher.js</div>
                <div class="item-description">Construir cache inicial</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scanDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/FileWatcher.js</div>
                <div class="item-description">Escanear directorio recursivamente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addFileToCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/FileWatcher.js</div>
                <div class="item-description">Agregar archivo al cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateFileHash</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/FileWatcher.js</div>
                <div class="item-description">Calcular hash simple del archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/FileWatcher.js</div>
                <div class="item-description">Configurar patrones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">patternToRegex</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/FileWatcher.js</div>
                <div class="item-description">Convertir patr√≥n a regex</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startWatching</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/FileWatcher.js</div>
                <div class="item-description">Iniciar monitoreo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startWatchingDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/FileWatcher.js</div>
                <div class="item-description">Iniciar monitoreo de directorio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleFileEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/FileWatcher.js</div>
                <div class="item-description">Manejar evento de archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">determineEventType</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/FileWatcher.js</div>
                <div class="item-description">Determinar tipo de evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">debounceChange</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/FileWatcher.js</div>
                <div class="item-description">Aplicar debounce a cambio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processBatchedChanges</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/FileWatcher.js</div>
                <div class="item-description">Procesar cambios en batch</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateFileCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/FileWatcher.js</div>
                <div class="item-description">Actualizar cache de archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addToHistory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/FileWatcher.js</div>
                <div class="item-description">Agregar al historial</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldIgnore</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/FileWatcher.js</div>
                <div class="item-description">Verificar si debe ser ignorado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldWatch</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/FileWatcher.js</div>
                <div class="item-description">Verificar si debe ser monitoreado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">passesFilters</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/FileWatcher.js</div>
                <div class="item-description">Verificar filtros</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateEventStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/FileWatcher.js</div>
                <div class="item-description">Actualizar estad√≠sticas de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopWatching</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/FileWatcher.js</div>
                <div class="item-description">Detener monitoreo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addWatchDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/FileWatcher.js</div>
                <div class="item-description">Agregar directorio al monitoreo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">removeWatchDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/FileWatcher.js</div>
                <div class="item-description">Remover directorio del monitoreo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getWatchedFiles</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/FileWatcher.js</div>
                <div class="item-description">Obtener archivos monitoreados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getWatchedDirectories</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/FileWatcher.js</div>
                <div class="item-description">Obtener directorios monitoreados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/FileWatcher.js</div>
                <div class="item-description">Obtener estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getChangeHistory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/FileWatcher.js</div>
                <div class="item-description">Obtener historial de cambios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clearCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/FileWatcher.js</div>
                <div class="item-description">Limpiar cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/FileWatcher.js</div>
                <div class="item-description">Destruir el watcher</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/HotReloadManager.js</div>
                <div class="item-description">HotReloadManager - Gestor de Hot Reload Coordina el sistema de hot reload integrando FileWatcher y ModuleLoader para proporcionar recarga autom√°tica de m√≥dulos cuando cambian los archivos</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 2.0.0 /  import { createLogger } from '../services/core/core/logger.js'; import { EventEmitter } from 'events'; import { FileWatcher } from './FileWatcher.js'; import { ModuleLoader } from './ModuleLoader.js'; import path from 'path';  const logger = createLogger('HOT_RELOAD_MANAGER');  export class HotReloadManager extends EventEmitter { constructor(options = {}) { super();  // Configuraci√≥n this.config = { // Configuraci√≥n general enabled: options.enabled !== false, autoStart: options.autoStart !== false,  // Configuraci√≥n de hot reload reloadDelay: options.reloadDelay || 100, // ms batchReloads: options.batchReloads !== false, batchTimeout: options.batchTimeout || 500, // ms maxRetries: options.maxRetries || 3, retryDelay: options.retryDelay || 1000, // ms  // Configuraci√≥n de dependencias reloadDependents: options.reloadDependents !== false, cascadeReloads: options.cascadeReloads !== false, maxCascadeDepth: options.maxCascadeDepth || 5,  // Configuraci√≥n de filtros includePatterns: options.includePatterns || ['**/*.js', '**/*.mjs', '**/*.json'], excludePatterns: options.excludePatterns || [ '**/node_modules/**', '**/dist/**', '**/build/**', '**/.git/**', '**/coverage/**', '**/*.test.js', '**/*.spec.js' ],  // Configuraci√≥n de eventos events: { debounce: options.events?.debounce || 100, throttle: options.events?.throttle || 50, maxEvents: options.events?.maxEvents || 1000 },  // Configuraci√≥n de hooks hooks: { beforeReload: options.hooks?.beforeReload || [], afterReload: options.hooks?.afterReload || [], onReloadError: options.hooks?.onReloadError || [], onBatchStart: options.hooks?.onBatchStart || [], onBatchEnd: options.hooks?.onBatchEnd || [] },  // Configuraci√≥n de notificaciones notifications: { enabled: options.notifications?.enabled !== false, showSuccess: options.notifications?.showSuccess !== false, showErrors: options.notifications?.showErrors !== false, showWarnings: options.notifications?.showWarnings !== false },  // Configuraci√≥n de estad√≠sticas stats: { enabled: options.stats?.enabled !== false, trackReloadTime: options.stats?.trackReloadTime !== false, trackErrorRate: options.stats?.trackErrorRate !== false },  ...options };  // Estado del manager this.isInitialized = false; this.isRunning = false; this.isEnabled = this.config.enabled; this.startTime = null;  // Componentes this.fileWatcher = null; this.moduleLoader = null;  // Estado de recargas this.pendingReloads = new Map(); // path -> ReloadInfo this.batchTimer = null; this.reloadQueue = []; this.activeReloads = new Set();  // Cache de dependencias this.dependencyCache = new Map(); // path -> Set<dependents> this.lastReloadTimes = new Map(); // path -> timestamp  // Estad√≠sticas this.stats = { totalReloads: 0, successfulReloads: 0, failedReloads: 0, batchReloads: 0, cascadeReloads: 0, averageReloadTime: 0, errorRate: 0, filesWatched: 0, modulesLoaded: 0, dependenciesTracked: 0, startTime: null, lastReloadTime: null };  // Historial de recargas this.reloadHistory = []; this.maxHistorySize = options.maxHistorySize || 1000;  // Timers y intervalos this.timers = new Map();  logger.info('HotReloadManager inicializado', { enabled: this.config.enabled, batchReloads: this.config.batchReloads, reloadDependents: this.config.reloadDependents }); }  /** Inicializar el manager 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventListeners</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/HotReloadManager.js</div>
                <div class="item-description">Configurar event listeners</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/HotReloadManager.js</div>
                <div class="item-description">Iniciar el hot reload</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/HotReloadManager.js</div>
                <div class="item-description">Detener el hot reload</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleFileChange</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/HotReloadManager.js</div>
                <div class="item-description">Manejar cambio de archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleFileAdded</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/HotReloadManager.js</div>
                <div class="item-description">Manejar archivo agregado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleFileDeleted</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/HotReloadManager.js</div>
                <div class="item-description">Manejar archivo eliminado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldReloadFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/HotReloadManager.js</div>
                <div class="item-description">Verificar si un archivo debe ser recargado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scheduleReload</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/HotReloadManager.js</div>
                <div class="item-description">Programar recarga</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scheduleBatchReload</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/HotReloadManager.js</div>
                <div class="item-description">Programar recarga en lote</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeBatchReload</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/HotReloadManager.js</div>
                <div class="item-description">Ejecutar recarga en lote</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">orderReloadsByDependencies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/HotReloadManager.js</div>
                <div class="item-description">Ordenar recargas por dependencias</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeReload</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/HotReloadManager.js</div>
                <div class="item-description">Ejecutar recarga</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleCascadeReloads</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/HotReloadManager.js</div>
                <div class="item-description">Manejar recargas en cascada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleModuleReloaded</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/HotReloadManager.js</div>
                <div class="item-description">Manejar m√≥dulo recargado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleModuleError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/HotReloadManager.js</div>
                <div class="item-description">Manejar error de m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateDependencyCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/HotReloadManager.js</div>
                <div class="item-description">Actualizar cache de dependencias</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateReloadStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/HotReloadManager.js</div>
                <div class="item-description">Actualizar estad√≠sticas de recarga</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addToReloadHistory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/HotReloadManager.js</div>
                <div class="item-description">Agregar al historial de recargas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeHooks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/HotReloadManager.js</div>
                <div class="item-description">Ejecutar hooks</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cancelPendingReloads</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/HotReloadManager.js</div>
                <div class="item-description">Cancelar recargas pendientes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clearTimers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/HotReloadManager.js</div>
                <div class="item-description">Limpiar timers</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">reloadModule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/HotReloadManager.js</div>
                <div class="item-description">Recargar m√≥dulo manualmente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">reloadAllModules</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/HotReloadManager.js</div>
                <div class="item-description">Recargar todos los m√≥dulos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/HotReloadManager.js</div>
                <div class="item-description">Obtener estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getReloadHistory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/HotReloadManager.js</div>
                <div class="item-description">Obtener historial de recargas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPendingReloads</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/HotReloadManager.js</div>
                <div class="item-description">Obtener recargas pendientes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getDependencyCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/HotReloadManager.js</div>
                <div class="item-description">Obtener cache de dependencias</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setEnabled</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/HotReloadManager.js</div>
                <div class="item-description">Habilitar/deshabilitar hot reload</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/HotReloadManager.js</div>
                <div class="item-description">Destruir el manager</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">ModuleLoader - Cargador Din√°mico de M√≥dulos Maneja la carga din√°mica, recarga y gesti√≥n de dependencias de m√≥dulos para el sistema de hot reload</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 2.0.0 /  import { createLogger } from '../services/core/core/logger.js'; import { EventEmitter } from 'events'; import { pathToFileURL } from 'url'; import { existsSync, statSync } from 'fs'; import { readFile } from 'fs/promises'; import path from 'path'; import vm from 'vm';  const logger = createLogger('MODULE_LOADER');  export class ModuleLoader extends EventEmitter { constructor(options = {}) { super();  // Configuraci√≥n this.config = { // Configuraci√≥n general enabled: options.enabled !== false, autoReload: options.autoReload !== false, validateModules: options.validateModules !== false,  // Configuraci√≥n de cache useCache: options.useCache !== false, cacheTimeout: options.cacheTimeout || 300000, // 5 minutos maxCacheSize: options.maxCacheSize || 1000,  // Configuraci√≥n de dependencias trackDependencies: options.trackDependencies !== false, resolveDependencies: options.resolveDependencies !== false, circularDependencyCheck: options.circularDependencyCheck !== false,  // Configuraci√≥n de transformaci√≥n enableTransforms: options.enableTransforms !== false, transforms: options.transforms || [],  // Configuraci√≥n de sandboxing useSandbox: options.useSandbox || false, sandboxTimeout: options.sandboxTimeout || 5000, sandboxMemoryLimit: options.sandboxMemoryLimit || 128 * 1024 * 1024, // 128MB  // Configuraci√≥n de resoluci√≥n baseDir: options.baseDir || process.cwd(), modulePaths: options.modulePaths || ['./src', './lib', './modules'], extensions: options.extensions || ['.js', '.mjs', '.json'],  // Configuraci√≥n de hooks hooks: { beforeLoad: options.hooks?.beforeLoad || [], afterLoad: options.hooks?.afterLoad || [], beforeUnload: options.hooks?.beforeUnload || [], afterUnload: options.hooks?.afterUnload || [], onError: options.hooks?.onError || [] },  // Configuraci√≥n de estad√≠sticas stats: { enabled: options.stats?.enabled !== false, trackLoadTime: options.stats?.trackLoadTime !== false, trackMemoryUsage: options.stats?.trackMemoryUsage !== false },  ...options };  // Estado del loader this.isInitialized = false; this.isEnabled = this.config.enabled; this.startTime = null;  // Cache de m√≥dulos this.moduleCache = new Map(); // path -> ModuleInfo this.dependencyGraph = new Map(); // path -> Set<dependencies> this.reverseDependencyGraph = new Map(); // path -> Set<dependents>  // Transformadores this.transformers = new Map(); // extension -> transformer  // Contexto de sandbox this.sandboxContext = null;  // Estad√≠sticas this.stats = { totalLoads: 0, totalUnloads: 0, totalReloads: 0, cacheHits: 0, cacheMisses: 0, loadErrors: 0, averageLoadTime: 0, memoryUsage: 0, modulesLoaded: 0, dependenciesTracked: 0, circularDependencies: 0, transformsApplied: 0, startTime: null };  // Historial de cargas this.loadHistory = []; this.maxHistorySize = options.maxHistorySize || 1000;  logger.info('ModuleLoader inicializado', { enabled: this.config.enabled, useCache: this.config.useCache, trackDependencies: this.config.trackDependencies }); }  /** Inicializar el loader 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupDefaultTransformers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Configurar transformadores por defecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupSandbox</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Configurar sandbox</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createSandboxRequire</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Crear funci√≥n require para sandbox</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateModulePaths</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Validar rutas de m√≥dulos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadModule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Cargar m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">resolveModulePath</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Resolver ruta del m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">findModuleFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Encontrar archivo de m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadModuleContent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Cargar contenido del m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">applyTransforms</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Aplicar transformaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">trackModuleDependencies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Rastrear dependencias del m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkCircularDependencies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Verificar dependencias circulares</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeModule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Ejecutar m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeInSandbox</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Ejecutar en sandbox</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeNatively</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Ejecutar nativamente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateModuleHash</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Calcular hash del m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCachedModule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Obtener m√≥dulo del cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cacheModule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Almacenar m√≥dulo en cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">reloadModule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Recargar m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">reloadDependents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Recargar dependientes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unloadModule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Descargar m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeHooks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Ejecutar hooks</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateLoadStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Actualizar estad√≠sticas de carga</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addToLoadHistory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Agregar al historial de cargas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerTransformer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Registrar transformador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unregisterTransformer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Desregistrar transformador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getLoadedModules</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Obtener m√≥dulos cargados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getModuleInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Obtener informaci√≥n de m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getDependencyGraph</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Obtener grafo de dependencias</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Obtener estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getLoadHistory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Obtener historial de cargas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clearCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Limpiar cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setEnabled</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Habilitar/deshabilitar loader</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/ModuleLoader.js</div>
                <div class="item-description">Destruir el loader</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/index.js</div>
                <div class="item-description">Hot Reload System - Exportaciones Centralizadas Sistema completo de hot reload que incluye: - FileWatcher: Monitoreo de cambios en archivos - ModuleLoader: Carga din√°mica de m√≥dulos - HotReloadManager: Coordinaci√≥n del sistema de hot reload - DependencyManager: Gesti√≥n de dependencias entre m√≥dulos</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 2.0.0 /  import { createLogger } from '../services/core/core/logger.js';  // Componentes principales export { FileWatcher } from './FileWatcher.js'; export { ModuleLoader } from './ModuleLoader.js'; export { HotReloadManager } from './HotReloadManager.js'; export { DependencyManager } from './DependencyManager.js';  const logger = createLogger('HOT_RELOAD_SYSTEM');  /** Configuraci√≥n por defecto del sistema de hot reload / export const DEFAULT_HOT_RELOAD_CONFIG = { // Configuraci√≥n general enabled: true, autoStart: true,  // Configuraci√≥n de FileWatcher fileWatcher: { recursive: true, persistent: true, debounce: 100, patterns: ['**/*.js', '**/*.mjs', '**/*.json'], ignored: [ '**/node_modules/**', '**/dist/**', '**/build/**', '**/.git/**', '**/coverage/**', '**/*.test.js', '**/*.spec.js' ] },  // Configuraci√≥n de ModuleLoader moduleLoader: { useCache: true, trackDependencies: true, validateModules: true, enableTransforms: true, useSandbox: false },  // Configuraci√≥n de HotReloadManager hotReloadManager: { reloadDelay: 100, batchReloads: true, batchTimeout: 500, reloadDependents: true, cascadeReloads: true, maxRetries: 3 },  // Configuraci√≥n de DependencyManager dependencyManager: { detectCircular: true, optimizeOrder: true, parallelAnalysis: true, circularStrategy: 'warn' } };  /** Funciones de f√°brica para crear instancias de los componentes /  /** Crear FileWatcher / export function createFileWatcher(options = {}) { const config = { ...DEFAULT_HOT_RELOAD_CONFIG.fileWatcher, ...options };  logger.debug('Creando FileWatcher con configuraci√≥n:', config);  return new FileWatcher(config); }  /** Crear ModuleLoader / export function createModuleLoader(options = {}) { const config = { ...DEFAULT_HOT_RELOAD_CONFIG.moduleLoader, ...options };  logger.debug('Creando ModuleLoader con configuraci√≥n:', config);  return new ModuleLoader(config); }  /** Crear HotReloadManager / export function createHotReloadManager(options = {}) { const config = { ...DEFAULT_HOT_RELOAD_CONFIG.hotReloadManager, ...options };  logger.debug('Creando HotReloadManager con configuraci√≥n:', config);  return new HotReloadManager(config); }  /** Crear DependencyManager / export function createDependencyManager(options = {}) { const config = { ...DEFAULT_HOT_RELOAD_CONFIG.dependencyManager, ...options };  logger.debug('Creando DependencyManager con configuraci√≥n:', config);  return new DependencyManager(config); }  /** Crear sistema completo de hot reload / export async function createHotReloadSystem(options = {}) { const config = { ...DEFAULT_HOT_RELOAD_CONFIG, ...options };  logger.info('Creando sistema completo de hot reload...');  try { // Crear componentes const fileWatcher = createFileWatcher(config.fileWatcher); const moduleLoader = createModuleLoader(config.moduleLoader); const dependencyManager = createDependencyManager(config.dependencyManager); const hotReloadManager = createHotReloadManager(config.hotReloadManager);  // Inicializar HotReloadManager con los componentes await hotReloadManager.initialize(config.fileWatcher, config.moduleLoader);  // Inicializar DependencyManager await dependencyManager.initialize();  const system = { fileWatcher, moduleLoader, dependencyManager, hotReloadManager,  // M√©todos de conveniencia async start() { logger.info('Iniciando sistema de hot reload...'); await hotReloadManager.start(); logger.info('Sistema de hot reload iniciado'); },  async stop() { logger.info('Deteniendo sistema de hot reload...'); await hotReloadManager.stop(); logger.info('Sistema de hot reload detenido'); },  async restart() { logger.info('Reiniciando sistema de hot reload...'); await this.stop(); await this.start(); logger.info('Sistema de hot reload reiniciado'); },  getStats() { return { fileWatcher: fileWatcher.getStats(), moduleLoader: moduleLoader.getStats(), dependencyManager: dependencyManager.getStats(), hotReloadManager: hotReloadManager.getStats() }; },  async destroy() { logger.info('Destruyendo sistema de hot reload...');  await hotReloadManager.destroy(); await dependencyManager.destroy();  logger.info('Sistema de hot reload destruido'); } };  // Auto-iniciar si est√° configurado if (config.autoStart) { await system.start(); }  logger.info('Sistema de hot reload creado exitosamente');  return system;  } catch (error) { logger.error('Error creando sistema de hot reload:', error); throw error; } }  /** Utilidades del sistema de hot reload / export const HotReloadUtils = { /** Validar configuraci√≥n de hot reload 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createDevConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/index.js</div>
                <div class="item-description">Crear configuraci√≥n optimizada para desarrollo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createProdConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/index.js</div>
                <div class="item-description">Crear configuraci√≥n optimizada para producci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSystemInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/index.js</div>
                <div class="item-description">Obtener informaci√≥n del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">formatStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/hotreload/index.js</div>
                <div class="item-description">Formatear estad√≠sticas para visualizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInitializer.js</div>
                <div class="item-description">Cache System Initializer Inicializador del sistema de cache distribuido Coordina la inicializaci√≥n de todos los componentes de cache / import distributedCacheManager from './DistributedCacheManager.js'; import cacheMonitoring from './CacheMonitoring.js'; import cacheInvalidation from './CacheInvalidation.js'; import cacheConfig from '../config/cache/CacheConfig.js'; import { CacheStrategies } from './CacheStrategies.js'; import logger from '../core/core/logger.js'; class CacheInitializer { constructor() { this.isInitialized = false; this.components = { manager: false, monitoring: false, invalidation: false, strategies: false }; this.initializationPromise = null; } /** Inicializar sistema completo de cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_performInitialization</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInitializer.js</div>
                <div class="item-description">Realizar inicializaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateConfiguration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInitializer.js</div>
                <div class="item-description">Validar configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeCacheManager</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInitializer.js</div>
                <div class="item-description">Inicializar cache manager</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeCacheStrategies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInitializer.js</div>
                <div class="item-description">Inicializar estrategias de cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeCacheInvalidation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInitializer.js</div>
                <div class="item-description">Inicializar sistema de invalidaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeCacheMonitoring</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInitializer.js</div>
                <div class="item-description">Inicializar monitoreo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupInvalidationPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInitializer.js</div>
                <div class="item-description">Configurar patrones de invalidaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupCacheDependencies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInitializer.js</div>
                <div class="item-description">Configurar dependencias de cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performInitialHealthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInitializer.js</div>
                <div class="item-description">Realizar health check inicial</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performBasicOperationTest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInitializer.js</div>
                <div class="item-description">Realizar test b√°sico de operaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">emitInitializationComplete</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInitializer.js</div>
                <div class="item-description">Emitir evento de inicializaci√≥n completada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isSystemInitialized</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInitializer.js</div>
                <div class="item-description">Verificar si est√° inicializado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getComponentsStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInitializer.js</div>
                <div class="item-description">Obtener estado de componentes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">reinitialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInitializer.js</div>
                <div class="item-description">Reinicializar sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInitializer.js</div>
                <div class="item-description">Limpiar recursos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSystemMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInitializer.js</div>
                <div class="item-description">Obtener m√©tricas del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventListeners</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Cache Invalidation System Sistema de invalidaci√≥n inteligente de cache Incluye patrones, dependencias y estrategias autom√°ticas / import { EventEmitter } from 'events'; import distributedCacheManager from './DistributedCacheManager.js'; import logger from '../core/core/logger.js'; /** Tipos de invalidaci√≥n / const INVALIDATION_TYPES = { MANUAL: 'manual', AUTOMATIC: 'automatic', DEPENDENCY: 'dependency', PATTERN: 'pattern', TIME_BASED: 'time_based', EVENT_BASED: 'event_based' }; /** Estrategias de invalidaci√≥n / const INVALIDATION_STRATEGIES = { IMMEDIATE: 'immediate', LAZY: 'lazy', BATCH: 'batch', SCHEDULED: 'scheduled', CASCADING: 'cascading' }; class CacheInvalidation extends EventEmitter { constructor(options = {}) { super(); this.options = { batchSize: 100, batchInterval: 5000, // 5 segundos maxRetries: 3, retryDelay: 1000, enableMetrics: true, enableLogging: true, ...options }; // Registro de dependencias this.dependencies = new Map(); // Cola de invalidaciones pendientes this.invalidationQueue = []; // Patrones de invalidaci√≥n this.patterns = new Map(); // M√©tricas this.metrics = { totalInvalidations: 0, successfulInvalidations: 0, failedInvalidations: 0, batchInvalidations: 0, patternInvalidations: 0, dependencyInvalidations: 0 }; // Timers para procesamiento batch this.batchTimer = null; this.isProcessing = false; this.setupEventListeners(); } /** Configurar listeners de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerDependency</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Registrar dependencia entre claves de cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerPattern</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Registrar patr√≥n de invalidaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">invalidate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Invalidar clave espec√≠fica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">invalidateMultiple</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Invalidar m√∫ltiples claves</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">invalidateByPattern</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Invalidar por patr√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">invalidateByDependency</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Invalidar por dependencias</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processInvalidation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Procesar invalidaci√≥n individual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeImmediate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Ejecutar invalidaci√≥n inmediata</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeLazy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Ejecutar invalidaci√≥n lazy (marcar como expirado)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeScheduled</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Ejecutar invalidaci√≥n programada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeCascading</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Ejecutar invalidaci√≥n en cascada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addToBatch</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Agregar a lote de procesamiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processBatch</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Procesar lote de invalidaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleDataChange</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Manejar cambio de datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleUserAction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Manejar acci√≥n de usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleSystemEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Manejar evento del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleDeployment</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Manejar despliegue</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleMaintenance</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Manejar mantenimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleConfigurationChange</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Manejar cambio de configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">applyPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Aplicar patrones registrados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">findKeysByPattern</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Encontrar claves por patr√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processResults</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Procesar resultados de invalidaciones m√∫ltiples</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Obtener m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clearQueue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Limpiar cola de invalidaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Generar ID √∫nico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">delay</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Delay helper</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">log</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Log helper</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Destructor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheMonitoring.js</div>
                <div class="item-description">Cache Monitoring System Sistema de monitoreo y m√©tricas para cache distribuido Incluye alertas, dashboards y an√°lisis de rendimiento / import { EventEmitter } from 'events'; import os from 'os'; import distributedCacheManager from './DistributedCacheManager.js'; import logger from '../core/core/logger.js'; class CacheMonitoring extends EventEmitter { constructor(options = {}) { super(); this.options = { metricsInterval: 30000, // 30 segundos alertThresholds: { hitRateMin: 0.8, // 80% errorRateMax: 0.05, // 5% responseTimeMax: 100, // 100ms memoryUsageMax: 0.85, // 85% connectionCountMax: 100 }, enableAlerts: true, enableDashboard: true, retentionPeriod: 86400000, // 24 horas ...options }; this.metrics = { current: this.initializeMetrics(), history: [], alerts: [], performance: { hitRate: [], responseTime: [], errorRate: [], throughput: [] } }; this.isMonitoring = false; this.monitoringInterval = null; this.alertCooldowns = new Map(); } /** Inicializar m√©tricas base</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startMonitoring</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheMonitoring.js</div>
                <div class="item-description">Iniciar monitoreo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopMonitoring</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheMonitoring.js</div>
                <div class="item-description">Detener monitoreo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventListeners</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheMonitoring.js</div>
                <div class="item-description">Configurar listeners de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">collectMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheMonitoring.js</div>
                <div class="item-description">Recolectar m√©tricas peri√≥dicamente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">collectRedisMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheMonitoring.js</div>
                <div class="item-description">Recolectar m√©tricas de Redis</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRedisInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheMonitoring.js</div>
                <div class="item-description">Obtener informaci√≥n de Redis</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">parseRedisMemory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheMonitoring.js</div>
                <div class="item-description">Parsear memoria de Redis</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">collectSystemMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheMonitoring.js</div>
                <div class="item-description">Recolectar m√©tricas del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCPUUsage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheMonitoring.js</div>
                <div class="item-description">Obtener uso de CPU</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculatePerformanceMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheMonitoring.js</div>
                <div class="item-description">Calcular m√©tricas de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateAverage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheMonitoring.js</div>
                <div class="item-description">Calcular promedio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculatePercentile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheMonitoring.js</div>
                <div class="item-description">Calcular percentil</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateThroughput</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheMonitoring.js</div>
                <div class="item-description">Calcular throughput</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateOpsPerSecond</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheMonitoring.js</div>
                <div class="item-description">Calcular operaciones por segundo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addToHistory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheMonitoring.js</div>
                <div class="item-description">Agregar m√©tricas al historial</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateCacheMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheMonitoring.js</div>
                <div class="item-description">Actualizar m√©tricas de cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateHTTPMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheMonitoring.js</div>
                <div class="item-description">Actualizar m√©tricas HTTP</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleCacheError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheMonitoring.js</div>
                <div class="item-description">Manejar errores de cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkAlerts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheMonitoring.js</div>
                <div class="item-description">Verificar alertas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheMonitoring.js</div>
                <div class="item-description">Procesar alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheMonitoring.js</div>
                <div class="item-description">Agregar alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendAlertNotification</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheMonitoring.js</div>
                <div class="item-description">Enviar notificaci√≥n de alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCurrentMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheMonitoring.js</div>
                <div class="item-description">Obtener m√©tricas actuales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMetricsHistory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheMonitoring.js</div>
                <div class="item-description">Obtener historial de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRecentAlerts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheMonitoring.js</div>
                <div class="item-description">Obtener alertas recientes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generatePerformanceReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheMonitoring.js</div>
                <div class="item-description">Generar reporte de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateRecommendations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheMonitoring.js</div>
                <div class="item-description">Generar recomendaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">healthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheMonitoring.js</div>
                <div class="item-description">Health check del sistema de monitoreo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getUserSession</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Cache Strategies Estrategias especializadas de cache para diferentes tipos de datos Optimizaciones espec√≠ficas por caso de uso / import distributedCacheManager from './DistributedCacheManager.js'; import logger from '../core/core/logger.js'; /** Estrategia base para cache / class BaseCacheStrategy { constructor(cacheType, options = {}) { this.cacheType = cacheType; this.options = { ttl: 3600, enableMetrics: true, enableWarmup: false, ...options }; this.cacheManager = distributedCacheManager; } async get(key) { return await this.cacheManager.get(this.cacheType, key); } async set(key, value, ttl = null) { return await this.cacheManager.set(this.cacheType, key, value, ttl || this.options.ttl); } async del(key) { return await this.cacheManager.del(this.cacheType, key); } async remember(key, fallbackFn, ttl = null) { return await this.cacheManager.remember(this.cacheType, key, fallbackFn, ttl || this.options.ttl); } } /** Estrategia para cache de sesiones de usuario / class SessionCacheStrategy extends BaseCacheStrategy { constructor() { super('session', { ttl: 86400, // 24 horas enableWarmup: false }); } /** Obtener sesi√≥n de usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setUserSession</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Establecer sesi√≥n de usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateLastAccess</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Actualizar √∫ltimo acceso</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">invalidateUserSession</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Invalidar sesi√≥n de usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getActiveSessions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Obtener sesiones activas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getConversation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Estrategia para cache de conversaciones / class ConversationCacheStrategy extends BaseCacheStrategy { constructor() { super('conversation', { ttl: 7200, // 2 horas enableWarmup: true }); } /** Obtener conversaci√≥n completa</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setConversation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Establecer conversaci√≥n completa</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRecentMessages</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Cache de mensajes recientes (√∫ltimos 50)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getConversationContext</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Cache de contexto de conversaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">invalidateConversation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Invalidar toda la conversaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">warmupActiveConversations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Precarga de conversaciones activas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getUserProfile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Estrategia para cache de usuarios / class UserCacheStrategy extends BaseCacheStrategy { constructor() { super('user', { ttl: 3600, // 1 hora enableWarmup: true }); } /** Obtener perfil de usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setUserProfile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Establecer perfil de usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getUserPreferences</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Cache de preferencias de usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getUserContacts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Cache de contactos del usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">invalidateUser</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Invalidar todos los datos del usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getTemplate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Estrategia para cache de templates / class TemplateCacheStrategy extends BaseCacheStrategy { constructor() { super('template', { ttl: 86400, // 24 horas enableWarmup: true }); } /** Obtener template por ID</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setTemplate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Establecer template</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getTemplatesByCategory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Cache de templates por categor√≠a</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPopularTemplates</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Cache de templates populares</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">warmupEssentialTemplates</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Precarga de templates esenciales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cacheAPIResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Estrategia para cache de API responses / class APICacheStrategy extends BaseCacheStrategy { constructor() { super('api', { ttl: 300, // 5 minutos enableWarmup: false }); } /** Cache de respuesta de API con headers</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCachedAPIResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Obtener respuesta de API cacheada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateAPIKey</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Generar clave de cache para API</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">invalidateEndpoint</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Invalidar cache de endpoint espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getDailyMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Estrategia para cache de analytics / class AnalyticsCacheStrategy extends BaseCacheStrategy { constructor() { super('analytics', { ttl: 3600, // 1 hora enableWarmup: false }); } /** Cache de m√©tricas diarias</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRealTimeMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Cache de m√©tricas en tiempo real</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAggregatedReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Cache de reportes agregados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getReportTTL</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheStrategies.js</div>
                <div class="item-description">Determinar TTL basado en el per√≠odo del reporte</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/DistributedCacheManager.js</div>
                <div class="item-description">Distributed Cache Manager Sistema avanzado de cache distribuido con Redis Incluye clustering, estrategias m√∫ltiples y optimizaciones de rendimiento / import Redis from 'ioredis'; import { EventEmitter } from 'events'; import logger from '../core/core/logger.js'; import { redisInstances, monitoringConfig } from '../../config/environments/redis.js'; class DistributedCacheManager extends EventEmitter { constructor(options = {}) { super(); this.options = { enableCluster: process.env.REDIS_CLUSTER_ENABLED === 'true', enableCompression: true, enableMetrics: true, enablePipeline: true, maxRetries: 3, retryDelay: 100, ...options }; // Instancias Redis especializadas this.clients = {}; this.isInitialized = false; this.metrics = { hits: 0, misses: 0, sets: 0, deletes: 0, errors: 0, totalOperations: 0 }; // Configuraciones de cache por tipo this.cacheConfigs = { session: { ttl: 86400, // 24 horas keyPrefix: 'session:', compression: false, strategy: 'lru' }, user: { ttl: 3600, // 1 hora keyPrefix: 'user:', compression: true, strategy: 'lru' }, conversation: { ttl: 7200, // 2 horas keyPrefix: 'conv:', compression: true, strategy: 'lfu' }, template: { ttl: 86400, // 24 horas keyPrefix: 'tmpl:', compression: true, strategy: 'ttl' }, api: { ttl: 300, // 5 minutos keyPrefix: 'api:', compression: false, strategy: 'lru' }, analytics: { ttl: 3600, // 1 hora keyPrefix: 'analytics:', compression: true, strategy: 'lfu' } }; // Pipeline para operaciones batch this.pipeline = null; this.pipelineOperations = []; this.pipelineTimeout = null; } /** Inicializar el gestor de cache distribuido</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeCluster</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/DistributedCacheManager.js</div>
                <div class="item-description">Inicializar cluster Redis</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeSingleInstance</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/DistributedCacheManager.js</div>
                <div class="item-description">Inicializar instancia √∫nica Redis</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupClusterEventHandlers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/DistributedCacheManager.js</div>
                <div class="item-description">Configurar event handlers para cluster</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventHandlers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/DistributedCacheManager.js</div>
                <div class="item-description">Configurar event handlers para instancia √∫nica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getClient</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/DistributedCacheManager.js</div>
                <div class="item-description">Obtener cliente Redis apropiado para el tipo de cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateKey</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/DistributedCacheManager.js</div>
                <div class="item-description">Generar clave de cache con prefijo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">compressData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/DistributedCacheManager.js</div>
                <div class="item-description">Comprimir datos si est√° habilitado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">decompressData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/DistributedCacheManager.js</div>
                <div class="item-description">Descomprimir datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">get</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/DistributedCacheManager.js</div>
                <div class="item-description">Obtener valor del cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">set</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/DistributedCacheManager.js</div>
                <div class="item-description">Establecer valor en cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">del</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/DistributedCacheManager.js</div>
                <div class="item-description">Eliminar valor del cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">mget</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/DistributedCacheManager.js</div>
                <div class="item-description">Operaciones batch con pipeline</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">mset</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/DistributedCacheManager.js</div>
                <div class="item-description">Establecer m√∫ltiples valores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">invalidatePattern</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/DistributedCacheManager.js</div>
                <div class="item-description">Invalidar cache por patr√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">remember</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/DistributedCacheManager.js</div>
                <div class="item-description">Funci√≥n remember - obtener o establecer</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">incr</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/DistributedCacheManager.js</div>
                <div class="item-description">Incrementar contador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/DistributedCacheManager.js</div>
                <div class="item-description">Obtener m√©tricas del cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startMetricsCollection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/DistributedCacheManager.js</div>
                <div class="item-description">Iniciar recolecci√≥n de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">flush</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/DistributedCacheManager.js</div>
                <div class="item-description">Limpiar cache por tipo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">close</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/DistributedCacheManager.js</div>
                <div class="item-description">Cerrar todas las conexiones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">healthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/DistributedCacheManager.js</div>
                <div class="item-description">Health check</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/cache/CacheManager.js</div>
                <div class="item-description">CacheManager - Sistema de gesti√≥n de cach√© para el chatbot Proporciona funcionalidades de almacenamiento temporal para mejorar el rendimiento / import { EventEmitter } from 'events'; class CacheManager extends EventEmitter { constructor(options = {}) { super(); this.caches = new Map(); this.defaultTTL = options.defaultTTL || 300000; // 5 minutos por defecto this.maxSize = options.maxSize || 1000; this.cleanupInterval = options.cleanupInterval || 60000; // 1 minuto this.stats = { hits: 0, misses: 0, sets: 0, deletes: 0, evictions: 0 }; this.startCleanupTimer(); } /** Crea o obtiene una instancia de cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deleteCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/cache/CacheManager.js</div>
                <div class="item-description">Elimina una cach√© espec√≠fica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clearAll</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/cache/CacheManager.js</div>
                <div class="item-description">Limpia todas las cach√©s</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/cache/CacheManager.js</div>
                <div class="item-description">Obtiene estad√≠sticas globales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startCleanupTimer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/cache/CacheManager.js</div>
                <div class="item-description">Inicia el timer de limpieza autom√°tica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopCleanupTimer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/cache/CacheManager.js</div>
                <div class="item-description">Detiene el timer de limpieza</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/cache/CacheManager.js</div>
                <div class="item-description">Ejecuta limpieza de elementos expirados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/cache/CacheManager.js</div>
                <div class="item-description">Actualiza estad√≠sticas globales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">get</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/cache/CacheManager.js</div>
                <div class="item-description">Obtiene un valor del cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">set</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/cache/CacheManager.js</div>
                <div class="item-description">Establece un valor en el cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">delete</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/cache/CacheManager.js</div>
                <div class="item-description">Elimina un valor del cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isExpired</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/cache/CacheManager.js</div>
                <div class="item-description">Verifica si un elemento ha expirado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evictLRU</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/cache/CacheManager.js</div>
                <div class="item-description">Elimina el elemento menos recientemente usado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/cache/CacheManager.js</div>
                <div class="item-description">Limpia elementos expirados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clear</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/cache/CacheManager.js</div>
                <div class="item-description">Limpia toda la cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/cache/CacheManager.js</div>
                <div class="item-description">Obtiene estad√≠sticas de la cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">has</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/cache/CacheManager.js</div>
                <div class="item-description">Verifica si existe una clave</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">keys</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/cache/CacheManager.js</div>
                <div class="item-description">Obtiene todas las claves v√°lidas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/database/PrismaService.js</div>
                <div class="item-description">===================================================== ChatBot Enterprise - Prisma Service ===================================================== Servicio principal para gestionar la conexi√≥n y operaciones con la base de datos PostgreSQL usando Prisma ORM. / import { PrismaClient } from '@prisma/client'; class PrismaService { constructor() { this.prisma = null; this.isConnected = false; this.connectionRetries = 0; this.maxRetries = 5; this.retryDelay = 1000; // 1 segundo } /** Inicializar conexi√≥n con Prisma</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">connect</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/database/PrismaService.js</div>
                <div class="item-description">Conectar a la base de datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">disconnect</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/database/PrismaService.js</div>
                <div class="item-description">Desconectar de la base de datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getClient</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/database/PrismaService.js</div>
                <div class="item-description">Obtener instancia de Prisma</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">healthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/database/PrismaService.js</div>
                <div class="item-description">Verificar estado de conexi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">transaction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/database/PrismaService.js</div>
                <div class="item-description">Ejecutar transacci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeRaw</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/database/PrismaService.js</div>
                <div class="item-description">Ejecutar query raw</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/database/PrismaService.js</div>
                <div class="item-description">Obtener estad√≠sticas de la base de datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clearCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/database/PrismaService.js</div>
                <div class="item-description">Limpiar cache de Prisma</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupMiddleware</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/database/PrismaService.js</div>
                <div class="item-description">Middleware para logging autom√°tico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPrismaService</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/database/PrismaService.js</div>
                <div class="item-description">Obtener instancia singleton del servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializePrisma</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/database/PrismaService.js</div>
                <div class="item-description">Inicializar servicio (helper function)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldSkipCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/middleware/AdvancedCacheMiddleware.js</div>
                <div class="item-description">Advanced Cache Middleware Middleware de cache HTTP avanzado con m√∫ltiples estrategias, invalidaci√≥n inteligente y optimizaciones de rendimiento / import distributedCacheManager from '../services/cache/DistributedCacheManager.js'; import cacheMonitoring from '../services/cache/CacheMonitoring.js'; import cacheInvalidation from '../services/cache/CacheInvalidation.js'; import cacheConfig from '../config/cache/CacheConfig.js'; import logger from '../services/core/core/logger.js'; import crypto from 'crypto'; /** Perfiles de cache predefinidos / const CACHE_PROFILES = { static: { ttl: 86400, // 24 horas staleWhileRevalidate: 3600, // 1 hora tags: ['static'], compression: true, headers: { 'Cache-Control': 'public, max-age=86400', 'Vary': 'Accept-Encoding' } }, dynamic: { ttl: 300, // 5 minutos staleWhileRevalidate: 60, // 1 minuto tags: ['dynamic'], compression: true, headers: { 'Cache-Control': 'public, max-age=300', 'Vary': 'Accept-Encoding, Authorization' } }, public: { ttl: 1800, // 30 minutos staleWhileRevalidate: 300, // 5 minutos tags: ['public'], compression: true, headers: { 'Cache-Control': 'public, max-age=1800', 'Vary': 'Accept-Encoding' } }, user: { ttl: 900, // 15 minutos staleWhileRevalidate: 180, // 3 minutos tags: ['user'], compression: true, private: true, headers: { 'Cache-Control': 'private, max-age=900', 'Vary': 'Authorization' } }, realtime: { ttl: 30, // 30 segundos staleWhileRevalidate: 10, // 10 segundos tags: ['realtime'], compression: false, headers: { 'Cache-Control': 'public, max-age=30', 'Vary': 'Accept-Encoding' } } }; /** Middleware principal de cache avanzado / export const advancedCacheMiddleware = (options = {}) => { const config = { profile: 'dynamic', keyGenerator: null, skipCache: false, enableMetrics: true, enableDebug: process.env.NODE_ENV === 'development', varyBy: [], compression: true, enableETag: true, enableInvalidation: true, staleWhileRevalidate: 60, tags: [], condition: null, allowAuth: false, private: false, dependencies: null, ...options }; // Obtener configuraci√≥n del perfil const profile = CACHE_PROFILES[config.profile] || CACHE_PROFILES.dynamic; const finalConfig = { ...profile, ...config }; return async (req, res, next) => { const startTime = Date.now(); middlewareMetrics.requests++; // Verificar si debe saltar el cache if (shouldSkipCache(req, finalConfig)) { return next(); } try { const cacheKey = generateCacheKey(req, finalConfig); // Intentar obtener del cache const cachedResponse = await getCachedResponse(cacheKey, finalConfig); if (cachedResponse) { middlewareMetrics.hits++; const responseTime = Date.now() - startTime; middlewareMetrics.totalResponseTime += responseTime; if (finalConfig.enableMetrics) { recordHTTPMetrics('hit', responseTime, cacheKey, req); } return handleCacheHit(res, cachedResponse, cacheKey, startTime, finalConfig); } // Cache miss - interceptar respuesta middlewareMetrics.misses++; const responseTime = Date.now() - startTime; middlewareMetrics.totalResponseTime += responseTime; if (finalConfig.enableMetrics) { recordHTTPMetrics('miss', responseTime, cacheKey, req); } return handleCacheMiss(req, res, next, cacheKey, startTime, finalConfig); } catch (error) { logger.error('Error en advanced cache middleware:', error); middlewareMetrics.errors++; if (finalConfig.enableMetrics) { recordHTTPMetrics('error', Date.now() - startTime, null, req, error); } return next(); // Continuar sin cache en caso de error } }; }; /** M√©tricas del middleware / let middlewareMetrics = { requests: 0, hits: 0, misses: 0, errors: 0, totalResponseTime: 0, compressionSavings: 0 }; /** Determinar si debe saltar el cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateCacheKey</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/middleware/AdvancedCacheMiddleware.js</div>
                <div class="item-description">Generar clave de cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCachedResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/middleware/AdvancedCacheMiddleware.js</div>
                <div class="item-description">Obtener respuesta cacheada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isValidCachedResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/middleware/AdvancedCacheMiddleware.js</div>
                <div class="item-description">Validar respuesta cacheada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleCacheHit</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/middleware/AdvancedCacheMiddleware.js</div>
                <div class="item-description">Manejar cache hit</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleCacheMiss</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/middleware/AdvancedCacheMiddleware.js</div>
                <div class="item-description">Manejar cache miss</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cacheResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/middleware/AdvancedCacheMiddleware.js</div>
                <div class="item-description">Cachear respuesta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractCacheableHeaders</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/middleware/AdvancedCacheMiddleware.js</div>
                <div class="item-description">Extraer headers cacheables</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateETag</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/middleware/AdvancedCacheMiddleware.js</div>
                <div class="item-description">Generar ETag para los datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performCacheInvalidation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/middleware/AdvancedCacheMiddleware.js</div>
                <div class="item-description">Middleware para invalidaci√≥n de cache / export const cacheInvalidationMiddleware = (options = {}) => { const config = { patterns: [], methods: ['POST', 'PUT', 'DELETE', 'PATCH'], ...options }; return async (req, res, next) => { // Solo procesar m√©todos que modifican datos if (!config.methods.includes(req.method)) { return next(); } // Interceptar respuesta exitosa para invalidar cache const originalJson = res.json; const originalSend = res.send; const invalidateCache = async () => { if (res.statusCode >= 200 && res.statusCode < 300) { await performCacheInvalidation(req, config); } }; res.json = function(data) { invalidateCache(); return originalJson.call(this, data); }; res.send = function(data) { invalidateCache(); return originalSend.call(this, data); }; next(); }; }; /** Realizar invalidaci√≥n de cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateInvalidationPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/middleware/AdvancedCacheMiddleware.js</div>
                <div class="item-description">Generar patrones de invalidaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performCacheWarming</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/middleware/AdvancedCacheMiddleware.js</div>
                <div class="item-description">Middleware para warming de cache / export const cacheWarmingMiddleware = (warmupConfig = {}) => { const config = { enabled: process.env.CACHE_WARMING_ENABLED === 'true', routes: [], interval: 300000, // 5 minutos ...warmupConfig }; if (!config.enabled) { return (req, res, next) => next(); } // Iniciar warming peri√≥dico setInterval(async () => { await performCacheWarming(config); }, config.interval); return (req, res, next) => next(); }; /** Realizar warming de cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordHTTPMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/middleware/AdvancedCacheMiddleware.js</div>
                <div class="item-description">Middleware para m√©tricas de cache / export const cacheMetricsMiddleware = () => { return (req, res, next) => { const startTime = Date.now(); // Interceptar respuesta para recolectar m√©tricas const originalJson = res.json; res.json = function(data) { const responseTime = Date.now() - startTime; const cacheStatus = res.get('X-Cache') || 'BYPASS'; // Emitir m√©tricas distributedCacheManager.emit('httpCacheMetrics', { method: req.method, url: req.originalUrl, cacheStatus, responseTime, statusCode: res.statusCode, timestamp: new Date().toISOString() }); return originalJson.call(this, data); }; next(); }; }; // Configuraciones predefinidas para diferentes tipos de endpoints export const cacheProfiles = { static: (options = {}) => advancedCacheMiddleware({ profile: 'static', ...options }), dynamic: (options = {}) => advancedCacheMiddleware({ profile: 'dynamic', ...options }), public: (options = {}) => advancedCacheMiddleware({ profile: 'public', ...options }), user: (options = {}) => advancedCacheMiddleware({ profile: 'user', ...options }), realtime: (options = {}) => advancedCacheMiddleware({ profile: 'realtime', ...options }) }; /** Registrar m√©tricas HTTP de cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMiddlewareMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/middleware/AdvancedCacheMiddleware.js</div>
                <div class="item-description">Obtener m√©tricas del middleware</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">resetMiddlewareMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/middleware/AdvancedCacheMiddleware.js</div>
                <div class="item-description">Resetear m√©tricas del middleware</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/PerformanceMonitor.js</div>
                <div class="item-description">PerformanceMonitor - Sistema de monitoreo de rendimiento para el chatbot Proporciona m√©tricas en tiempo real y an√°lisis de performance / import { EventEmitter } from 'events'; import os from 'os'; class PerformanceMonitor extends EventEmitter { constructor(options = {}) { super(); this.options = { sampleInterval: options.sampleInterval || 5000, // 5 segundos metricsRetention: options.metricsRetention || 3600000, // 1 hora alertThresholds: { cpuUsage: options.cpuThreshold || 80, memoryUsage: options.memoryThreshold || 85, responseTime: options.responseTimeThreshold || 2000, errorRate: options.errorRateThreshold || 5, ...options.alertThresholds }, enableAlerts: options.enableAlerts !== false, enableProfiling: options.enableProfiling !== false, ...options }; this.metrics = { system: [], application: [], requests: [], errors: [], custom: new Map() }; this.activeRequests = new Map(); this.profiles = new Map(); this.alerts = []; this.isMonitoring = false; this.setupSystemMonitoring(); } /** Inicia el monitoreo de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/PerformanceMonitor.js</div>
                <div class="item-description">Detiene el monitoreo de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startOperation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/PerformanceMonitor.js</div>
                <div class="item-description">Registra el inicio de una operaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">endOperation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/PerformanceMonitor.js</div>
                <div class="item-description">Registra el fin de una operaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/PerformanceMonitor.js</div>
                <div class="item-description">Registra un error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordCustomMetric</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/PerformanceMonitor.js</div>
                <div class="item-description">Registra una m√©trica personalizada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSystemMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/PerformanceMonitor.js</div>
                <div class="item-description">Obtiene m√©tricas del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getApplicationMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/PerformanceMonitor.js</div>
                <div class="item-description">Obtiene m√©tricas de la aplicaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAllMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/PerformanceMonitor.js</div>
                <div class="item-description">Obtiene todas las m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCustomMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/PerformanceMonitor.js</div>
                <div class="item-description">Obtiene m√©tricas personalizadas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateAverageResponseTime</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/PerformanceMonitor.js</div>
                <div class="item-description">Calcula el tiempo de respuesta promedio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSlowOperations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/PerformanceMonitor.js</div>
                <div class="item-description">Obtiene las operaciones m√°s lentas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectMemoryLeaks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/PerformanceMonitor.js</div>
                <div class="item-description">Detecta posibles memory leaks</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">identifyBottlenecks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/PerformanceMonitor.js</div>
                <div class="item-description">Identifica cuellos de botella</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkPerformanceAlerts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/PerformanceMonitor.js</div>
                <div class="item-description">Verifica alertas de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getActiveAlerts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/PerformanceMonitor.js</div>
                <div class="item-description">Obtiene alertas activas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMetricsSummary</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/PerformanceMonitor.js</div>
                <div class="item-description">Obtiene resumen de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateSystemHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/PerformanceMonitor.js</div>
                <div class="item-description">Calcula la salud general del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupSystemMonitoring</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/PerformanceMonitor.js</div>
                <div class="item-description">Configura el monitoreo del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startSystemSampling</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/PerformanceMonitor.js</div>
                <div class="item-description">Inicia el muestreo del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopSystemSampling</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/PerformanceMonitor.js</div>
                <div class="item-description">Detiene el muestreo del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startCleanupTimer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/PerformanceMonitor.js</div>
                <div class="item-description">Inicia el timer de limpieza</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopCleanupTimer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/PerformanceMonitor.js</div>
                <div class="item-description">Detiene el timer de limpieza</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/PerformanceMonitor.js</div>
                <div class="item-description">Limpia m√©tricas antiguas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCpuUsage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/PerformanceMonitor.js</div>
                <div class="item-description">Obtiene el uso de CPU</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startProfiling</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/PerformanceMonitor.js</div>
                <div class="item-description">Inicia profiling de una operaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">endProfiling</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/PerformanceMonitor.js</div>
                <div class="item-description">Termina profiling de una operaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeLogDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/log-aggregator.js</div>
                <div class="item-description">Servicio de Agregaci√≥n de Logs Centralizado Recopila, procesa y almacena logs de todos los servicios / import fs from 'fs'; import path from 'path'; import { EventEmitter } from 'events'; import { createLogger } from '../services/core/core/logger.js'; class LogAggregator extends EventEmitter { constructor(config = {}) { super(); this.config = { logDir: path.join(process.cwd(), 'logs'), retentionDays: parseInt(process.env.LOG_RETENTION_DAYS) || 30, maxFileSize: 100 * 1024 * 1024, // 100MB compressionEnabled: true, indexingEnabled: true, alertThresholds: { errorRate: 10, // errores por minuto warningRate: 50, // warnings por minuto criticalKeywords: ['CRITICAL', 'FATAL', 'EMERGENCY'] }, ...config }; this.logStreams = new Map(); this.logIndex = new Map(); this.metrics = { totalLogs: 0, errorCount: 0, warningCount: 0, infoCount: 0, debugCount: 0, logsByService: new Map(), recentErrors: [], alertsTriggered: 0 }; this.isRunning = false; this.rotationInterval = null; this.cleanupInterval = null; this.logger = createLogger('LOG_AGGREGATOR'); this.initializeLogDirectory(); this.setupEventHandlers(); } /** Inicializa el directorio de logs</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventHandlers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/log-aggregator.js</div>
                <div class="item-description">Configura manejadores de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/log-aggregator.js</div>
                <div class="item-description">Inicia el agregador de logs</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupLogRotation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/log-aggregator.js</div>
                <div class="item-description">Configura rotaci√≥n autom√°tica de logs</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupLogCleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/log-aggregator.js</div>
                <div class="item-description">Configura limpieza autom√°tica de logs antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupAlertMonitoring</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/log-aggregator.js</div>
                <div class="item-description">Configura monitoreo de alertas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">log</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/log-aggregator.js</div>
                <div class="item-description">Registra un log</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logDebug</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/log-aggregator.js</div>
                <div class="item-description">M√©todos de conveniencia para diferentes niveles</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/log-aggregator.js</div>
                <div class="item-description">Actualiza m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">writeToFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/log-aggregator.js</div>
                <div class="item-description">Escribe log a archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getLogFileName</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/log-aggregator.js</div>
                <div class="item-description">Genera nombre de archivo de log</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">indexLogEntry</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/log-aggregator.js</div>
                <div class="item-description">Indexa entrada de log para b√∫squeda</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">searchLogs</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/log-aggregator.js</div>
                <div class="item-description">Busca en logs</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkCriticalAlerts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/log-aggregator.js</div>
                <div class="item-description">Verifica alertas cr√≠ticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkAlertThresholds</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/log-aggregator.js</div>
                <div class="item-description">Verifica umbrales de alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">triggerAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/log-aggregator.js</div>
                <div class="item-description">Dispara una alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkAndRotateLogs</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/log-aggregator.js</div>
                <div class="item-description">Verifica y rota logs grandes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">rotateLogFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/log-aggregator.js</div>
                <div class="item-description">Rota un archivo de log</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">compressLogFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/log-aggregator.js</div>
                <div class="item-description">Comprime un archivo de log</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldLogs</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/log-aggregator.js</div>
                <div class="item-description">Limpia logs antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">indexExistingLogs</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/log-aggregator.js</div>
                <div class="item-description">Indexa logs existentes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/log-aggregator.js</div>
                <div class="item-description">Obtiene m√©tricas del agregador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/log-aggregator.js</div>
                <div class="item-description">Genera reporte de logs</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">gracefulShutdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/log-aggregator.js</div>
                <div class="item-description">Detiene el agregador gracefully</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializePerformanceMonitoring</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/logger.js</div>
                <div class="item-description">Sistema de Logging Centralizado Captura m√©tricas de rendimiento, errores y eventos de usuario / import { createLogger } from '../services/core/core/logger.js'; class CentralizedLogger { constructor() { this.levels = { ERROR: 0, WARN: 1, INFO: 2, DEBUG: 3 }; this.currentLevel = this.levels.INFO; this.metrics = { pageLoads: 0, userActions: 0, errors: 0, apiCalls: 0, performanceMarks: [] }; this.centralLogger = createLogger('CENTRALIZED_LOGGER'); this.initializePerformanceMonitoring(); } /** Inicializa el monitoreo de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logPerformanceMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/logger.js</div>
                <div class="item-description">Registra m√©tricas de rendimiento de la p√°gina</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getFirstPaint</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/logger.js</div>
                <div class="item-description">Obtiene el tiempo de First Paint</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">error</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/logger.js</div>
                <div class="item-description">Log de error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">warn</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/logger.js</div>
                <div class="item-description">Log de advertencia</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">info</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/logger.js</div>
                <div class="item-description">Log de informaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">debug</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/logger.js</div>
                <div class="item-description">Log de debug</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logUserAction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/logger.js</div>
                <div class="item-description">Registra acci√≥n de usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logApiCall</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/logger.js</div>
                <div class="item-description">Registra llamada a API</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createLogEntry</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/logger.js</div>
                <div class="item-description">Crea entrada de log estructurada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSessionId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/logger.js</div>
                <div class="item-description">Obtiene ID de sesi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getUserId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/logger.js</div>
                <div class="item-description">Obtiene ID de usuario (si est√° disponible)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendToServer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/logger.js</div>
                <div class="item-description">Env√≠a logs al servidor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/logger.js</div>
                <div class="item-description">Obtiene m√©tricas actuales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setLevel</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/logger.js</div>
                <div class="item-description">Configura el nivel de logging</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clearOldMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/logger.js</div>
                <div class="item-description">Limpia m√©tricas antiguas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventHandlers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/monitor-service.js</div>
                <div class="item-description">Servicio de Monitoreo Independiente Ejecuta el sistema de monitoreo en tiempo real como servicio separado / import RealTimeMonitor from './real-time-monitor.js'; import Logger from './logger.js'; import { createLogger } from '../services/core/core/logger.js'; class MonitorService { constructor() { this.monitor = new RealTimeMonitor({ uptimeTarget: 99.9, latencyTarget: 200, errorRateTarget: 1, checkInterval: 5000, alertThreshold: 3 }); this.logger = new Logger('MonitorService'); this.centralLogger = createLogger('MONITOR_SERVICE'); this.isRunning = false; this.setupEventHandlers(); } /** Configura manejadores de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/monitor-service.js</div>
                <div class="item-description">Inicia el servicio de monitoreo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">waitForMainServer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/monitor-service.js</div>
                <div class="item-description">Espera a que el servidor principal est√© disponible</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupAdditionalChecks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/monitor-service.js</div>
                <div class="item-description">Configura verificaciones adicionales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkSystemResources</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/monitor-service.js</div>
                <div class="item-description">Verifica recursos del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkLogHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/monitor-service.js</div>
                <div class="item-description">Verifica salud de los logs</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/monitor-service.js</div>
                <div class="item-description">Limpia m√©tricas antiguas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/monitor-service.js</div>
                <div class="item-description">Maneja alertas cr√≠ticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendWebhookNotification</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/monitor-service.js</div>
                <div class="item-description">Env√≠a notificaci√≥n webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">gracefulShutdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/monitor-service.js</div>
                <div class="item-description">Detiene el servicio gracefully</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/monitor-service.js</div>
                <div class="item-description">Obtiene estado del servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeHealthChecks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/real-time-monitor.js</div>
                <div class="item-description">Sistema de Monitoreo en Tiempo Real - Similar a New Relic Garantiza 99.9% uptime y latencia < 200ms / import { EventEmitter } from 'events'; import { performance } from 'perf_hooks'; import http from 'http'; import fs from 'fs'; class RealTimeMonitor extends EventEmitter { constructor(config = {}) { super(); this.config = { uptimeTarget: 99.9, // 99.9% latencyTarget: 200, // 200ms errorRateTarget: 1, // 1% checkInterval: 5000, // 5 segundos alertThreshold: 3, // 3 fallos consecutivos ...config }; this.metrics = { uptime: { startTime: Date.now(), totalChecks: 0, successfulChecks: 0, failedChecks: 0, currentUptime: 100, downtimeEvents: [] }, latency: { current: 0, average: 0, min: Infinity, max: 0, p95: 0, p99: 0, samples: [] }, errors: { total: 0, rate: 0, recent: [], byType: new Map() }, performance: { cpu: 0, memory: 0, requests: 0, throughput: 0 }, alerts: { active: [], history: [] } }; this.consecutiveFailures = 0; this.isMonitoring = false; this.healthChecks = new Map(); this.initializeHealthChecks(); } /** Inicializa verificaciones de salud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerHealthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/real-time-monitor.js</div>
                <div class="item-description">Registra una verificaci√≥n de salud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startMonitoring</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/real-time-monitor.js</div>
                <div class="item-description">Inicia el monitoreo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopMonitoring</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/real-time-monitor.js</div>
                <div class="item-description">Detiene el monitoreo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">runHealthChecks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/real-time-monitor.js</div>
                <div class="item-description">Ejecuta todas las verificaciones de salud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performHealthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/real-time-monitor.js</div>
                <div class="item-description">Realiza una verificaci√≥n de salud individual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateHealthCheckStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/real-time-monitor.js</div>
                <div class="item-description">Actualiza el estado de una verificaci√≥n de salud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/real-time-monitor.js</div>
                <div class="item-description">Actualiza m√©tricas globales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateLatencyStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/real-time-monitor.js</div>
                <div class="item-description">Calcula estad√≠sticas de latencia</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPercentile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/real-time-monitor.js</div>
                <div class="item-description">Calcula percentil</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updatePerformanceMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/real-time-monitor.js</div>
                <div class="item-description">Actualiza m√©tricas de rendimiento simuladas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkAlerts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/real-time-monitor.js</div>
                <div class="item-description">Verifica y genera alertas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/real-time-monitor.js</div>
                <div class="item-description">Crea una alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">resolveAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/real-time-monitor.js</div>
                <div class="item-description">Resuelve una alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/real-time-monitor.js</div>
                <div class="item-description">Genera reporte de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/real-time-monitor.js</div>
                <div class="item-description">Obtiene m√©tricas actuales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">attemptAutoRecovery</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/monitoring/real-time-monitor.js</div>
                <div class="item-description">Simula recuperaci√≥n autom√°tica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/integrations/360dialog/Dialog360Integration.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> 360Dialog WhatsApp Business API Integration Integraci√≥n con la API de WhatsApp Business de 360Dialog <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 6.0.0<br><strong>@since:</strong> 2.0.0 /  import axios from 'axios'; import { EventEmitter } from 'events'; import logger from '../../utils/logger.js';  /** Estados de conexi√≥n / export const ConnectionStatus = { DISCONNECTED: 'disconnected', CONNECTING: 'connecting', CONNECTED: 'connected', ERROR: 'error' };  /** Tipos de mensaje soportados / export const MessageType = { TEXT: 'text', IMAGE: 'image', DOCUMENT: 'document', AUDIO: 'audio', VIDEO: 'video', STICKER: 'sticker', LOCATION: 'location', CONTACTS: 'contacts', TEMPLATE: 'template', INTERACTIVE: 'interactive' };  /** Estados de mensaje / export const MessageStatus = { SENT: 'sent', DELIVERED: 'delivered', READ: 'read', FAILED: 'failed' };  /** Clase principal para la integraci√≥n con 360Dialog / export class Dialog360Integration extends EventEmitter { constructor(config = {}) { super();  this.validateConfig(config);  this.config = { apiKey: config.apiKey, baseUrl: config.baseUrl || 'https://waba.360dialog.io', phoneNumberId: config.phoneNumberId, businessAccountId: config.businessAccountId, webhookUrl: config.webhookUrl, webhookVerifyToken: config.webhookVerifyToken, timeout: config.timeout || 30000, retries: config.retries || 3, retryDelay: config.retryDelay || 1000, rateLimit: { maxRequests: config.rateLimit?.maxRequests || 999999, // Rate limiting desactivado windowMs: config.rateLimit?.windowMs || 60000, ...config.rateLimit }, ...config };  // Estado de la conexi√≥n this.isConnected = false; this.connectionStatus = ConnectionStatus.DISCONNECTED; this.lastHealthCheck = null;  // Estad√≠sticas this.stats = { messagesSent: 0, messagesReceived: 0, messagesFailed: 0, webhooksProcessed: 0, lastActivity: null, uptime: Date.now() };  // Rate limiting this.requestCounts = new Map();  // Configurar axios con defaults this.httpClient = axios.create({ baseURL: this.config.baseUrl, timeout: this.config.timeout, headers: { 'D360-API-KEY': this.config.apiKey, 'Content-Type': 'application/json', 'User-Agent': 'ChatBot-Enterprise-360Dialog/6.0.0' } });  // Configurar interceptores this.setupInterceptors();  logger.info('Dialog360Integration initialized', { phoneNumberId: this.config.phoneNumberId, baseUrl: this.config.baseUrl }); }  /** Valida la configuraci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupInterceptors</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/integrations/360dialog/Dialog360Integration.js</div>
                <div class="item-description">Configura interceptores de axios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">connect</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/integrations/360dialog/Dialog360Integration.js</div>
                <div class="item-description">Conecta con la API de 360Dialog</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">disconnect</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/integrations/360dialog/Dialog360Integration.js</div>
                <div class="item-description">Desconecta de la API</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/integrations/360dialog/Dialog360Integration.js</div>
                <div class="item-description">Verifica el estado de salud de la conexi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/integrations/360dialog/Dialog360Integration.js</div>
                <div class="item-description">Env√≠a un mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/integrations/360dialog/Dialog360Integration.js</div>
                <div class="item-description">Valida el formato del mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">buildMessagePayload</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/integrations/360dialog/Dialog360Integration.js</div>
                <div class="item-description">Construye el payload del mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">makeRequestWithRetry</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/integrations/360dialog/Dialog360Integration.js</div>
                <div class="item-description">Realiza una petici√≥n con reintentos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">configureWebhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/integrations/360dialog/Dialog360Integration.js</div>
                <div class="item-description">Configura webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">verifyWebhookToken</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/integrations/360dialog/Dialog360Integration.js</div>
                <div class="item-description">Verifica el token del webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processWebhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/integrations/360dialog/Dialog360Integration.js</div>
                <div class="item-description">Procesa webhook entrante</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processIncomingMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/integrations/360dialog/Dialog360Integration.js</div>
                <div class="item-description">Procesa mensaje entrante</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processStatusUpdate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/integrations/360dialog/Dialog360Integration.js</div>
                <div class="item-description">Procesa actualizaci√≥n de estado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">uploadMedia</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/integrations/360dialog/Dialog360Integration.js</div>
                <div class="item-description">Sube media</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">downloadMedia</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/integrations/360dialog/Dialog360Integration.js</div>
                <div class="item-description">Descarga media</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMediaUrl</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/integrations/360dialog/Dialog360Integration.js</div>
                <div class="item-description">Obtiene URL de media</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getContactProfile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/integrations/360dialog/Dialog360Integration.js</div>
                <div class="item-description">Obtiene perfil de contacto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getBusinessProfile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/integrations/360dialog/Dialog360Integration.js</div>
                <div class="item-description">Obtiene perfil de negocio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateBusinessProfile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/integrations/360dialog/Dialog360Integration.js</div>
                <div class="item-description">Actualiza perfil de negocio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAnalytics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/integrations/360dialog/Dialog360Integration.js</div>
                <div class="item-description">Obtiene analytics</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMessageTemplates</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/integrations/360dialog/Dialog360Integration.js</div>
                <div class="item-description">Obtiene templates de mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/integrations/360dialog/Dialog360Integration.js</div>
                <div class="item-description">Actualiza configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/integrations/360dialog/Dialog360Integration.js</div>
                <div class="item-description">Obtiene configuraci√≥n actual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/integrations/360dialog/Dialog360Integration.js</div>
                <div class="item-description">Obtiene estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">close</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/integrations/360dialog/Dialog360Integration.js</div>
                <div class="item-description">Cierra la integraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">main</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/main.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Punto de entrada principal del ChatBot Enterprise  Este archivo es el punto de entrada principal del sistema ChatBot Enterprise. Maneja la inicializaci√≥n del servidor, configuraci√≥n del entorno, manejo de errores globales y el proceso de apagado graceful del sistema.  Caracter√≠sticas principales: - Inicializaci√≥n y configuraci√≥n del servidor principal - Manejo de errores no capturados y promesas rechazadas - Implementaci√≥n de apagado graceful (SIGTERM, SIGINT) - Validaci√≥n de configuraci√≥n del entorno - Logging detallado del proceso de inicio <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 5.0.0<br><strong>@since:</strong> 1.0.0 /  import { Server } from './Server.js'; import logger from './services/core/core/logger.js'; import environmentConfig from './config/environments/environments/environment.js';  /** Configuraci√≥n de manejo de errores globales del proceso  Estos manejadores capturan errores que no fueron manejados por el c√≥digo de la aplicaci√≥n y aseguran que el proceso termine de manera controlada. /  // Manejo de excepciones no capturadas (errores s√≠ncronos) process.on('uncaughtException', error => { logger.error('‚ùå Excepci√≥n no capturada:', error); process.exit(1); });  // Manejo de promesas rechazadas no manejadas (errores as√≠ncronos) process.on('unhandledRejection', (reason, promise) => { logger.error('‚ùå Promesa rechazada no manejada:', reason); logger.error('En promesa:', promise); process.exit(1); });  /** Configuraci√≥n de se√±ales del sistema para apagado graceful  SIGTERM: Se√±al de terminaci√≥n (usado por sistemas de orquestaci√≥n como Docker/K8s) SIGINT: Se√±al de interrupci√≥n (Ctrl+C en terminal) / process.on('SIGTERM', gracefulShutdown); process.on('SIGINT', gracefulShutdown);  /** Instancia global del servidor<br><strong>@type:</strong> {Server|null} / let server = null;  /** Funci√≥n principal de inicializaci√≥n del sistema  Esta funci√≥n es responsable de: 1. Validar la configuraci√≥n del entorno 2. Inicializar el servidor principal 3. Configurar el logging del sistema 4. Manejar errores de inicializaci√≥n <br><strong>@async:</strong> <br><strong>@function:</strong> main<br><strong>@returns:</strong> {Promise<void>} Promesa que se resuelve cuando el servidor est√° iniciado<br><strong>@throws:</strong> {Error} Si hay errores durante la inicializaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">gracefulShutdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/main.js</div>
                <div class="item-description">Funci√≥n de apagado graceful del sistema Esta funci√≥n maneja el cierre ordenado del servidor cuando se recibe una se√±al del sistema (SIGTERM, SIGINT). Asegura que: 1. Se cierren todas las conexiones activas 2. Se completen las operaciones en curso 3. Se liberen los recursos del sistema 4. Se registre el proceso de cierre en los logs</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@async:</strong> <br><strong>@function:</strong> gracefulShutdown<br><strong>@param:</strong> {string} signal - La se√±al del sistema recibida (SIGTERM, SIGINT, etc.)<br><strong>@returns:</strong> {Promise<void>} Promesa que se resuelve cuando el cierre est√° completo<br><strong>@throws:</strong> {Error} Si hay errores durante el proceso de cierre 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">if</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/main.js</div>
                <div class="item-description">Punto de entrada del m√≥dulo Verifica si este archivo est√° siendo ejecutado directamente (no importado como m√≥dulo) y ejecuta la funci√≥n principal. Maneja errores fatales que puedan ocurrir durante la inicializaci√≥n.</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupAxiosInterceptors</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/APIManager.js</div>
                <div class="item-description">API Manager Service Gestiona todas las operaciones de API del sistema / import axios from 'axios'; export class APIManager { constructor(config = {}) { this.config = { timeout: 30000, retryAttempts: 3, retryDelay: 1000, maxConcurrentRequests: 20, defaultHeaders: { 'Content-Type': 'application/json', 'User-Agent': 'ChatBot-API/1.0' }, ...config }; this.apis = new Map(); this.requestQueue = []; this.activeRequests = new Set(); this.requestHistory = []; this.rateLimits = new Map(); // Configurar interceptores de axios this.setupAxiosInterceptors(); } /** Configura interceptores de axios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerAPI</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/APIManager.js</div>
                <div class="item-description">Registra una nueva API</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} name - Nombre de la API, {object} apiConfig - Configuraci√≥n de la API<br><strong>@returns:</strong> {object} API registrada 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAPI</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/APIManager.js</div>
                <div class="item-description">Obtiene una API por nombre</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} name - Nombre de la API<br><strong>@returns:</strong> {object|null} API encontrada 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">makeRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/APIManager.js</div>
                <div class="item-description">Realiza una petici√≥n HTTP</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} apiName - Nombre de la API, {object} requestConfig - Configuraci√≥n de la petici√≥n<br><strong>@returns:</strong> {Promise<object>} Respuesta de la petici√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/APIManager.js</div>
                <div class="item-description">Ejecuta una petici√≥n con reintentos</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} api - Configuraci√≥n de la API, {object} requestConfig - Configuraci√≥n de la petici√≥n, {string} requestId - ID de la petici√≥n<br><strong>@returns:</strong> {Promise<object>} Respuesta de la petici√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkRateLimit</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/APIManager.js</div>
                <div class="item-description">Verifica rate limiting - DESACTIVADO</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} apiName - Nombre de la API<br><strong>@returns:</strong> {boolean} Si la petici√≥n est√° permitida 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateRateLimit</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/APIManager.js</div>
                <div class="item-description">Actualiza contador de rate limit</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} apiName - Nombre de la API 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateAPIStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/APIManager.js</div>
                <div class="item-description">Actualiza estad√≠sticas de la API</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} api - Configuraci√≥n de la API, {number} duration - Duraci√≥n de la petici√≥n, {boolean} success - Si fue exitosa 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">buildUrl</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/APIManager.js</div>
                <div class="item-description">Construye URL completa</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} baseUrl - URL base, {string} endpoint - Endpoint<br><strong>@returns:</strong> {string} URL completa 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">waitForAvailableSlot</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/APIManager.js</div>
                <div class="item-description">Espera a que haya un slot disponible</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Promise} Promise que resuelve cuando hay slot disponible 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateRequestId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/APIManager.js</div>
                <div class="item-description">Genera ID √∫nico para petici√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {string} ID √∫nico 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addToHistory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/APIManager.js</div>
                <div class="item-description">Agrega entrada al historial</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} entry - Entrada del historial 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/APIManager.js</div>
                <div class="item-description">Obtiene estad√≠sticas de APIs</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {object} Estad√≠sticas 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateSuccessRate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/APIManager.js</div>
                <div class="item-description">Calcula tasa de √©xito</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {array} requests - Lista de peticiones<br><strong>@returns:</strong> {number} Tasa de √©xito (0-100) 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRequestHistory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/APIManager.js</div>
                <div class="item-description">Obtiene historial de peticiones</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} filters - Filtros opcionales<br><strong>@returns:</strong> {array} Historial filtrado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">delay</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/APIManager.js</div>
                <div class="item-description">Funci√≥n auxiliar para delay</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {number} ms - Milisegundos a esperar<br><strong>@returns:</strong> {Promise} Promise que resuelve despu√©s del delay 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupDefaultChannels</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/NotificationManager.js</div>
                <div class="item-description">Notification Manager Service Gestiona notificaciones del sistema / import { EventEmitter } from 'events'; export class NotificationManager extends EventEmitter { constructor(config = {}) { super(); this.config = { maxRetries: 3, retryDelay: 1000, batchSize: 50, queueTimeout: 30000, enablePersistence: true, ...config }; this.channels = new Map(); this.templates = new Map(); this.queue = []; this.processing = false; this.stats = { sent: 0, failed: 0, queued: 0, retries: 0 }; this.setupDefaultChannels(); this.setupDefaultTemplates(); this.startQueueProcessor(); } /** Configura canales por defecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupDefaultTemplates</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/NotificationManager.js</div>
                <div class="item-description">Configura plantillas por defecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerChannel</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/NotificationManager.js</div>
                <div class="item-description">Registra un canal de notificaci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} name - Nombre del canal, {object} channel - Configuraci√≥n del canal 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerTemplate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/NotificationManager.js</div>
                <div class="item-description">Registra una plantilla de notificaci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} name - Nombre de la plantilla, {object} template - Configuraci√≥n de la plantilla 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">send</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/NotificationManager.js</div>
                <div class="item-description">Env√≠a una notificaci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} notification - Datos de la notificaci√≥n<br><strong>@returns:</strong> {Promise<object>} Resultado del env√≠o 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendFromTemplate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/NotificationManager.js</div>
                <div class="item-description">Env√≠a notificaci√≥n usando plantilla</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} templateName - Nombre de la plantilla, {object} data - Datos para la plantilla, {object} options - Opciones adicionales<br><strong>@returns:</strong> {Promise<object>} Resultado del env√≠o 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">queue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/NotificationManager.js</div>
                <div class="item-description">A√±ade notificaci√≥n a la cola</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} notification - Notificaci√≥n a encolar, {object} options - Opciones de cola 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processQueue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/NotificationManager.js</div>
                <div class="item-description">Procesa la cola de notificaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startQueueProcessor</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/NotificationManager.js</div>
                <div class="item-description">Inicia el procesador de cola</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendToChannel</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/NotificationManager.js</div>
                <div class="item-description">Env√≠a notificaci√≥n a un canal espec√≠fico</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} channelName - Nombre del canal, {object} notification - Notificaci√≥n a enviar<br><strong>@returns:</strong> {Promise<object>} Resultado del env√≠o 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processTemplate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/NotificationManager.js</div>
                <div class="item-description">Procesa plantilla de notificaci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} notification - Notificaci√≥n original<br><strong>@returns:</strong> {object} Notificaci√≥n procesada 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">interpolateTemplate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/NotificationManager.js</div>
                <div class="item-description">Interpola variables en plantilla</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} template - Plantilla con variables, {object} data - Datos para interpolaci√≥n<br><strong>@returns:</strong> {string} Texto interpolado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">determineChannels</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/NotificationManager.js</div>
                <div class="item-description">Determina canales para una notificaci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} notification - Notificaci√≥n<br><strong>@returns:</strong> {array} Lista de canales 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateNotification</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/NotificationManager.js</div>
                <div class="item-description">Valida estructura de notificaci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} notification - Notificaci√≥n a validar 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processSendResults</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/NotificationManager.js</div>
                <div class="item-description">Procesa resultados de env√≠o</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {array} results - Resultados de Promise.allSettled, {array} channels - Canales utilizados<br><strong>@returns:</strong> {object} Resumen de resultados 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sortQueue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/NotificationManager.js</div>
                <div class="item-description">Ordena cola por prioridad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendEmail</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/NotificationManager.js</div>
                <div class="item-description">Implementaci√≥n de env√≠o por email</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} notification - Notificaci√≥n, {object} config - Configuraci√≥n del canal<br><strong>@returns:</strong> {Promise<object>} Resultado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendSMS</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/NotificationManager.js</div>
                <div class="item-description">Implementaci√≥n de env√≠o por SMS</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} notification - Notificaci√≥n, {object} config - Configuraci√≥n del canal<br><strong>@returns:</strong> {Promise<object>} Resultado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendPush</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/NotificationManager.js</div>
                <div class="item-description">Implementaci√≥n de env√≠o por push</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} notification - Notificaci√≥n, {object} config - Configuraci√≥n del canal<br><strong>@returns:</strong> {Promise<object>} Resultado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendWebhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/NotificationManager.js</div>
                <div class="item-description">Implementaci√≥n de env√≠o por webhook</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} notification - Notificaci√≥n, {object} config - Configuraci√≥n del canal<br><strong>@returns:</strong> {Promise<object>} Resultado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendInternal</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/NotificationManager.js</div>
                <div class="item-description">Implementaci√≥n de notificaci√≥n interna</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} notification - Notificaci√≥n, {object} config - Configuraci√≥n del canal<br><strong>@returns:</strong> {Promise<object>} Resultado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/NotificationManager.js</div>
                <div class="item-description">Genera ID √∫nico</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {string} ID √∫nico 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/NotificationManager.js</div>
                <div class="item-description">Obtiene estad√≠sticas</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {object} Estad√≠sticas 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupQueue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/NotificationManager.js</div>
                <div class="item-description">Limpia cola de notificaciones antiguas</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {number} maxAge - Edad m√°xima en milisegundos 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">BACKUP MANAGER - Sistema de respaldos autom√°ticos Funcionalidades: - Respaldos autom√°ticos diarios programados - Compresi√≥n de archivos de respaldo - Pol√≠tica de retenci√≥n configurable - Respaldos manuales bajo demanda - Verificaci√≥n de integridad de respaldos - Restauraci√≥n de datos desde respaldos - Limpieza autom√°tica de respaldos antiguos</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Sistema Chat Bot v5.0.0<br><strong>@version:</strong> 1.0.0 /  import fs from 'fs/promises'; import path from 'path'; import { fileURLToPath } from 'url'; import { createReadStream, createWriteStream } from 'fs'; import { createGzip, createGunzip } from 'zlib'; import { pipeline } from 'stream/promises'; import { createLogger } from '../services/core/core/logger.js'; import { ensureDirectories } from '../utils/directory-utils.js';  const __filename = fileURLToPath(import.meta.url); const __dirname = path.dirname(__filename);  class BackupManager { constructor() { this.logger = createLogger('BACKUP_MANAGER'); this.dataDir = process.env.DATA_DIR || path.join(__dirname, '../../data'); this.backupDir = process.env.BACKUP_DIR || path.join(__dirname, '../../backups'); this.isInitialized = false;  // Sistema de mutex para operaciones concurrentes this.operationMutex = false; this.operationQueue = [];  // Configuraci√≥n this.config = { // Programaci√≥n de respaldos autoBackup: process.env.AUTO_BACKUP !== 'false', backupInterval: parseInt(process.env.BACKUP_INTERVAL_HOURS) || 24, // horas backupTime: process.env.BACKUP_TIME || '02:00', // HH:MM  // Retenci√≥n retentionDays: parseInt(process.env.BACKUP_RETENTION_DAYS) || 30, maxBackups: parseInt(process.env.MAX_BACKUPS) || 50,  // Compresi√≥n compression: process.env.BACKUP_COMPRESSION !== 'false', compressionLevel: parseInt(process.env.COMPRESSION_LEVEL) || 6,  // Verificaci√≥n verifyBackups: process.env.VERIFY_BACKUPS !== 'false', checksumAlgorithm: process.env.CHECKSUM_ALGORITHM || 'sha256',  // Archivos a respaldar includePatterns: (process.env.BACKUP_INCLUDE || '*.json,*.log,*.txt').split(','), excludePatterns: (process.env.BACKUP_EXCLUDE || '*.tmp,*.lock').split(',') };  // Estado this.backupScheduler = null; this.isBackupRunning = false; this.lastBackup = null;  // Estad√≠sticas this.stats = { totalBackups: 0, successfulBackups: 0, failedBackups: 0, totalSizeBytes: 0, averageBackupTime: 0, lastBackupDuration: 0 }; }  /** Inicializa el gestor de respaldos 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ensureDirectories</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Asegura que los directorios necesarios existen</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadBackupHistory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Carga el historial de respaldos existentes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeWithMutex</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Ejecuta operaciones de forma secuencial para evitar conflictos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processQueue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Procesa la cola de operaciones de forma secuencial</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isValidBackupDir</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Verifica si un directorio es un respaldo v√°lido</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">parseBackupDate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Parsea la fecha de un nombre de directorio de respaldo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateDirectorySize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Calcula el tama√±o total de un directorio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startBackupScheduler</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Inicia el programador de respaldos autom√°ticos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldRunScheduledBackup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Verifica si debe ejecutar un respaldo programado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createBackup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Crea un respaldo completo del sistema con mutex</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkAvailableSpace</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Verifica el espacio disponible antes de crear respaldo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateBackupName</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Genera un nombre para el respaldo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createBackupManifest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Crea el manifiesto del respaldo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">backupFiles</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Respalda todos los archivos del directorio de datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">backupDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Respalda un directorio recursivamente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldIncludeFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Verifica si un archivo debe incluirse en el respaldo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">matchPattern</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Verifica si un nombre de archivo coincide con un patr√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">backupFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Respalda un archivo individual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldCompressFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Verifica si un archivo debe comprimirse</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">compressFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Comprime un archivo usando gzip</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">verifyBackupIntegrity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Verifica la integridad de un respaldo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldBackups</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Limpia respaldos antiguos seg√∫n la pol√≠tica de retenci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">restoreFromBackup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Restaura datos desde un respaldo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">restoreDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Restaura un directorio recursivamente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">decompressFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Descomprime un archivo gzip</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">listBackups</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Lista todos los respaldos disponibles</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">countBackupFiles</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Cuenta los archivos en un respaldo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Obtiene estad√≠sticas del gestor de respaldos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getNextScheduledBackup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Calcula la pr√≥xima fecha de respaldo programado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateBackupStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Actualiza las estad√≠sticas de respaldos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">formatBytes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Formatea bytes en formato legible</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">log</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Logging unificado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Logging de errores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shutdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/backup_manager.js</div>
                <div class="item-description">Cierre limpio del gestor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/contacts_manager.js</div>
                <div class="item-description">CONTACTS MANAGER - Gesti√≥n completa de contactos</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Sistema Chat Bot v5.0.0<br><strong>@version:</strong> 3.0.0 (Refactored for Sequelize ORM) /  import { Contact } from '../services/core/core/database.js'; import { Op } from 'sequelize';  class ContactsManager { constructor(moduleCommunicator) { this.communicator = moduleCommunicator; this.logger = this.communicator.logger; this.isLoaded = false;  // Configuraci√≥n this.config = { maxContacts: parseInt(process.env.MAX_CONTACTS) || 10000, validatePhones: process.env.VALIDATE_PHONES !== 'false' }; }  /** Inicializa el gestor de contactos 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">normalizePhone</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/contacts_manager.js</div>
                <div class="item-description">Normaliza un n√∫mero telef√≥nico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validatePhone</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/contacts_manager.js</div>
                <div class="item-description">Valida un n√∫mero telef√≥nico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createContact</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/contacts_manager.js</div>
                <div class="item-description">Crea o actualiza un contacto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getContact</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/contacts_manager.js</div>
                <div class="item-description">Obtiene un contacto por tel√©fono</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">listContacts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/contacts_manager.js</div>
                <div class="item-description">Lista contactos con filtros</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateLastInteraction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/contacts_manager.js</div>
                <div class="item-description">Actualiza la √∫ltima interacci√≥n de un contacto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deleteContact</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/contacts_manager.js</div>
                <div class="item-description">Elimina un contacto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/contacts_manager.js</div>
                <div class="item-description">Obtiene estad√≠sticas de contactos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shutdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/contacts_manager.js</div>
                <div class="item-description">Cierre limpio del gestor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/context_manager.js</div>
                <div class="item-description">CONTEXT MANAGER - Gesti√≥n de memoria conversacional Funcionalidades: - Memoria conversacional por usuario - Almacenamiento incremental y rotaci√≥n segura - Persistencia en archivos JSON individuales - L√≠mites configurables de contexto - Compresi√≥n autom√°tica de conversaciones antiguas - Recuperaci√≥n de contexto reciente</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Sistema Chat Bot v5.0.0<br><strong>@version:</strong> 1.0.0 /  import fs from 'fs/promises'; import path from 'path'; import { fileURLToPath } from 'url'; import { createLogger } from '../services/core/core/logger.js';  const __filename = fileURLToPath(import.meta.url); const __dirname = path.dirname(__filename);  class ContextManager { constructor() { this.logger = createLogger('CONTEXT_MANAGER'); this.dataDir = process.env.CONVERSATIONS_DATA_DIR || path.join(__dirname, '../../data/conversaciones'); this.contexts = new Map(); // Cache en memoria this.isLoaded = false;  // Sistema de mutex para operaciones cr√≠ticas this.operationMutex = false; this.operationQueue = [];  // Configuraci√≥n this.config = { maxMessagesPerContext: parseInt(process.env.MAX_MESSAGES_PER_CONTEXT) || 100, maxContextAge: parseInt(process.env.MAX_CONTEXT_AGE_DAYS) || 30, recentMessagesCount: parseInt(process.env.RECENT_MESSAGES_COUNT) || 10, autoRotate: process.env.AUTO_ROTATE_CONTEXT !== 'false', compressOld: process.env.COMPRESS_OLD_CONTEXTS === 'true', cacheSize: parseInt(process.env.CONTEXT_CACHE_SIZE) || 50 };  // Estad√≠sticas this.stats = { totalContexts: 0, totalMessages: 0, cacheHits: 0, cacheMisses: 0, rotations: 0 }; }  /** Inicializa el gestor de contexto 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeWithMutex</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/context_manager.js</div>
                <div class="item-description">Ejecuta una operaci√≥n con mutex para evitar condiciones de carrera</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processQueue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/context_manager.js</div>
                <div class="item-description">Procesa la cola de operaciones secuencialmente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ensureDataDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/context_manager.js</div>
                <div class="item-description">Asegura que el directorio de datos existe</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadContextsIndex</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/context_manager.js</div>
                <div class="item-description">Carga el √≠ndice de contextos existentes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">normalizeUserId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/context_manager.js</div>
                <div class="item-description">Normaliza un ID de usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getContextFilePath</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/context_manager.js</div>
                <div class="item-description">Obtiene la ruta del archivo de contexto para un usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadUserContext</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/context_manager.js</div>
                <div class="item-description">Carga el contexto de un usuario desde archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createNewContext</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/context_manager.js</div>
                <div class="item-description">Crea un nuevo contexto para un usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getContext</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/context_manager.js</div>
                <div class="item-description">Obtiene el contexto de un usuario (con cache)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">appendMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/context_manager.js</div>
                <div class="item-description">Anexa un mensaje al contexto de un usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateContextSummary</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/context_manager.js</div>
                <div class="item-description">Actualiza el resumen del contexto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldRotateContext</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/context_manager.js</div>
                <div class="item-description">Verifica si el contexto necesita rotaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">rotateContext</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/context_manager.js</div>
                <div class="item-description">Rota el contexto de un usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveUserContext</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/context_manager.js</div>
                <div class="item-description">Guarda el contexto de un usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clearContext</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/context_manager.js</div>
                <div class="item-description">Limpia el contexto de un usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/context_manager.js</div>
                <div class="item-description">Obtiene estad√≠sticas del gestor de contexto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/context_manager.js</div>
                <div class="item-description">Limpieza autom√°tica de contextos antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">manageCacheSize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/context_manager.js</div>
                <div class="item-description">Gestiona el tama√±o del cache en memoria</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateMessageId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/context_manager.js</div>
                <div class="item-description">Genera un ID √∫nico para mensajes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">log</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/context_manager.js</div>
                <div class="item-description">Logging unificado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/context_manager.js</div>
                <div class="item-description">Logging de errores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shutdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/context_manager.js</div>
                <div class="item-description">Cierre limpio del gestor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/conversation_flow_manager.js</div>
                <div class="item-description">Conversation Flow Manager - Gestor unificado del flujo conversacional Integra detecci√≥n de intenci√≥n, respuesta con IA, manejo de plantillas y actualizaci√≥n de contexto / import fs from 'fs-extra'; import path from 'path'; import axios from 'axios'; import { createLogger } from '../services/core/core/logger.js'; import contactsManager from './contacts_manager.js'; import contextManager from './context_manager.js'; import statsManager from './stats_manager.js'; import errorManager from './error_manager.js'; import { ensureDirectories } from '../utils/directory-utils.js'; class ConversationFlowManager { constructor() { this.baseDir = process.cwd(); this.configDir = path.join(this.baseDir, 'config'); this.templatesDir = path.join(this.baseDir, 'templates'); this.config = { aiEndpoint: process.env.AI_ENDPOINT || 'http://localhost:1234/v1/chat/completions', aiModel: process.env.AI_MODEL || 'local-model', maxTokens: 500, temperature: 0.7, intentionThreshold: 0.7, templateCooldown: 300000, // 5 minutos maxRetries: 3, responseTimeout: 30000 }; this.intentionKeywords = { highIntention: [ 'quiero participar', 'me interesa mucho', 'c√≥mo me inscribo', 'quiero comprar', 'me apunto', 'acepto', 's√≠ quiero', 'm√°ndame el formulario', 'quiero el link', 'env√≠ame la info' ], mediumIntention: [ 'me interesa', 'cu√°nto cuesta', 'm√°s informaci√≥n', 'c√≥mo funciona', 'qu√© incluye', 'cu√°les son los requisitos', 'hasta cu√°ndo', 'hay descuentos', 'formas de pago' ], lowIntention: [ 'de qu√© se trata', 'no entiendo', 'expl√≠came', 'qu√© es esto', 'cu√©ntame m√°s', 'informaci√≥n', 'detalles', 'qu√© premios', 'cu√°ndo es' ], rejection: [ 'no me interesa', 'no quiero', 'no gracias', 'd√©jame en paz', 'no molestes', 'estafa', 'fraude', 'no conf√≠o', 'stop', 'basta', 'eliminar', 'borrar' ] }; this.conversationStages = { NEW: 'new', INITIAL: 'initial', ENGAGED: 'engaged', INTERESTED: 'interested', QUALIFIED: 'qualified', CONVERTED: 'converted', REJECTED: 'rejected' }; this.isInitialized = false; this.logger = createLogger('CONVERSATION_FLOW_MANAGER'); } /** Inicializar el gestor de flujo conversacional</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ensureDirectories</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/conversation_flow_manager.js</div>
                <div class="item-description">Asegurar que existan los directorios necesarios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/conversation_flow_manager.js</div>
                <div class="item-description">Cargar configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/conversation_flow_manager.js</div>
                <div class="item-description">Guardar configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processIncomingMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/conversation_flow_manager.js</div>
                <div class="item-description">Procesar mensaje entrante - Punto de entrada principal</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectIntention</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/conversation_flow_manager.js</div>
                <div class="item-description">Detectar intenci√≥n en el mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">determineAndExecuteAction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/conversation_flow_manager.js</div>
                <div class="item-description">Determinar y ejecutar acci√≥n basada en la intenci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleRejection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/conversation_flow_manager.js</div>
                <div class="item-description">Manejar rechazo del usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleHighIntention</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/conversation_flow_manager.js</div>
                <div class="item-description">Manejar intenci√≥n alta (enviar plantilla/formulario)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleMediumIntention</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/conversation_flow_manager.js</div>
                <div class="item-description">Manejar intenci√≥n media (informaci√≥n y persuasi√≥n)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleInformationalResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/conversation_flow_manager.js</div>
                <div class="item-description">Manejar respuesta informacional</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateAIResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/conversation_flow_manager.js</div>
                <div class="item-description">Generar respuesta con IA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">buildAIPrompt</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/conversation_flow_manager.js</div>
                <div class="item-description">Construir prompt para IA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSystemPrompt</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/conversation_flow_manager.js</div>
                <div class="item-description">Obtener prompt del sistema para IA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendTemplate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/conversation_flow_manager.js</div>
                <div class="item-description">Enviar plantilla</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateContextWithResult</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/conversation_flow_manager.js</div>
                <div class="item-description">Actualizar contexto con resultado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateContactIfNeeded</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/conversation_flow_manager.js</div>
                <div class="item-description">Actualizar contacto si es necesario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">adjustConfidenceByContext</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/conversation_flow_manager.js</div>
                <div class="item-description">Ajustar confianza basado en contexto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getContextFactors</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/conversation_flow_manager.js</div>
                <div class="item-description">Obtener factores de contexto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getDefaultPersuasiveResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/conversation_flow_manager.js</div>
                <div class="item-description">Obtener respuesta por defecto persuasiva</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getDefaultInformationalResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/conversation_flow_manager.js</div>
                <div class="item-description">Obtener respuesta informacional por defecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getErrorResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/conversation_flow_manager.js</div>
                <div class="item-description">Obtener respuesta de error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">normalizePhone</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/conversation_flow_manager.js</div>
                <div class="item-description">Normalizar n√∫mero de tel√©fono</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getFlowStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/conversation_flow_manager.js</div>
                <div class="item-description">Obtener estad√≠sticas del flujo conversacional</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateConversionRate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/conversation_flow_manager.js</div>
                <div class="item-description">Calcular tasa de conversi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateConfiguration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/error_manager.js</div>
                <div class="item-description">Error Manager - Sistema de captura centralizada de errores Clasificaci√≥n por severidad, conteo, notificaci√≥n interna y volcado a logs Versi√≥n mejorada con validaciones adicionales y monitoreo avanzado</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 2.0.0 /  import fs from 'fs/promises'; import path from 'path'; import { fileURLToPath } from 'url'; import { createLogger } from '../services/core/core/logger.js';  const __filename = fileURLToPath(import.meta.url); const __dirname = path.dirname(__filename);  // Configuraci√≥n por defecto mejorada const DEFAULT_CONFIG = { LOG_DIR: process.env.ERROR_LOG_DIR || path.join(__dirname, '../../data/logs'), ERROR_LOG_FILE: process.env.ERROR_LOG_FILE || 'error.log', MAX_LOG_SIZE: parseInt(process.env.MAX_ERROR_LOG_SIZE) || 10 * 1024 * 1024, // 10MB MAX_LOG_FILES: parseInt(process.env.MAX_ERROR_LOG_FILES) || 5, NOTIFICATION_THRESHOLD: process.env.ERROR_NOTIFICATION_THRESHOLD || 'error', ENABLE_CONSOLE_OUTPUT: process.env.ERROR_CONSOLE_OUTPUT !== 'false', BUFFER_SIZE: parseInt(process.env.ERROR_BUFFER_SIZE) || 100, FLUSH_INTERVAL: parseInt(process.env.ERROR_FLUSH_INTERVAL) || 5000, // 5 segundos  // Nuevas configuraciones ENABLE_METRICS: process.env.ERROR_METRICS_ENABLED !== 'false', ALERT_THRESHOLD: parseInt(process.env.ERROR_ALERT_THRESHOLD) || 10, // errores por minuto MEMORY_THRESHOLD: parseInt(process.env.ERROR_MEMORY_THRESHOLD) || 100 * 1024 * 1024, // 100MB PERFORMANCE_MONITORING: process.env.ERROR_PERFORMANCE_MONITORING === 'true', STRUCTURED_LOGGING: process.env.ERROR_STRUCTURED_LOGGING !== 'false' };  // Niveles de severidad con colores const SEVERITY_LEVELS = { debug: { level: 0, color: '\x1b[36m', emoji: 'üîç' }, info: { level: 1, color: '\x1b[32m', emoji: '‚ÑπÔ∏è' }, warn: { level: 2, color: '\x1b[33m', emoji: '‚ö†Ô∏è' }, error: { level: 3, color: '\x1b[31m', emoji: '‚ùå' }, critical: { level: 4, color: '\x1b[35m', emoji: 'üö®' } };  // Estado del manager mejorado let logger = null; let isInitialized = false; let errorBuffer = []; let errorCounts = { debug: 0, info: 0, warn: 0, error: 0, critical: 0 }; let errorHistory = []; // Historial para an√°lisis de tendencias let flushTimer = null; let logFilePath = ''; const performanceMetrics = { totalErrors: 0, errorsPerMinute: 0, lastMinuteErrors: [], memoryUsage: 0, startTime: Date.now() };  /** Inicializa el sistema de gesti√≥n de errores con validaciones mejoradas / export async function initializeErrorManager() { try { // Inicializar logger logger = createLogger('ERROR_MANAGER');  // Validar configuraci√≥n if (!validateConfiguration()) { throw new Error('Configuraci√≥n inv√°lida del Error Manager'); }  // Crear directorio de logs si no existe await fs.mkdir(DEFAULT_CONFIG.LOG_DIR, { recursive: true });  logFilePath = path.join(DEFAULT_CONFIG.LOG_DIR, DEFAULT_CONFIG.ERROR_LOG_FILE);  // Verificar permisos de escritura await validateWritePermissions();  // Verificar rotaci√≥n de logs al iniciar await rotateLogIfNeeded();  // Configurar flush autom√°tico if (flushTimer) { clearInterval(flushTimer); }  flushTimer = setInterval(async() => { try { await flushErrorBuffer(); await updatePerformanceMetrics(); } catch (error) { if (logger) logger.error('Error en flush autom√°tico:', error); } }, DEFAULT_CONFIG.FLUSH_INTERVAL);  // Inicializar m√©tricas de rendimiento performanceMetrics.startTime = Date.now();  isInitialized = true;  await logError('info', 'ErrorManager', 'Sistema de gesti√≥n de errores inicializado', { logDir: DEFAULT_CONFIG.LOG_DIR, bufferSize: DEFAULT_CONFIG.BUFFER_SIZE, flushInterval: DEFAULT_CONFIG.FLUSH_INTERVAL, metricsEnabled: DEFAULT_CONFIG.ENABLE_METRICS, performanceMonitoring: DEFAULT_CONFIG.PERFORMANCE_MONITORING });  return { success: true, message: 'Error manager inicializado correctamente' };  } catch (error) { if (logger) logger.error('‚ùå Error cr√≠tico inicializando ErrorManager:', error); return { success: false, error: error.message }; } }  /** Valida la configuraci√≥n del Error Manager 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateWritePermissions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/error_manager.js</div>
                <div class="item-description">Valida permisos de escritura en el directorio de logs</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sanitizeMetadata</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/error_manager.js</div>
                <div class="item-description">Registra un error en el sistema con validaciones mejoradas</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} severity - Nivel de severidad (debug, info, warn, error, critical), {string} module - M√≥dulo que genera el error, {string} message - Mensaje del error, {object} metadata - Metadatos adicionales, {Error} errorObj - Objeto Error original (opcional) / export async function logError(severity = 'error', module = 'Unknown', message = '', metadata = {}, errorObj = null) { try { // Validaciones de entrada mejoradas if (typeof severity !== 'string' || !SEVERITY_LEVELS.hasOwnProperty(severity)) { severity = 'error'; }  if (typeof module !== 'string' || module.trim() === '') { module = 'Unknown'; }  if (typeof message !== 'string') { message = String(message || 'Sin mensaje'); }  if (typeof metadata !== 'object' || metadata === null) { metadata = {}; }  // Crear entrada de error estructurada const errorEntry = { id: generateErrorId(), timestamp: new Date().toISOString(), severity, module: module.trim(), message: message.trim(), metadata: sanitizeMetadata(metadata), stack: errorObj?.stack || null, errorCode: errorObj?.code || null, errorName: errorObj?.name || null, processInfo: { pid: process.pid, memory: process.memoryUsage(), uptime: process.uptime(), nodeVersion: process.version } };  // Agregar informaci√≥n de rendimiento si est√° habilitado if (DEFAULT_CONFIG.PERFORMANCE_MONITORING) { errorEntry.performance = { timestamp: Date.now(), memoryUsage: process.memoryUsage(), cpuUsage: process.cpuUsage() }; }  // Incrementar contadores errorCounts[severity]++; performanceMetrics.totalErrors++;  // Agregar al historial para an√°lisis de tendencias errorHistory.push({ timestamp: Date.now(), severity, module });  // Mantener solo los √∫ltimos 1000 errores en memoria if (errorHistory.length > 1000) { errorHistory = errorHistory.slice(-1000); }  // Agregar al buffer errorBuffer.push(errorEntry);  // Verificar si necesitamos flush inmediato const shouldFlushImmediately = severity === 'critical' || errorBuffer.length >= DEFAULT_CONFIG.BUFFER_SIZE || await checkAlertThreshold();  if (shouldFlushImmediately) { await flushErrorBuffer(); }  // Output a consola si est√° habilitado if (DEFAULT_CONFIG.ENABLE_CONSOLE_OUTPUT) { outputToConsole(errorEntry); }  // Verificar alertas cr√≠ticas if (severity === 'critical') { await handleCriticalError(errorEntry); }  return errorEntry.id;  } catch (error) { // Fallback para errores en el sistema de logging if (logger) { logger.error('‚ùå Error cr√≠tico en logError:', error); logger.error('Datos originales:', { severity, module, message, metadata }); } return null; } }  /** Sanitiza metadatos para evitar problemas de serializaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkAlertThreshold</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/error_manager.js</div>
                <div class="item-description">Verifica si se ha alcanzado el umbral de alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleCriticalError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/error_manager.js</div>
                <div class="item-description">Maneja errores cr√≠ticos con acciones especiales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">outputToConsole</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/error_manager.js</div>
                <div class="item-description">Output mejorado a consola con colores y formato</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updatePerformanceMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/error_manager.js</div>
                <div class="item-description">Actualiza m√©tricas de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">flushErrorBuffer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/error_manager.js</div>
                <div class="item-description">Vuelca el buffer de errores al archivo de log</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">rotateLogIfNeeded</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/error_manager.js</div>
                <div class="item-description">Rota el archivo de log si excede el tama√±o m√°ximo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldLogs</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/error_manager.js</div>
                <div class="item-description">Limpia archivos de log antiguos seg√∫n la pol√≠tica de retenci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateTrend</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/error_manager.js</div>
                <div class="item-description">Obtiene estad√≠sticas mejoradas del sistema de errores / export function getErrorStats() { const uptime = Date.now() - performanceMetrics.startTime; return { counts: { ...errorCounts }, performance: { ...performanceMetrics, uptime, errorsPerHour: Math.round((performanceMetrics.totalErrors / uptime) * 3600000), bufferSize: errorBuffer.length }, configuration: { bufferSize: DEFAULT_CONFIG.BUFFER_SIZE, flushInterval: DEFAULT_CONFIG.FLUSH_INTERVAL, metricsEnabled: DEFAULT_CONFIG.ENABLE_METRICS, performanceMonitoring: DEFAULT_CONFIG.PERFORMANCE_MONITORING }, health: { isInitialized, memoryUsage: process.memoryUsage(), logFileExists: logFilePath ? true : false } }; } /** Obtiene an√°lisis de tendencias de errores / export function getErrorTrends(timeWindow = 3600000) { // 1 hora por defecto const now = Date.now(); const windowStart = now - timeWindow; const recentErrors = errorHistory.filter(error => error.timestamp > windowStart); // Agrupar por severidad const bySeverity = recentErrors.reduce((acc, error) => { acc[error.severity] = (acc[error.severity] || 0) + 1; return acc; }, {}); // Agrupar por m√≥dulo const byModule = recentErrors.reduce((acc, error) => { acc[error.module] = (acc[error.module] || 0) + 1; return acc; }, {}); return { timeWindow, totalErrors: recentErrors.length, bySeverity, byModule, trend: calculateTrend(recentErrors) }; } /** Calcula tendencia de errores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateErrorId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/error_manager.js</div>
                <div class="item-description">Obtiene errores recientes del buffer</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {number} limit - N√∫mero m√°ximo de errores a retornar, {string} severity - Filtrar por severidad (opcional) / export function getRecentErrors(limit = 50, severity = null) { let errors = [...errorBuffer];  if (severity && SEVERITY_LEVELS.hasOwnProperty(severity)) { errors = errors.filter(error => error.severity.toLowerCase() === severity); }  return errors .slice(-limit) .reverse(); // M√°s recientes primero }  /** Lee errores del archivo de log, {number} lines - N√∫mero de l√≠neas a leer desde el final / export async function readErrorLog(lines = 100) { try { const content = await fs.readFile(logFilePath, 'utf8').catch(() => ''); const logLines = content.trim().split('\n').filter(line => line.trim());  const recentLines = logLines.slice(-lines); const errors = [];  for (const line of recentLines) { try { errors.push(JSON.parse(line)); } catch (e) { // L√≠nea malformada, ignorar } }  return { success: true, errors: errors.reverse() };  } catch (error) { return { success: false, error: error.message }; } }  /** Reinicia contadores de errores / export function resetErrorCounts() { errorCounts = { debug: 0, info: 0, warn: 0, error: 0, critical: 0 };  return { success: true, message: 'Contadores de errores reiniciados' }; }  /** Fuerza el volcado del buffer / export async function forceFlush() { await flushErrorBuffer(); return { success: true, message: 'Buffer volcado forzosamente' }; }  /** Genera un ID √∫nico para el error 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/module_communicator.js</div>
                <div class="item-description">Module Communicator - Comunicador central entre m√≥dulos Optimiza la comunicaci√≥n, eventos y dependencias entre todos los m√≥dulos del sistema / import fs from 'fs-extra'; import path from 'path'; import { EventEmitter } from 'events'; import { createLogger } from '../services/core/core/logger.js'; class ModuleCommunicator extends EventEmitter { constructor() { super(); this.baseDir = process.cwd(); this.modulesDir = path.join(this.baseDir, 'src', 'modules'); this.configDir = path.join(this.baseDir, 'config'); this.modules = new Map(); this.moduleStatus = new Map(); this.dependencies = new Map(); this.eventHistory = []; this.maxEventHistory = 1000; this.config = { autoRetry: true, maxRetries: 3, retryDelay: 1000, healthCheckInterval: 30000, eventTimeout: 10000, logLevel: 'info' }; this.isInitialized = false; this.healthCheckTimer = null; this.logger = createLogger('MODULE_COMMUNICATOR'); // Configurar manejo de errores this.setMaxListeners(50); this.on('error', this.handleModuleError.bind(this)); } /** Inicializar el comunicador de m√≥dulos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ensureDirectories</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/module_communicator.js</div>
                <div class="item-description">Asegurar directorios necesarios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/module_communicator.js</div>
                <div class="item-description">Cargar configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/module_communicator.js</div>
                <div class="item-description">Guardar configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">discoverModules</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/module_communicator.js</div>
                <div class="item-description">Descubrir m√≥dulos disponibles</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeModules</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/module_communicator.js</div>
                <div class="item-description">Inicializar todos los m√≥dulos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeModule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/module_communicator.js</div>
                <div class="item-description">Inicializar un m√≥dulo espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupModuleEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/module_communicator.js</div>
                <div class="item-description">Configurar eventos de un m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateInitializationOrder</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/module_communicator.js</div>
                <div class="item-description">Calcular orden de inicializaci√≥n basado en dependencias</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractDependencies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/module_communicator.js</div>
                <div class="item-description">Extraer dependencias de un m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupDependencies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/module_communicator.js</div>
                <div class="item-description">Configurar dependencias entre m√≥dulos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">callModule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/module_communicator.js</div>
                <div class="item-description">Comunicaci√≥n entre m√≥dulos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">broadcastEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/module_communicator.js</div>
                <div class="item-description">Enviar evento a m√≥dulos espec√≠ficos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getModuleStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/module_communicator.js</div>
                <div class="item-description">Obtener estado de un m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAllModulesStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/module_communicator.js</div>
                <div class="item-description">Obtener estado de todos los m√≥dulos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performHealthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/module_communicator.js</div>
                <div class="item-description">Verificar salud de los m√≥dulos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startHealthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/module_communicator.js</div>
                <div class="item-description">Iniciar verificaci√≥n peri√≥dica de salud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopHealthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/module_communicator.js</div>
                <div class="item-description">Detener verificaci√≥n de salud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">retryModuleInitialization</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/module_communicator.js</div>
                <div class="item-description">Reintentar inicializaci√≥n de m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleModuleError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/module_communicator.js</div>
                <div class="item-description">Manejar errores de m√≥dulos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addToEventHistory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/module_communicator.js</div>
                <div class="item-description">Agregar evento al historial</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getEventHistory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/module_communicator.js</div>
                <div class="item-description">Obtener historial de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clearEventHistory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/module_communicator.js</div>
                <div class="item-description">Limpiar historial de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/module_communicator.js</div>
                <div class="item-description">Obtener estad√≠sticas del comunicador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shutdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/module_communicator.js</div>
                <div class="item-description">Cerrar comunicador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shutdownModule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/module_communicator.js</div>
                <div class="item-description">Cerrar un m√≥dulo espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/module_communicator.js</div>
                <div class="item-description">Generar ID √∫nico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">STATS MANAGER - Sistema de m√©tricas y estad√≠sticas Funcionalidades: - M√©tricas de interacci√≥n y conversaci√≥n en tiempo real - Estados de conversaci√≥n y detecci√≥n de intenciones - C√°lculo de efectividad y tasas de conversi√≥n - Reportes agregados por per√≠odo - Persistencia at√≥mica en JSON - An√°lisis de patrones de uso - M√©tricas de rendimiento del sistema</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Sistema Chat Bot v5.0.0<br><strong>@version:</strong> 1.0.0 /  import fs from 'fs/promises'; import path from 'path'; import { fileURLToPath } from 'url'; import { createLogger } from '../services/core/core/logger.js';  const __filename = fileURLToPath(import.meta.url); const __dirname = path.dirname(__filename);  class StatsManager { constructor() { this.logger = createLogger('STATS_MANAGER'); this.dataDir = process.env.DATA_DIR || path.join(__dirname, '../../data'); this.statsFile = path.join(this.dataDir, 'stats.json'); this.isInitialized = false;  // Sistema de mutex para operaciones cr√≠ticas this.operationMutex = false; this.operationQueue = [];  // Configuraci√≥n this.config = { // Persistencia autoSave: process.env.STATS_AUTO_SAVE !== 'false', saveInterval: parseInt(process.env.STATS_SAVE_INTERVAL) || 300, // segundos  // Retenci√≥n de datos retentionDays: parseInt(process.env.STATS_RETENTION_DAYS) || 90, aggregationLevels: ['hourly', 'daily', 'weekly', 'monthly'],  // M√©tricas trackDetailedMetrics: process.env.TRACK_DETAILED_METRICS !== 'false', trackPerformance: process.env.TRACK_PERFORMANCE !== 'false', trackUserBehavior: process.env.TRACK_USER_BEHAVIOR !== 'false',  // Alertas enableAlerts: process.env.STATS_ALERTS !== 'false', errorThreshold: parseInt(process.env.ERROR_THRESHOLD) || 10, responseTimeThreshold: parseInt(process.env.RESPONSE_TIME_THRESHOLD) || 5000 };  // Estado en memoria this.stats = { // M√©tricas b√°sicas totalMessages: 0, totalContacts: 0, totalConversations: 0, totalErrors: 0,  // M√©tricas de tiempo systemStartTime: new Date().toISOString(), lastActivity: null, uptime: 0,  // M√©tricas de interacci√≥n interactions: { total: 0, successful: 0, failed: 0, averageResponseTime: 0, totalResponseTime: 0 },  // Estados de conversaci√≥n conversationStates: { active: 0, completed: 0, abandoned: 0, escalated: 0 },  // Intenciones detectadas intentions: {},  // M√©tricas por per√≠odo periods: { current: { hour: this.getCurrentHour(), day: this.getCurrentDay(), week: this.getCurrentWeek(), month: this.getCurrentMonth() }, hourly: {}, daily: {}, weekly: {}, monthly: {} },  // M√©tricas de rendimiento performance: { memoryUsage: {}, cpuUsage: 0, responseTimeDistribution: { fast: 0,    // < 1s normal: 0,  // 1-3s slow: 0,    // 3-5s verySlow: 0 // > 5s } },  // An√°lisis de usuarios userBehavior: { newUsers: 0, returningUsers: 0, averageSessionLength: 0, mostActiveHours: {}, commonPatterns: {} },  // M√©tricas de efectividad effectiveness: { resolutionRate: 0, satisfactionScore: 0, escalationRate: 0, averageResolutionTime: 0 } };  // Timers y intervalos this.saveTimer = null; this.cleanupTimer = null; this.performanceTimer = null;  // Cache para optimizaci√≥n this.cache = { lastSave: null, isDirty: false, aggregatedData: {} }; }  /** Inicializa el gestor de estad√≠sticas 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeWithMutex</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Ejecuta una operaci√≥n con mutex para evitar condiciones de carrera</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processQueue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Procesa la cola de operaciones secuencialmente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ensureDataDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Asegura que el directorio de datos existe</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Carga las estad√≠sticas desde el archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">mergeStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Fusiona estad√≠sticas guardadas con la estructura por defecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Guarda las estad√≠sticas al archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startAutoSave</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Inicia el guardado autom√°tico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startPerformanceMonitoring</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Inicia el monitoreo de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startCleanupScheduler</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Inicia el programador de limpieza</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Registra un mensaje procesado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordContact</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Registra un nuevo contacto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordConversationState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Registra el estado de una conversaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Registra un error del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateResponseTimeDistribution</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Actualiza la distribuci√≥n de tiempo de respuesta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updatePeriodMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Actualiza m√©tricas por per√≠odo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updatePeriodMetric</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Actualiza una m√©trica espec√≠fica de un per√≠odo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">rotatePeriod</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Rota un per√≠odo (guarda el per√≠odo anterior)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateUserBehavior</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Actualiza el comportamiento del usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateEffectivenessMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Actualiza m√©tricas de efectividad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updatePerformanceMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Actualiza m√©tricas de rendimiento del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateUptime</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Actualiza el tiempo de actividad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkErrorThresholds</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Verifica umbrales de error para alertas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Obtiene estad√≠sticas actuales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAggregatedReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Obtiene reporte agregado por per√≠odo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">resetStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Reinicia estad√≠sticas espec√≠ficas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Limpia datos antiguos seg√∫n pol√≠tica de retenci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">parsePeriodDate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Parsea una fecha de per√≠odo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCurrentHour</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Obtiene el per√≠odo actual por hora</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCurrentDay</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Obtiene el per√≠odo actual por d√≠a</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCurrentWeek</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Obtiene el per√≠odo actual por semana</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCurrentMonth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Obtiene el per√≠odo actual por mes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getWeekNumber</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Calcula el n√∫mero de semana del a√±o</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">markDirty</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Marca las estad√≠sticas como modificadas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">log</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Logging unificado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Logging de errores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shutdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/stats_manager.js</div>
                <div class="item-description">Cierre limpio del gestor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">Universal Logger - Sistema universal de logging y monitoreo Registra logs, mide tiempo de ejecuci√≥n y detecta errores silenciosos / import fs from 'fs-extra'; import path from 'path'; import { EventEmitter } from 'events'; import { ensureDirectories } from '../utils/directory-utils.js'; class UniversalLogger extends EventEmitter { constructor() { super(); this.baseDir = process.cwd(); this.logsDir = path.join(this.baseDir, 'logs'); this.configDir = path.join(this.baseDir, 'config'); this.config = { logLevel: 'info', maxFileSize: 10 * 1024 * 1024, // 10MB maxFiles: 10, rotateDaily: true, enableConsole: true, enableFile: true, enableMetrics: true, enablePerformance: true, enableErrorDetection: true, silentErrorThreshold: 5, // errores por minuto performanceThreshold: 1000, // ms memoryThreshold: 100 * 1024 * 1024 // 100MB }; this.logLevels = { error: 0, warn: 1, info: 2, debug: 3, trace: 4 }; this.logFiles = { error: 'error.log', warn: 'warn.log', info: 'info.log', debug: 'debug.log', performance: 'performance.log', metrics: 'metrics.log', system: 'system.log' }; this.metrics = { totalLogs: 0, errorCount: 0, warnCount: 0, performanceIssues: 0, memoryUsage: [], cpuUsage: [], silentErrors: [], activeTimers: new Map(), sessionStart: Date.now() }; this.timers = new Map(); this.errorPatterns = new Map(); this.performanceData = new Map(); this.isInitialized = false; this.rotationTimer = null; this.metricsTimer = null; this.errorDetectionTimer = null; } /** Inicializar el logger universal</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ensureDirectories</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">Asegurar directorios necesarios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">Cargar configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">Guardar configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">log</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">M√©todo principal de logging</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createLogEntry</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">Crear entrada de log</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldLog</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">Verificar si se debe loggear este nivel</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logToConsole</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">Log a consola</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">colorizeLevel</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">Colorizar nivel de log para consola</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logToFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">Log a archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getLogFileName</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">Obtener nombre de archivo de log</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkFileRotation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">Verificar rotaci√≥n de archivos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">rotateFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">Rotar archivo de log</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanOldFiles</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">Limpiar archivos antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupLogRotation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">Configurar rotaci√≥n autom√°tica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performRotationCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">Realizar verificaci√≥n de rotaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startTimer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">Iniciar timer de medici√≥n de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopTimer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">Detener timer y registrar tiempo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordPerformance</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">Registrar datos de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startMetricsCollection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">Iniciar recolecci√≥n de m√©tricas del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">collectSystemMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">Recolectar m√©tricas del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">Guardar m√©tricas a archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startErrorDetection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">Iniciar detecci√≥n de errores silenciosos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectSilentError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">Detectar error silencioso</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectSilentErrors</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">Detectar errores silenciosos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPerformanceStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">Obtener estad√≠sticas de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSystemMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">Obtener m√©tricas del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCallStack</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">Obtener stack trace</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">Generar ID √∫nico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">error</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">M√©todos de conveniencia para logging</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shutdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/managers/universal_logger.js</div>
                <div class="item-description">Cerrar logger</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/AnalyticsEngine.js</div>
                <div class="item-description">Motor de analytics para procesamiento inteligente de m√©tricas Genera insights, tendencias y predicciones basadas en datos hist√≥ricos / class AnalyticsEngine extends EventEmitter { constructor(config = {}) { super(); this.config = { // Configuraci√≥n general enabled: true, processingInterval: 30000, // 30 segundos retentionPeriod: 7 * 24 * 60 * 60 * 1000, // 7 d√≠as // Configuraci√≥n de an√°lisis analysis: { trends: { enabled: true, windows: [300, 900, 3600, 86400], // 5min, 15min, 1h, 1d threshold: 0.1, // 10% cambio para considerar tendencia smoothing: 0.3 // Factor de suavizado exponencial }, anomalies: { enabled: true, algorithm: 'zscore', // zscore, iqr, isolation sensitivity: 2.5, // Desviaciones est√°ndar minSamples: 10, adaptiveThreshold: true }, patterns: { enabled: true, seasonality: true, cyclical: true, correlation: true, minConfidence: 0.7 }, forecasting: { enabled: true, algorithm: 'linear', // linear, exponential, arima horizon: 3600000, // 1 hora confidence: 0.95 } }, // Configuraci√≥n de insights insights: { enabled: true, categories: ['performance', 'usage', 'errors', 'business'], priority: ['critical', 'high', 'medium', 'low'], autoGenerate: true, threshold: { critical: 0.9, high: 0.7, medium: 0.5, low: 0.3 } }, // Configuraci√≥n de reportes reports: { enabled: true, formats: ['json', 'html', 'pdf'], schedule: { hourly: true, daily: true, weekly: true, monthly: false }, sections: ['summary', 'trends', 'anomalies', 'insights', 'recommendations'] }, // Configuraci√≥n de alertas inteligentes smartAlerts: { enabled: true, learningPeriod: 24 * 60 * 60 * 1000, // 24 horas adaptiveThresholds: true, contextAware: true, suppressDuplicates: true, escalation: true }, ...config }; this.state = 'initialized'; // Almacenamiento de datos procesados this.processedData = new Map(); this.trends = new Map(); this.anomalies = []; this.patterns = new Map(); this.forecasts = new Map(); this.insights = []; // Modelos de machine learning this.models = new Map(); this.baselines = new Map(); this.thresholds = new Map(); // Cache de an√°lisis this.analysisCache = new Map(); this.correlationMatrix = new Map(); // Timers this.processingTimer = null; this.reportTimer = null; // Estad√≠sticas del motor this.engineStats = { startTime: Date.now(), totalAnalyses: 0, totalInsights: 0, totalAnomalies: 0, totalForecasts: 0, processingTime: 0, lastAnalysis: null }; // Configuraci√≥n de algoritmos this.algorithms = { trend: { linear: this._linearTrend.bind(this), exponential: this._exponentialTrend.bind(this), polynomial: this._polynomialTrend.bind(this) }, anomaly: { zscore: this._zscoreAnomaly.bind(this), iqr: this._iqrAnomaly.bind(this), isolation: this._isolationAnomaly.bind(this) }, forecast: { linear: this._linearForecast.bind(this), exponential: this._exponentialForecast.bind(this), arima: this._arimaForecast.bind(this) } }; // Initialize logger this.logger = createLogger('ANALYTICS_ENGINE'); } /** Inicializa el motor de analytics</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/AnalyticsEngine.js</div>
                <div class="item-description">Inicia el procesamiento de analytics</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/AnalyticsEngine.js</div>
                <div class="item-description">Detiene el motor de analytics</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/AnalyticsEngine.js</div>
                <div class="item-description">Procesa m√©tricas y genera an√°lisis</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/AnalyticsEngine.js</div>
                <div class="item-description">Genera un reporte de analytics</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getInsights</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/AnalyticsEngine.js</div>
                <div class="item-description">Obtiene insights espec√≠ficos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAnomalies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/AnalyticsEngine.js</div>
                <div class="item-description">Obtiene anomal√≠as detectadas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getTrends</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/AnalyticsEngine.js</div>
                <div class="item-description">Obtiene tendencias</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getForecasts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/AnalyticsEngine.js</div>
                <div class="item-description">Obtiene pron√≥sticos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCorrelations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/AnalyticsEngine.js</div>
                <div class="item-description">Obtiene correlaciones entre m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStatistics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/AnalyticsEngine.js</div>
                <div class="item-description">Obtiene estad√≠sticas del motor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/AnalyticsEngine.js</div>
                <div class="item-description">Limpia datos antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/AnalyticsEngine.js</div>
                <div class="item-description">Destruye el motor de analytics</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/MetricsCollector.js</div>
                <div class="item-description">Recolector de m√©tricas del sistema Captura autom√°ticamente m√©tricas de rendimiento, uso y eventos / class MetricsCollector extends EventEmitter { constructor(config = {}) { super(); this.config = { // Configuraci√≥n general enabled: true, interval: 5000, // 5 segundos bufferSize: 1000, autoFlush: true, flushInterval: 60000, // 1 minuto // M√©tricas del sistema system: { enabled: true, cpu: true, memory: true, disk: true, network: true, processes: true }, // M√©tricas de aplicaci√≥n application: { enabled: true, requests: true, responses: true, errors: true, performance: true, database: true, cache: true, events: true }, // M√©tricas de negocio business: { enabled: true, users: true, sessions: true, transactions: true, conversions: true, revenue: true }, // Configuraci√≥n de agregaci√≥n aggregation: { enabled: true, windows: [60, 300, 900, 3600], // 1min, 5min, 15min, 1h functions: ['sum', 'avg', 'min', 'max', 'count', 'percentile'], percentiles: [50, 90, 95, 99] }, // Configuraci√≥n de alertas alerts: { enabled: true, thresholds: { cpu: 80, memory: 85, errorRate: 5, responseTime: 1000 }, cooldown: 300000 // 5 minutos }, // Configuraci√≥n de exportaci√≥n export: { enabled: false, format: 'json', // json, csv, prometheus destination: './metrics', compression: true, retention: 30 // d√≠as }, ...config }; this.state = 'initialized'; // Buffers de m√©tricas this.systemMetrics = []; this.applicationMetrics = []; this.businessMetrics = []; this.customMetrics = []; // Datos agregados this.aggregatedData = new Map(); // Contadores y estad√≠sticas this.counters = new Map(); this.gauges = new Map(); this.histograms = new Map(); this.timers = new Map(); // Estado de alertas this.alertStates = new Map(); this.lastAlerts = new Map(); // Timers this.collectionTimer = null; this.flushTimer = null; this.aggregationTimer = null; // M√©tricas de rendimiento this.performanceMarks = new Map(); this.performanceMeasures = []; // Baseline del sistema this.systemBaseline = null; // Estad√≠sticas del recolector this.collectorStats = { startTime: Date.now(), totalCollections: 0, totalMetrics: 0, errors: 0, lastCollection: null, averageCollectionTime: 0 }; // Logger this.logger = createLogger('METRICS_COLLECTOR'); } /** Inicializa el recolector de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/MetricsCollector.js</div>
                <div class="item-description">Inicia la recolecci√≥n de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/MetricsCollector.js</div>
                <div class="item-description">Detiene la recolecci√≥n de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">increment</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/MetricsCollector.js</div>
                <div class="item-description">Incrementa un contador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">decrement</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/MetricsCollector.js</div>
                <div class="item-description">Decrementa un contador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">gauge</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/MetricsCollector.js</div>
                <div class="item-description">Establece un gauge</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">histogram</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/MetricsCollector.js</div>
                <div class="item-description">Registra un valor en un histograma</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startTimer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/MetricsCollector.js</div>
                <div class="item-description">Inicia un timer</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopTimer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/MetricsCollector.js</div>
                <div class="item-description">Detiene un timer y registra la duraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">record</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/MetricsCollector.js</div>
                <div class="item-description">Registra una m√©trica personalizada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/MetricsCollector.js</div>
                <div class="item-description">Registra un evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">markStart</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/MetricsCollector.js</div>
                <div class="item-description">Marca el inicio de una operaci√≥n de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">markEnd</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/MetricsCollector.js</div>
                <div class="item-description">Marca el fin de una operaci√≥n y calcula la duraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/MetricsCollector.js</div>
                <div class="item-description">Obtiene m√©tricas actuales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStatistics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/MetricsCollector.js</div>
                <div class="item-description">Obtiene estad√≠sticas resumidas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">export</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/MetricsCollector.js</div>
                <div class="item-description">Exporta m√©tricas en formato espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/MetricsCollector.js</div>
                <div class="item-description">Limpia m√©tricas antiguas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/MetricsCollector.js</div>
                <div class="item-description">Destruye el recolector</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/ReportGenerator.js</div>
                <div class="item-description">Generador de reportes para m√©tricas y analytics Crea reportes detallados con visualizaciones y an√°lisis / class ReportGenerator extends EventEmitter { constructor(config = {}) { super(); this.config = { // Configuraci√≥n general enabled: true, outputDir: './reports', templateDir: './templates', // Configuraci√≥n de formatos formats: { json: { enabled: true, pretty: true, compression: false }, html: { enabled: true, template: 'default', includeCharts: true, responsive: true, theme: 'light' }, pdf: { enabled: false, format: 'A4', orientation: 'portrait', margins: { top: 20, right: 20, bottom: 20, left: 20 } }, csv: { enabled: true, delimiter: ',', includeHeaders: true }, excel: { enabled: false, worksheets: true, charts: true } }, // Configuraci√≥n de reportes reports: { summary: { enabled: true, sections: ['overview', 'metrics', 'trends', 'alerts'], timeRange: '1h' }, detailed: { enabled: true, sections: ['overview', 'metrics', 'trends', 'anomalies', 'insights', 'forecasts'], timeRange: '24h' }, performance: { enabled: true, sections: ['system', 'application', 'database', 'cache'], timeRange: '1h' }, business: { enabled: true, sections: ['users', 'sessions', 'conversions', 'revenue'], timeRange: '24h' }, custom: { enabled: true, configurable: true } }, // Configuraci√≥n de visualizaciones charts: { enabled: true, library: 'chartjs', // chartjs, d3, plotly types: ['line', 'bar', 'pie', 'scatter', 'heatmap'], colors: ['#3498db', '#e74c3c', '#2ecc71', '#f39c12', '#9b59b6'], responsive: true, animations: true }, // Configuraci√≥n de programaci√≥n scheduling: { enabled: true, cron: { hourly: '0 * * * *', daily: '0 0 * * *', weekly: '0 0 * * 0', monthly: '0 0 1 * *' }, autoCleanup: true, retention: 30 // d√≠as }, // Configuraci√≥n de distribuci√≥n distribution: { enabled: false, email: { enabled: false, recipients: [], subject: 'Analytics Report', attachments: true }, webhook: { enabled: false, url: '', method: 'POST', headers: {} }, storage: { enabled: false, type: 'local', // local, s3, gcs path: './reports' } }, ...config }; this.state = 'initialized'; // Templates de reportes this.templates = new Map(); // Cache de reportes generados this.reportCache = new Map(); // Estad√≠sticas del generador this.generatorStats = { startTime: Date.now(), totalReports: 0, reportsByType: new Map(), reportsByFormat: new Map(), averageGenerationTime: 0, errors: 0, lastGeneration: null }; // Timers de programaci√≥n this.scheduledTimers = new Map(); // Configuraci√≥n de gr√°ficos this.chartConfig = { chartjs: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: true }, tooltip: { enabled: true } } } }; // Logger this.logger = createLogger('REPORT_GENERATOR'); } /** Inicializa el generador de reportes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/ReportGenerator.js</div>
                <div class="item-description">Genera un reporte</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateSummaryReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/ReportGenerator.js</div>
                <div class="item-description">Genera reporte de resumen</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateDetailedReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/ReportGenerator.js</div>
                <div class="item-description">Genera reporte detallado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generatePerformanceReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/ReportGenerator.js</div>
                <div class="item-description">Genera reporte de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateBusinessReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/ReportGenerator.js</div>
                <div class="item-description">Genera reporte de negocio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateCustomReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/ReportGenerator.js</div>
                <div class="item-description">Genera reporte personalizado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scheduleReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/ReportGenerator.js</div>
                <div class="item-description">Programa la generaci√≥n autom√°tica de reportes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unscheduleReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/ReportGenerator.js</div>
                <div class="item-description">Cancela un reporte programado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getReportsList</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/ReportGenerator.js</div>
                <div class="item-description">Obtiene lista de reportes generados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/ReportGenerator.js</div>
                <div class="item-description">Obtiene un reporte espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupReports</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/ReportGenerator.js</div>
                <div class="item-description">Elimina reportes antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStatistics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/ReportGenerator.js</div>
                <div class="item-description">Obtiene estad√≠sticas del generador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/ReportGenerator.js</div>
                <div class="item-description">Destruye el generador de reportes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createMetricsCollector</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/index.js</div>
                <div class="item-description">Configuraci√≥n por defecto del sistema de m√©tricas / const DEFAULT_METRICS_CONFIG = { // Configuraci√≥n general enabled: true, environment: 'development', // Configuraci√≥n del recolector de m√©tricas collector: { enabled: true, interval: 5000, // 5 segundos bufferSize: 1000, autoFlush: true, // M√©tricas del sistema system: { enabled: true, cpu: true, memory: true, disk: true, network: true, processes: true }, // M√©tricas de aplicaci√≥n application: { enabled: true, requests: true, responses: true, errors: true, performance: true, database: true, cache: true, events: true }, // M√©tricas de negocio business: { enabled: true, users: true, sessions: true, transactions: true, conversions: true, revenue: true }, // Configuraci√≥n de agregaci√≥n aggregation: { enabled: true, windows: ['1m', '5m', '15m', '1h', '24h'], functions: ['sum', 'avg', 'min', 'max', 'count'], percentiles: [50, 90, 95, 99] }, // Configuraci√≥n de alertas alerts: { enabled: true, thresholds: { 'cpu.usage': { warning: 70, critical: 90 }, 'memory.usage': { warning: 80, critical: 95 }, 'response.time': { warning: 1000, critical: 5000 }, 'error.rate': { warning: 5, critical: 10 } }, cooldown: 300000 // 5 minutos }, // Configuraci√≥n de exportaci√≥n export: { enabled: true, format: 'json', destination: 'file', compression: false, retention: 7 // d√≠as } }, // Configuraci√≥n del motor de analytics analytics: { enabled: true, // Configuraci√≥n de procesamiento processing: { interval: 60000, // 1 minuto retention: 30 // d√≠as }, // Configuraci√≥n de an√°lisis analysis: { trends: { enabled: true, algorithms: ['linear', 'exponential', 'polynomial'], window: '24h', confidence: 0.95 }, anomalies: { enabled: true, algorithms: ['zscore', 'iqr', 'isolation_forest'], sensitivity: 0.05, window: '1h' }, patterns: { enabled: true, seasonality: true, correlations: true, cyclical: true, threshold: 0.7 }, forecasts: { enabled: true, algorithms: ['linear', 'exponential', 'arima'], horizon: '24h', confidence: 0.8 } }, // Configuraci√≥n de insights insights: { enabled: true, categories: ['performance', 'usage', 'errors', 'business'], priority: ['high', 'medium', 'low'], autoGenerate: true, threshold: 0.1 }, // Configuraci√≥n de reportes reports: { enabled: true, formats: ['json', 'html'], scheduling: { hourly: true, daily: true, weekly: false, monthly: false }, sections: ['overview', 'trends', 'anomalies', 'insights'] }, // Configuraci√≥n de alertas inteligentes smartAlerts: { enabled: true, ml: { enabled: false, model: 'isolation_forest', training: 'online' }, adaptive: { enabled: true, learning: true, adjustment: 0.1 } } }, // Configuraci√≥n del generador de reportes reports: { enabled: true, outputDir: './reports', templateDir: './templates', // Configuraci√≥n de formatos formats: { json: { enabled: true, pretty: true, compression: false }, html: { enabled: true, template: 'default', includeCharts: true, responsive: true, theme: 'light' }, pdf: { enabled: false, format: 'A4', orientation: 'portrait' }, csv: { enabled: true, delimiter: ',', includeHeaders: true } }, // Configuraci√≥n de tipos de reportes types: { summary: { enabled: true, sections: ['overview', 'metrics', 'trends', 'alerts'], timeRange: '1h' }, detailed: { enabled: true, sections: ['overview', 'metrics', 'trends', 'anomalies', 'insights', 'forecasts'], timeRange: '24h' }, performance: { enabled: true, sections: ['system', 'application', 'database', 'cache'], timeRange: '1h' }, business: { enabled: true, sections: ['users', 'sessions', 'conversions', 'revenue'], timeRange: '24h' } }, // Configuraci√≥n de visualizaciones charts: { enabled: true, library: 'chartjs', types: ['line', 'bar', 'pie', 'scatter', 'heatmap'], colors: ['#3498db', '#e74c3c', '#2ecc71', '#f39c12', '#9b59b6'], responsive: true, animations: true }, // Configuraci√≥n de programaci√≥n scheduling: { enabled: true, cron: { hourly: '0 * * * *', daily: '0 0 * * *', weekly: '0 0 * * 0', monthly: '0 0 1 * *' }, autoCleanup: true, retention: 30 // d√≠as }, // Configuraci√≥n de distribuci√≥n distribution: { enabled: false, email: { enabled: false, recipients: [], subject: 'Analytics Report' }, webhook: { enabled: false, url: '', method: 'POST' }, storage: { enabled: false, type: 'local', path: './reports' } } } }; /** Funciones de f√°brica para crear instancias de componentes / /** Crea una instancia del recolector de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createAnalyticsEngine</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/index.js</div>
                <div class="item-description">Crea una instancia del motor de analytics</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createReportGenerator</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/index.js</div>
                <div class="item-description">Crea una instancia del generador de reportes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createMetricsSystem</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/index.js</div>
                <div class="item-description">Crea un sistema completo de m√©tricas y analytics</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/index.js</div>
                <div class="item-description">Utilidades para el sistema de m√©tricas / const MetricsUtils = { /** Valida una configuraci√≥n de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">mergeConfigs</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/index.js</div>
                <div class="item-description">Combina configuraciones de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createDevelopmentConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/index.js</div>
                <div class="item-description">Crea una configuraci√≥n optimizada para desarrollo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createProductionConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/index.js</div>
                <div class="item-description">Crea una configuraci√≥n optimizada para producci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSystemInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/index.js</div>
                <div class="item-description">Obtiene informaci√≥n del sistema de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">formatStatistics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/metrics/index.js</div>
                <div class="item-description">Formatea estad√≠sticas para mostrar</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">parseSize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/middleware/security.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Middleware de Seguridad  Middleware centralizado para manejo de seguridad HTTP, extra√≠do del archivo server.js monol√≠tico para mejorar la modularidad. <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0 /  import helmet from 'helmet'; import cors from 'cors'; import { createLogger } from '../services/core/core/logger.js';  const logger = createLogger('SECURITY_MIDDLEWARE');  /** Configuraci√≥n de CORS / const CORS_CONFIG = { origin: process.env.ALLOWED_ORIGINS ? process.env.ALLOWED_ORIGINS.split(',') : ['http://localhost:3000', 'http://localhost:3001'], credentials: true, methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS'], allowedHeaders: ['Content-Type', 'Authorization', 'X-API-Key'], exposedHeaders: ['X-Total-Count', 'X-Page-Count'] };  /** Configuraci√≥n de Helmet para seguridad HTTP / const HELMET_CONFIG = { contentSecurityPolicy: { directives: { defaultSrc: ["'self'"], styleSrc: ["'self'", "'unsafe-inline'", "https://fonts.googleapis.com"], fontSrc: ["'self'", "https://fonts.gstatic.com"], imgSrc: ["'self'", "data:", "https:"], scriptSrc: ["'self'"], connectSrc: ["'self'", "wss:", "ws:"], frameSrc: ["'none'"], objectSrc: ["'none'"], baseUri: ["'self'"], formAction: ["'self'"] } }, crossOriginEmbedderPolicy: false, crossOriginResourcePolicy: { policy: "cross-origin" } };  /** Middleware de CORS configurado / export const corsMiddleware = cors(CORS_CONFIG);  /** Middleware de Helmet para seguridad HTTP / export const helmetMiddleware = helmet(HELMET_CONFIG);  /** Middleware para logging de requests <br><strong>@param:</strong> {Object} req - Request object, {Object} res - Response object, {Function} next - Next middleware function / export const requestLogger = (req, res, next) => { const start = Date.now(); const { method, url, ip } = req; const userAgent = req.get('User-Agent') || 'Unknown';  // Log del request entrante logger.info(`${method} ${url} - IP: ${ip} - User-Agent: ${userAgent}`);  // Interceptar la respuesta para logging const originalSend = res.send; res.send = function(data) { const duration = Date.now() - start; const { statusCode } = res;  // Log de la respuesta logger.info(`${method} ${url} - ${statusCode} - ${duration}ms`);  // Log de errores (4xx, 5xx) if (statusCode >= 400) { logger.warn(`Error Response: ${method} ${url} - ${statusCode} - ${duration}ms`); }  originalSend.call(this, data); };  next(); };  /** Middleware para validaci√≥n de Content-Type , {Array} allowedTypes - Tipos de contenido permitidos, {Object} req - Request object, {Object} res - Response object, {Function} next - Next middleware function / export const sanitizeHeaders = (req, res, next) => { try { // Remover headers potencialmente peligrosos const dangerousHeaders = [ 'x-forwarded-host', 'x-forwarded-server', 'x-real-ip' ];  dangerousHeaders.forEach(header => { if (req.headers[header]) { delete req.headers[header]; } });  // Agregar headers de seguridad a la respuesta res.setHeader('X-Content-Type-Options', 'nosniff'); res.setHeader('X-Frame-Options', 'DENY'); res.setHeader('X-XSS-Protection', '1; mode=block'); res.setHeader('Referrer-Policy', 'strict-origin-when-cross-origin');  next(); } catch (error) { logger.error('Error en sanitizaci√≥n de headers:', error); next(); } };  /** Middleware para manejo de errores de seguridad , {Error} err - Error object, {Object} req - Request object, {Object} res - Response object, {Function} next - Next middleware function / export const securityErrorHandler = (err, req, res, next) => { // Log del error de seguridad logger.error('Error de seguridad:', { error: err.message, stack: err.stack, url: req.url, method: req.method, ip: req.ip, userAgent: req.get('User-Agent') });  // Respuesta gen√©rica para no exponer informaci√≥n sensible if (!res.headersSent) { res.status(500).json({ success: false, error: 'Error interno del servidor', timestamp: new Date().toISOString() }); } };  /** Middleware para validaci√≥n de tama√±o de payload , {Object} options - Opciones de validaci√≥n, {String} size - Tama√±o en formato string (ej: "10mb")<br><strong>@returns:</strong> {Function} Middleware function / export const validateContentType = (allowedTypes = ['application/json']) => { return (req, res, next) => { // Solo validar para m√©todos que env√≠an datos if (!['POST', 'PUT', 'PATCH'].includes(req.method)) { return next(); }  const contentType = req.get('Content-Type');  if (!contentType) { return res.status(400).json({ success: false, error: 'Content-Type header requerido' }); }  const isValidType = allowedTypes.some(type => contentType.toLowerCase().includes(type.toLowerCase()) );  if (!isValidType) { return res.status(415).json({ success: false, error: `Content-Type no soportado. Tipos permitidos: ${allowedTypes.join(', ')}` }); }  next(); }; };  /** Middleware para sanitizaci√≥n de headers , {Function} Middleware function / export const validatePayloadSize = (options = {}) => { const { maxSize = '10mb' } = options;  return (req, res, next) => { const contentLength = req.get('Content-Length');  if (contentLength) { const sizeInBytes = parseInt(contentLength); const maxSizeInBytes = parseSize(maxSize);  if (sizeInBytes > maxSizeInBytes) { logger.warn(`Payload demasiado grande: ${sizeInBytes} bytes desde ${req.ip}`); return res.status(413).json({ success: false, error: 'Payload demasiado grande', maxSize: maxSize }); } }  next(); }; };  /** Funci√≥n auxiliar para parsear tama√±os , {Number} Tama√±o en bytes 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_initializeAPI</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">API est√°ndar para plugins con herramientas y utilidades / class PluginAPI extends EventEmitter { constructor(context) { super(); this.context = context; this.name = context.name; this.version = context.version; this.config = context.config; this.metadata = context.metadata; // Estado del plugin this.state = { initialized: false, running: false, error: null }; // Recursos del plugin this.resources = { timers: new Set(), intervals: new Set(), listeners: new Map(), watchers: new Set(), connections: new Set() }; // Cache local del plugin this.cache = new Map(); // M√©tricas del plugin this.metrics = { startTime: null, uptime: 0, requests: 0, errors: 0, warnings: 0, lastActivity: null }; // Configuraci√≥n de la API this.apiConfig = { autoCleanup: true, trackMetrics: true, enableLogging: true, maxCacheSize: 100, maxListeners: 50 }; this._initializeAPI(); } /** Inicializa la API del plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupAutoCleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Configura la limpieza autom√°tica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupMetricsTracking</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Configura el seguimiento de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Inicializa el plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Inicia el plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Detiene el plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Destruye el plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">configure</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Configura el plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setTimeout</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Registra un timer</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setInterval</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Registra un interval</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clearTimeout</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Limpia un timer</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clearInterval</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Limpia un interval</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addEventListener</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Registra un listener de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">removeEventListener</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Remueve un listener de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Almacena datos en cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Obtiene datos del cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deleteCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Elimina datos del cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clearCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Limpia el cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_cleanupCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Limpia el cache expirado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">log</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Registra un mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">emitEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Emite un evento del plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">listenToPlugin</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Escucha eventos de otros plugins</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPlugin</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Obtiene otro plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPlugins</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Obtiene todos los plugins</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addHook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">A√±ade un hook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">removeHook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Remueve un hook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeHook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Ejecuta un hook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createTimeoutPromise</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Crea una promesa con timeout</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">debounce</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Crea un debounce</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">throttle</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Crea un throttle</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Obtiene el estado del plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Obtiene las m√©tricas del plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Obtiene informaci√≥n del plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_cleanupResources</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Limpia todos los recursos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Valida la configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createSafeProxy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Crea un proxy para acceso seguro a propiedades</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">onInitialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">Clase base para plugins / class BasePlugin extends PluginAPI { constructor(context) { super(context); } /** M√©todo de inicializaci√≥n personalizable</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">onStart</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">M√©todo de inicio personalizable</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">onStop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">M√©todo de parada personalizable</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">onDestroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">M√©todo de destrucci√≥n personalizable</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">onConfigure</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginAPI.js</div>
                <div class="item-description">M√©todo de configuraci√≥n personalizable</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_initializeManager</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Gestor de plugins extensible con carga din√°mica y gesti√≥n de dependencias / class PluginManager extends EventEmitter { constructor(config = {}) { super(); this.config = { enabled: true, autoLoad: true, autoStart: false, pluginDir: './plugins', configDir: './config/plugins', tempDir: './temp/plugins', maxPlugins: 100, loadTimeout: 30000, startTimeout: 10000, stopTimeout: 5000, allowRemotePlugins: false, sandboxed: true, validateSignatures: false, // Configuraci√≥n de dependencias dependencies: { autoResolve: true, allowCircular: false, maxDepth: 10, timeout: 15000 }, // Configuraci√≥n de hooks hooks: { enabled: true, timeout: 5000, maxListeners: 50 }, // Configuraci√≥n de seguridad security: { allowNativeModules: false, allowFileSystem: false, allowNetwork: false, allowProcess: false, memoryLimit: 100 * 1024 * 1024, // 100MB cpuLimit: 1000 // ms }, // Configuraci√≥n de cache cache: { enabled: true, ttl: 3600000, // 1 hora maxSize: 50 }, ...config }; // Estado del gestor this.state = { initialized: false, running: false, loading: false }; // Almacenamiento de plugins this.plugins = new Map(); this.pluginConfigs = new Map(); this.pluginStates = new Map(); this.pluginDependencies = new Map(); this.pluginMetadata = new Map(); // Gesti√≥n de hooks this.hooks = new Map(); this.hookListeners = new Map(); // Cache y estad√≠sticas this.cache = new Map(); this.statistics = { totalPlugins: 0, loadedPlugins: 0, activePlugins: 0, failedPlugins: 0, loadTime: 0, startTime: 0, errors: 0, warnings: 0 }; // Timers y limpieza this.timers = new Map(); this.cleanupInterval = null; // Require personalizado para plugins this.pluginRequire = null; this._initializeManager(); } /** Inicializa el gestor de plugins</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_createDirectories</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Crea los directorios necesarios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupPluginRequire</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Configura el require personalizado para plugins</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupDefaultHooks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Configura hooks por defecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupCleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Configura la limpieza autom√°tica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Inicia el gestor de plugins</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Detiene el gestor de plugins</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadPlugin</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Carga un plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_loadPluginMetadata</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Carga los metadatos de un plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_validatePlugin</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Valida un plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_isValidVersion</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Valida una versi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_validatePermissions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Valida permisos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_resolveDependencies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Resuelve las dependencias de un plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_isVersionCompatible</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Verifica si una versi√≥n es compatible</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_compareVersions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Compara dos versiones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_loadPluginConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Carga la configuraci√≥n de un plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_loadPluginModule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Carga el m√≥dulo de un plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_createPluginInstance</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Crea una instancia del plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_createPluginContext</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Crea el contexto para un plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_validatePluginInterface</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Valida la interfaz de un plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startPlugin</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Inicia un plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopPlugin</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Detiene un plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unloadPlugin</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Descarga un plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadAllPlugins</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Carga todos los plugins disponibles</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startAllPlugins</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Inicia todos los plugins cargados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopAllPlugins</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Detiene todos los plugins activos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unloadAllPlugins</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Descarga todos los plugins</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executeWithTimeout</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Ejecuta una operaci√≥n con timeout</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addHook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">A√±ade un hook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">removeHook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Remueve un hook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executeHook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Ejecuta un hook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPlugin</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Obtiene un plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPlugins</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Obtiene todos los plugins</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPluginState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Obtiene el estado de un plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPluginMetadata</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Obtiene los metadatos de un plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPluginConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Obtiene la configuraci√≥n de un plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPluginDependencies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Obtiene las dependencias de un plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStatistics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Obtiene estad√≠sticas del gestor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_cleanupCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Limpia el cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">enable</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Habilita el gestor de plugins</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">disable</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Deshabilita el gestor de plugins</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginManager.js</div>
                <div class="item-description">Destruye el gestor de plugins</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_initializeRegistry</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Registro de plugins para descubrimiento y gesti√≥n de versiones / class PluginRegistry extends EventEmitter { constructor(config = {}) { super(); this.config = { enabled: true, registryFile: './config/plugin-registry.json', cacheFile: './cache/plugin-cache.json', autoSave: true, autoLoad: true, validateChecksums: true, allowDuplicates: false, maxVersions: 5, // Configuraci√≥n de b√∫squeda search: { enabled: true, indexFields: ['name', 'description', 'tags', 'author'], fuzzySearch: true, maxResults: 50 }, // Configuraci√≥n de cache cache: { enabled: true, ttl: 3600000, // 1 hora maxSize: 1000 }, // Configuraci√≥n de validaci√≥n validation: { strictMode: false, requireDescription: false, requireAuthor: false, requireLicense: false, maxNameLength: 100, maxDescriptionLength: 500 }, ...config }; // Estado del registro this.state = { initialized: false, loading: false, saving: false }; // Almacenamiento de plugins this.plugins = new Map(); this.versions = new Map(); this.tags = new Map(); this.authors = new Map(); this.categories = new Map(); // √çndices para b√∫squeda this.searchIndex = new Map(); this.nameIndex = new Map(); this.versionIndex = new Map(); // Cache y estad√≠sticas this.cache = new Map(); this.statistics = { totalPlugins: 0, totalVersions: 0, totalAuthors: 0, totalTags: 0, totalCategories: 0, lastUpdate: null, searchQueries: 0, cacheHits: 0, cacheMisses: 0 }; // Timers this.saveTimer = null; this.cacheCleanupTimer = null; this._initializeRegistry(); } /** Inicializa el registro</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_createDirectories</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Crea los directorios necesarios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupCleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Configura la limpieza autom√°tica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerPlugin</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Registra un plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_validatePluginData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Valida los datos de un plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_isValidVersion</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Valida una versi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_generatePluginId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Genera un ID √∫nico para el plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_calculateChecksum</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Calcula el checksum de un plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_updateIndices</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Actualiza los √≠ndices de b√∫squeda</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_compareVersions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Compara dos versiones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unregisterPlugin</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Desregistra un plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_removeFromIndices</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Remueve un plugin de los √≠ndices</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">search</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Busca plugins</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_fuzzyMatch</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">B√∫squeda fuzzy simple</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPlugin</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Obtiene un plugin por ID</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPluginByNameAndVersion</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Obtiene un plugin por nombre y versi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getLatestVersion</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Obtiene la √∫ltima versi√≥n de un plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getVersions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Obtiene todas las versiones de un plugin</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPluginsByAuthor</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Obtiene plugins por autor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPluginsByTag</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Obtiene plugins por tag</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPluginsByCategory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Obtiene plugins por categor√≠a</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAllPlugins</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Obtiene todos los plugins</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAllAuthors</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Obtiene todos los autores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAllTags</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Obtiene todos los tags</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAllCategories</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Obtiene todas las categor√≠as</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_updateStatistics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Actualiza las estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStatistics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Obtiene estad√≠sticas del registro</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_generateCacheKey</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Genera una clave de cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_cleanupCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Limpia el cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_scheduleSave</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Programa el guardado autom√°tico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">save</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Guarda el registro</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">load</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Carga el registro</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_rebuildIndices</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Reconstruye los √≠ndices</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clear</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Limpia el registro</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">enable</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Habilita el registro</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">disable</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Deshabilita el registro</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/PluginRegistry.js</div>
                <div class="item-description">Destruye el registro</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createPluginManager</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/index.js</div>
                <div class="item-description">Configuraci√≥n por defecto para el sistema de plugins / const DEFAULT_PLUGIN_CONFIG = { manager: { enabled: true, autoLoad: true, autoStart: false, pluginDir: './plugins', configDir: './config/plugins', tempDir: './temp/plugins', maxPlugins: 100, loadTimeout: 30000, startTimeout: 10000, stopTimeout: 5000, allowRemotePlugins: false, sandboxed: true, validateSignatures: false, dependencies: { autoResolve: true, allowCircular: false, maxDepth: 10, timeout: 15000 }, hooks: { enabled: true, timeout: 5000, maxListeners: 50 }, security: { allowNativeModules: false, allowFileSystem: false, allowNetwork: false, allowProcess: false, memoryLimit: 100 * 1024 * 1024, cpuLimit: 1000 }, cache: { enabled: true, ttl: 3600000, maxSize: 50 } }, registry: { enabled: true, registryFile: './config/plugin-registry.json', cacheFile: './cache/plugin-cache.json', autoSave: true, autoLoad: true, validateChecksums: true, allowDuplicates: false, maxVersions: 5, search: { enabled: true, indexFields: ['name', 'description', 'tags', 'author'], fuzzySearch: true, maxResults: 50 }, cache: { enabled: true, ttl: 3600000, maxSize: 1000 }, validation: { strictMode: false, requireDescription: false, requireAuthor: false, requireLicense: false, maxNameLength: 100, maxDescriptionLength: 500 } } }; /** Funciones de f√°brica para crear instancias de componentes / /** Crea una instancia del gestor de plugins</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createPluginRegistry</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/index.js</div>
                <div class="item-description">Crea una instancia del registro de plugins</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createPluginAPI</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/index.js</div>
                <div class="item-description">Crea una instancia de PluginAPI</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createPluginSystem</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/index.js</div>
                <div class="item-description">Crea un sistema completo de plugins</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/index.js</div>
                <div class="item-description">Utilidades para el sistema de plugins / const PluginUtils = { /** Valida la configuraci√≥n del sistema de plugins</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createDevelopmentConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/index.js</div>
                <div class="item-description">Crea una configuraci√≥n optimizada para desarrollo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createProductionConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/index.js</div>
                <div class="item-description">Crea una configuraci√≥n optimizada para producci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSystemInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/index.js</div>
                <div class="item-description">Obtiene informaci√≥n del sistema de plugins</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">formatStatistics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/index.js</div>
                <div class="item-description">Formatea estad√≠sticas para visualizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateColors</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/index.js</div>
                <div class="item-description">Genera colores para visualizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateUsageStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/plugins/index.js</div>
                <div class="item-description">Calcula estad√≠sticas de uso</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getModel</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/BaseRepository.js</div>
                <div class="item-description">===================================================== ChatBot Enterprise - Base Repository ===================================================== Repositorio base que proporciona operaciones CRUD comunes para todas las entidades usando Prisma ORM. / import { getPrismaService } from '../services/database/PrismaService.js'; class BaseRepository { constructor(modelName) { this.modelName = modelName; this.prismaService = getPrismaService(); } /** Obtener el modelo de Prisma</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">create</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/BaseRepository.js</div>
                <div class="item-description">Crear un nuevo registro</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">findById</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/BaseRepository.js</div>
                <div class="item-description">Buscar por ID</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">findByUuid</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/BaseRepository.js</div>
                <div class="item-description">Buscar por UUID</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">findOne</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/BaseRepository.js</div>
                <div class="item-description">Buscar uno por criterios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">findMany</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/BaseRepository.js</div>
                <div class="item-description">Buscar m√∫ltiples registros</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">findWithPagination</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/BaseRepository.js</div>
                <div class="item-description">Buscar con paginaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateById</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/BaseRepository.js</div>
                <div class="item-description">Actualizar por ID</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateMany</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/BaseRepository.js</div>
                <div class="item-description">Actualizar m√∫ltiples registros</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deleteById</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/BaseRepository.js</div>
                <div class="item-description">Eliminar por ID</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deleteMany</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/BaseRepository.js</div>
                <div class="item-description">Eliminar m√∫ltiples registros</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">count</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/BaseRepository.js</div>
                <div class="item-description">Contar registros</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">exists</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/BaseRepository.js</div>
                <div class="item-description">Verificar si existe</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">upsert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/BaseRepository.js</div>
                <div class="item-description">Upsert (crear o actualizar)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">findOrCreate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/BaseRepository.js</div>
                <div class="item-description">Buscar o crear</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">searchText</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/BaseRepository.js</div>
                <div class="item-description">B√∫squeda de texto completo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/BaseRepository.js</div>
                <div class="item-description">Obtener estad√≠sticas b√°sicas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">transaction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/BaseRepository.js</div>
                <div class="item-description">Ejecutar transacci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeRaw</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/BaseRepository.js</div>
                <div class="item-description">Ejecutar query raw</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createConversation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/ConversationRepository.js</div>
                <div class="item-description">===================================================== ChatBot Enterprise - Conversation Repository ===================================================== Repositorio para gestionar operaciones de conversaciones con funcionalidades espec√≠ficas del dominio. / import BaseRepository from './BaseRepository.js'; class ConversationRepository extends BaseRepository { constructor() { super('conversation'); } /** Crear conversaci√≥n con contacto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getActiveConversations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/ConversationRepository.js</div>
                <div class="item-description">Obtener conversaciones activas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getConversationsByAgent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/ConversationRepository.js</div>
                <div class="item-description">Obtener conversaciones por agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getConversationsByContact</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/ConversationRepository.js</div>
                <div class="item-description">Obtener conversaciones por contacto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">assignToAgent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/ConversationRepository.js</div>
                <div class="item-description">Asignar conversaci√≥n a agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">changeStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/ConversationRepository.js</div>
                <div class="item-description">Cambiar estado de conversaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">changePriority</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/ConversationRepository.js</div>
                <div class="item-description">Cambiar prioridad de conversaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateLastMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/ConversationRepository.js</div>
                <div class="item-description">Actualizar √∫ltimo mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">incrementMessageCount</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/ConversationRepository.js</div>
                <div class="item-description">Incrementar contador de mensajes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPendingConversations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/ConversationRepository.js</div>
                <div class="item-description">Obtener conversaciones pendientes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getConversationStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/ConversationRepository.js</div>
                <div class="item-description">Obtener estad√≠sticas de conversaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">searchConversations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/ConversationRepository.js</div>
                <div class="item-description">Buscar conversaciones con filtros avanzados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getConversationWithMessages</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/ConversationRepository.js</div>
                <div class="item-description">Obtener conversaci√≥n con mensajes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">closeInactiveConversations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/ConversationRepository.js</div>
                <div class="item-description">Cerrar conversaciones inactivas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">findByEmail</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/UserRepository.js</div>
                <div class="item-description">===================================================== ChatBot Enterprise - User Repository ===================================================== Repositorio para gestionar operaciones de usuarios con funcionalidades espec√≠ficas del dominio. / import BaseRepository from './BaseRepository.js'; import bcrypt from 'bcrypt'; class UserRepository extends BaseRepository { constructor() { super('user'); } /** Buscar usuario por email</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createUser</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/UserRepository.js</div>
                <div class="item-description">Crear usuario con password hasheado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">verifyCredentials</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/UserRepository.js</div>
                <div class="item-description">Verificar credenciales de usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">changePassword</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/UserRepository.js</div>
                <div class="item-description">Cambiar password de usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getActiveUsers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/UserRepository.js</div>
                <div class="item-description">Obtener usuarios activos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getUsersByRole</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/UserRepository.js</div>
                <div class="item-description">Obtener usuarios por rol</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAvailableAgents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/UserRepository.js</div>
                <div class="item-description">Obtener agentes disponibles</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getUserStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/UserRepository.js</div>
                <div class="item-description">Obtener estad√≠sticas de usuarios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deactivateUser</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/UserRepository.js</div>
                <div class="item-description">Desactivar usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">activateUser</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/UserRepository.js</div>
                <div class="item-description">Activar usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updatePermissions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/UserRepository.js</div>
                <div class="item-description">Actualizar permisos de usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">searchUsers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/repositories/UserRepository.js</div>
                <div class="item-description">Buscar usuarios con filtros avanzados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateDashboardMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/routes/dashboard/index.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Rutas del Dashboard  M√≥dulo que maneja todas las rutas relacionadas con el dashboard, extra√≠do del archivo server.js monol√≠tico para mejorar la modularidad. <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0 /  import express from 'express'; import fs from 'fs'; import path from 'path'; import { createLogger } from '../../services/core/core/logger.js';  const logger = createLogger('DASHBOARD');  const router = express.Router();  /** Funci√≥n para generar m√©tricas din√°micas del dashboard 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SandboxManager.js</div>
                <div class="item-description">Manager para m√∫ltiples entornos sandbox Coordina la creaci√≥n, gesti√≥n y limpieza de sandboxes seguros / export class SandboxManager extends EventEmitter { constructor(options = {}) { super(); this.config = { // Configuraci√≥n de sandboxes maxSandboxes: options.maxSandboxes || 10, defaultTimeout: options.defaultTimeout || 5000, defaultMemoryLimit: options.defaultMemoryLimit || 50 * 1024 * 1024, // Configuraci√≥n de limpieza cleanupInterval: options.cleanupInterval || 300000, // 5 minutos maxIdleTime: options.maxIdleTime || 600000, // 10 minutos // Configuraci√≥n de perfiles profiles: { // Perfil b√°sico para pruebas simples basic: { timeout: 3000, memoryLimit: 10 * 1024 * 1024, // 10MB allowedModules: ['crypto', 'util'], allowFileSystem: false, allowNetwork: false, allowProcess: false }, // Perfil est√°ndar para desarrollo standard: { timeout: 5000, memoryLimit: 50 * 1024 * 1024, // 50MB allowedModules: ['crypto', 'util', 'events', 'stream', 'buffer'], allowFileSystem: false, allowNetwork: false, allowProcess: true }, // Perfil avanzado para testing testing: { timeout: 10000, memoryLimit: 100 * 1024 * 1024, // 100MB allowedModules: ['crypto', 'util', 'events', 'stream', 'buffer', 'assert'], allowFileSystem: true, allowNetwork: false, allowProcess: true, customGlobals: { test: true, jest: global.jest || undefined } }, // Perfil de desarrollo con m√°s permisos development: { timeout: 15000, memoryLimit: 200 * 1024 * 1024, // 200MB allowedModules: ['crypto', 'util', 'events', 'stream', 'buffer', 'path', 'url'], allowFileSystem: true, allowNetwork: true, allowProcess: true } }, ...options }; this.sandboxes = new Map(); this.sandboxStats = new Map(); this.cleanupTimer = null; this.initialize(); } /** Inicializar el manager</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupCleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SandboxManager.js</div>
                <div class="item-description">Configurar limpieza autom√°tica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventHandlers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SandboxManager.js</div>
                <div class="item-description">Configurar manejo de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createSandbox</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SandboxManager.js</div>
                <div class="item-description">Crear un nuevo sandbox</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupSandboxEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SandboxManager.js</div>
                <div class="item-description">Configurar eventos del sandbox</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSandbox</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SandboxManager.js</div>
                <div class="item-description">Obtener sandbox por ID</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">execute</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SandboxManager.js</div>
                <div class="item-description">Ejecutar c√≥digo en un sandbox</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeTemporary</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SandboxManager.js</div>
                <div class="item-description">Ejecutar c√≥digo con sandbox temporal</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateSandboxStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SandboxManager.js</div>
                <div class="item-description">Actualizar estad√≠sticas del sandbox</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSandboxStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SandboxManager.js</div>
                <div class="item-description">Obtener estad√≠sticas de un sandbox</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getGlobalStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SandboxManager.js</div>
                <div class="item-description">Obtener estad√≠sticas globales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">listSandboxes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SandboxManager.js</div>
                <div class="item-description">Listar todos los sandboxes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupIdleSandboxes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SandboxManager.js</div>
                <div class="item-description">Limpiar sandboxes inactivos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroySandbox</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SandboxManager.js</div>
                <div class="item-description">Destruir un sandbox</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroyAll</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SandboxManager.js</div>
                <div class="item-description">Destruir todos los sandboxes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shutdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SandboxManager.js</div>
                <div class="item-description">Apagar el manager</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SecureSandbox.js</div>
                <div class="item-description">Entorno Sandbox Seguro para ejecuci√≥n de c√≥digo Proporciona un entorno aislado y controlado para ejecutar c√≥digo de terceros / export class SecureSandbox extends EventEmitter { constructor(options = {}) { super(); this.config = { // L√≠mites de seguridad timeout: options.timeout || 5000, memoryLimit: options.memoryLimit || 50 * 1024 * 1024, // 50MB maxCallStack: options.maxCallStack || 1000, // Configuraci√≥n de acceso allowedModules: options.allowedModules || [ 'crypto', 'util', 'events', 'stream', 'buffer' ], blockedModules: options.blockedModules || [ 'fs', 'child_process', 'cluster', 'dgram', 'dns', 'net', 'tls', 'http', 'https' ], allowFileSystem: options.allowFileSystem || false, allowNetwork: options.allowNetwork || false, allowProcess: options.allowProcess || false, // Configuraci√≥n de logging logExecution: options.logExecution || true, logErrors: options.logErrors || true, // Configuraci√≥n de contexto customGlobals: options.customGlobals || {}, strictMode: options.strictMode !== false, ...options }; this.contexts = new Map(); this.executionStats = { totalExecutions: 0, successfulExecutions: 0, failedExecutions: 0, averageExecutionTime: 0, memoryUsage: 0 }; this.initialize(); } /** Inicializar el sandbox</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupGlobalLimits</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SecureSandbox.js</div>
                <div class="item-description">Configurar l√≠mites globales del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createBaseContext</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SecureSandbox.js</div>
                <div class="item-description">Crear contexto base seguro</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createSecureConsole</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SecureSandbox.js</div>
                <div class="item-description">Crear console seguro con logging controlado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createLimitedTimeout</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SecureSandbox.js</div>
                <div class="item-description">Crear setTimeout limitado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createLimitedInterval</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SecureSandbox.js</div>
                <div class="item-description">Crear setInterval limitado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createSecureRequire</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SecureSandbox.js</div>
                <div class="item-description">Crear funci√≥n require segura</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createLimitedProcess</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SecureSandbox.js</div>
                <div class="item-description">Crear objeto process limitado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">execute</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SecureSandbox.js</div>
                <div class="item-description">Ejecutar c√≥digo en el sandbox</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateCode</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SecureSandbox.js</div>
                <div class="item-description">Validar c√≥digo antes de la ejecuci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createExecutionContext</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SecureSandbox.js</div>
                <div class="item-description">Crear contexto de ejecuci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeWithLimits</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SecureSandbox.js</div>
                <div class="item-description">Ejecutar script con l√≠mites</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SecureSandbox.js</div>
                <div class="item-description">Actualizar estad√≠sticas de ejecuci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SecureSandbox.js</div>
                <div class="item-description">Obtener estad√≠sticas del sandbox</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SecureSandbox.js</div>
                <div class="item-description">Limpiar contextos y recursos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/sandbox/SecureSandbox.js</div>
                <div class="item-description">Destruir el sandbox</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeApp</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/server/app.js</div>
                <div class="item-description">Aplicaci√≥n Principal del Servidor Configura y inicializa la aplicaci√≥n Express con todos los m√≥dulos, middleware, rutas y servicios necesarios para el funcionamiento del chat bot.</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 1.0.0 /  import { createLogger } from '../services/core/core/logger.js'; import { AppInitializer } from '../services/app/core/AppInitializer.js'; import { CONFIG } from '../config/environments/index.js';  const logger = createLogger('APP');  /** Clase principal de la aplicaci√≥n / export class App { constructor(config = {}) { this.config = { ...CONFIG, ...config, enableServices: config.enableServices !== false, enableEndpoints: config.enableEndpoints !== false, enableDashboard: config.enableDashboard !== false, enableAnalytics: config.enableAnalytics !== false, enableSocketIO: config.enableSocketIO !== false };  // Inicializar el AppInitializer con la configuraci√≥n modular this.appInitializer = new AppInitializer(this.config); this.isRunning = false; this.startTime = null; }  /** Inicializar aplicaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/server/app.js</div>
                <div class="item-description">Iniciar el servidor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/server/app.js</div>
                <div class="item-description">Detener el servidor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">restart</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/server/app.js</div>
                <div class="item-description">Reiniciar servidor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getApp</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/server/app.js</div>
                <div class="item-description">Obtener instancia de Express</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getServer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/server/app.js</div>
                <div class="item-description">Obtener instancia del servidor HTTP</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getIO</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/server/app.js</div>
                <div class="item-description">Obtener instancia de Socket.IO</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getServices</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/server/app.js</div>
                <div class="item-description">Obtener servicios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getManager</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/server/app.js</div>
                <div class="item-description">Obtener gestor espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/server/app.js</div>
                <div class="item-description">Obtener estado del servidor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSystemInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/server/app.js</div>
                <div class="item-description">Obtener informaci√≥n del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/server/app.js</div>
                <div class="item-description">Obtener estad√≠sticas de la aplicaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateActivityMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/server/app.js</div>
                <div class="item-description">Generar mensaje de actividad basado en el tipo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">formatUptime</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/server/app.js</div>
                <div class="item-description">Formatear tiempo de actividad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">main</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/server/index.js</div>
                <div class="item-description">Punto de Entrada del Servidor Inicializa y arranca la aplicaci√≥n del chat bot con manejo de errores y configuraci√≥n del entorno.</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 1.0.0 /  import { App } from './app.js'; import { createLogger } from '../services/core/core/logger.js'; import { CONFIG } from '../workflows/index.js';  const logger = createLogger('SERVER');  /** Funci√≥n principal para iniciar el servidor 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeServices</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/AIAgent.js</div>
                <div class="item-description">AIAgent - Agente de IA Modular y Refactorizado Coordina todos los servicios de IA especializados para proporcionar una interfaz unificada y optimizada para interacciones con IA. / import { EventEmitter } from 'events'; import { createLogger } from '../core/core/logger.js'; import { CircuitBreaker } from './circuit-breaker/CircuitBreaker.js'; import { AIProviderManager } from './providers/AIProviderManager.js'; import { AICacheManager } from './cache/AICacheManager.js'; import { AIMonitoringService } from './monitoring/AIMonitoringService.js'; import { AIOptimizationEngine } from './optimization/AIOptimizationEngine.js'; import { AILearningSystem } from './learning/AILearningSystem.js'; import { AIQualityAssurance } from './quality/AIQualityAssurance.js'; const logger = createLogger('AI_AGENT'); export class AIAgent extends EventEmitter { constructor(config = {}) { super(); this.config = { enabled: true, autoOptimize: true, enableLearning: true, enableQualityAssurance: true, enableCaching: true, enableMonitoring: true, maxConcurrentRequests: 10, defaultTimeout: 30000, retryAttempts: 3, retryDelay: 1000, ...config }; // Estado del agente this.isActive = false; this.isInitialized = false; this.requestQueue = []; this.activeRequests = new Map(); this.stats = { totalRequests: 0, successfulRequests: 0, failedRequests: 0, totalCost: 0, avgResponseTime: 0 }; // Inicializar servicios especializados this.initializeServices(); } /** Inicializar todos los servicios especializados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/AIAgent.js</div>
                <div class="item-description">Inicializar el agente de IA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventListeners</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/AIAgent.js</div>
                <div class="item-description">Configurar listeners de eventos entre servicios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/AIAgent.js</div>
                <div class="item-description">Procesar solicitud de IA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">selectProvider</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/AIAgent.js</div>
                <div class="item-description">Seleccionar proveedor y modelo √≥ptimo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/AIAgent.js</div>
                <div class="item-description">Ejecutar solicitud con el proveedor seleccionado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleCachedResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/AIAgent.js</div>
                <div class="item-description">Manejar respuesta desde cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">retryWithDifferentProvider</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/AIAgent.js</div>
                <div class="item-description">Reintentar con proveedor diferente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordRequestMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/AIAgent.js</div>
                <div class="item-description">Registrar m√©tricas de solicitud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">estimateTokens</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/AIAgent.js</div>
                <div class="item-description">Estimar tokens (implementaci√≥n b√°sica)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateRequestId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/AIAgent.js</div>
                <div class="item-description">Generar ID √∫nico de solicitud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/AIAgent.js</div>
                <div class="item-description">Obtener estad√≠sticas del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getDetailedMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/AIAgent.js</div>
                <div class="item-description">Obtener m√©tricas detalladas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">configureProvider</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/AIAgent.js</div>
                <div class="item-description">Configurar proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setActive</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/AIAgent.js</div>
                <div class="item-description">Activar/desactivar agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clearCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/AIAgent.js</div>
                <div class="item-description">Limpiar cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">exportLearningData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/AIAgent.js</div>
                <div class="item-description">Exportar datos de aprendizaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">importLearningData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/AIAgent.js</div>
                <div class="item-description">Importar datos de aprendizaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shutdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/AIAgent.js</div>
                <div class="item-description">Cerrar agente y limpiar recursos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">waitForActiveRequests</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/AIAgent.js</div>
                <div class="item-description">Esperar a que terminen las solicitudes activas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/cache/AICacheManager.js</div>
                <div class="item-description">AICacheManager - Gestor de cach√© para respuestas de IA Implementa un sistema de cach√© inteligente para optimizar el rendimiento y reducir costos de las consultas a IA. / import { EventEmitter } from 'events'; import { createLogger } from '../../core/core/logger.js'; import crypto from 'crypto'; import fs from 'fs/promises'; import path from 'path'; const logger = createLogger('AI_CACHE_MANAGER'); export class AICacheManager extends EventEmitter { constructor(config = {}) { super(); this.config = { enabled: true, maxSize: 1000, // M√°ximo n√∫mero de entradas ttl: 24 * 60 * 60 * 1000, // 24 horas en milisegundos persistToDisk: true, cacheDir: './cache/ai', compressionEnabled: true, similarityThreshold: 0.85, // Para b√∫squeda de respuestas similares cleanupInterval: 60 * 60 * 1000, // 1 hora ...config }; this.cache = new Map(); this.accessTimes = new Map(); this.hitCount = 0; this.missCount = 0; this.cleanupTimer = null; } /** Inicializar el gestor de cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ensureCacheDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/cache/AICacheManager.js</div>
                <div class="item-description">Asegurar que el directorio de cach√© existe</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadFromDisk</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/cache/AICacheManager.js</div>
                <div class="item-description">Cargar cach√© desde disco</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveToDisk</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/cache/AICacheManager.js</div>
                <div class="item-description">Guardar cach√© en disco</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateCacheKey</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/cache/AICacheManager.js</div>
                <div class="item-description">Generar clave de cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">normalizePrompt</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/cache/AICacheManager.js</div>
                <div class="item-description">Normalizar prompt para cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">hashObject</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/cache/AICacheManager.js</div>
                <div class="item-description">Generar hash de objeto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">get</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/cache/AICacheManager.js</div>
                <div class="item-description">Obtener respuesta del cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">findSimilarEntry</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/cache/AICacheManager.js</div>
                <div class="item-description">Buscar entrada similar en el cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateSimilarity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/cache/AICacheManager.js</div>
                <div class="item-description">Calcular similitud entre dos textos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">set</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/cache/AICacheManager.js</div>
                <div class="item-description">Almacenar respuesta en cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateEntrySize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/cache/AICacheManager.js</div>
                <div class="item-description">Calcular tama√±o de entrada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isEntryValid</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/cache/AICacheManager.js</div>
                <div class="item-description">Verificar si una entrada es v√°lida</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evictLeastRecentlyUsed</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/cache/AICacheManager.js</div>
                <div class="item-description">Eliminar entrada menos recientemente usada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/cache/AICacheManager.js</div>
                <div class="item-description">Limpiar entradas expiradas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startCleanupTimer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/cache/AICacheManager.js</div>
                <div class="item-description">Iniciar timer de limpieza</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">invalidate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/cache/AICacheManager.js</div>
                <div class="item-description">Invalidar entrada espec√≠fica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">invalidateByPattern</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/cache/AICacheManager.js</div>
                <div class="item-description">Invalidar entradas por patr√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clear</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/cache/AICacheManager.js</div>
                <div class="item-description">Limpiar todo el cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/cache/AICacheManager.js</div>
                <div class="item-description">Obtener estad√≠sticas del cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getEntryInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/cache/AICacheManager.js</div>
                <div class="item-description">Obtener informaci√≥n de una entrada espec√≠fica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">export</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/cache/AICacheManager.js</div>
                <div class="item-description">Exportar cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">import</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/cache/AICacheManager.js</div>
                <div class="item-description">Importar cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shutdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/cache/AICacheManager.js</div>
                <div class="item-description">Cerrar el gestor de cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">canExecute</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/circuit-breaker/CircuitBreaker.js</div>
                <div class="item-description">CircuitBreaker - Patr√≥n Circuit Breaker para servicios de IA Implementa el patr√≥n Circuit Breaker para proteger los servicios de IA de fallos en cascada y permitir recuperaci√≥n autom√°tica. / export class CircuitBreaker { constructor(options = {}) { this.failureThreshold = options.failureThreshold || 5; this.recoveryTimeout = options.recoveryTimeout || 60000; // 1 minuto this.monitoringPeriod = options.monitoringPeriod || 10000; // 10 segundos this.state = 'CLOSED'; // CLOSED, OPEN, HALF_OPEN this.failureCount = 0; this.lastFailureTime = null; this.successCount = 0; this.nextAttempt = Date.now(); } /** Verificar si se puede ejecutar una operaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordSuccess</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/circuit-breaker/CircuitBreaker.js</div>
                <div class="item-description">Registrar una operaci√≥n exitosa</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordFailure</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/circuit-breaker/CircuitBreaker.js</div>
                <div class="item-description">Registrar una operaci√≥n fallida</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/circuit-breaker/CircuitBreaker.js</div>
                <div class="item-description">Obtener el estado actual del circuit breaker</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">reset</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/circuit-breaker/CircuitBreaker.js</div>
                <div class="item-description">Resetear el circuit breaker</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/learning/AILearningSystem.js</div>
                <div class="item-description">AILearningSystem - Sistema de aprendizaje para IA Implementa aprendizaje autom√°tico para mejorar continuamente la selecci√≥n de modelos, optimizaci√≥n de prompts y predicci√≥n de patrones. / import { EventEmitter } from 'events'; import { createLogger } from '../../core/core/logger.js'; import fs from 'fs/promises'; import path from 'path'; const logger = createLogger('AI_LEARNING'); export class AILearningSystem extends EventEmitter { constructor(config = {}) { super(); this.config = { enabled: true, learningRate: 0.01, minSamples: 50, maxMemory: 10000, adaptationThreshold: 0.1, patternDetectionWindow: 100, feedbackWeight: 0.3, performanceWeight: 0.7, persistLearning: true, learningDir: './learning/ai', ...config }; this.patterns = new Map(); this.userPreferences = new Map(); this.contextCorrelations = new Map(); this.performanceHistory = new Map(); this.feedbackData = new Map(); this.adaptations = new Map(); this.knowledgeBase = { successful_patterns: new Map(), failed_patterns: new Map(), user_behaviors: new Map(), context_insights: new Map() }; } /** Inicializar el sistema de aprendizaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ensureLearningDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/learning/AILearningSystem.js</div>
                <div class="item-description">Asegurar que el directorio de aprendizaje existe</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadLearningData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/learning/AILearningSystem.js</div>
                <div class="item-description">Cargar datos de aprendizaje desde disco</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveLearningData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/learning/AILearningSystem.js</div>
                <div class="item-description">Guardar datos de aprendizaje en disco</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">learnFromInteraction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/learning/AILearningSystem.js</div>
                <div class="item-description">Aprender de una interacci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractPromptPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/learning/AILearningSystem.js</div>
                <div class="item-description">Extraer patrones del prompt</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractPromptFeatures</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/learning/AILearningSystem.js</div>
                <div class="item-description">Extraer caracter√≠sticas del prompt</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculatePromptComplexity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/learning/AILearningSystem.js</div>
                <div class="item-description">Calcular complejidad del prompt</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateVocabularyComplexity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/learning/AILearningSystem.js</div>
                <div class="item-description">Calcular complejidad del vocabulario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateStructuralComplexity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/learning/AILearningSystem.js</div>
                <div class="item-description">Calcular complejidad estructural</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectPromptDomain</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/learning/AILearningSystem.js</div>
                <div class="item-description">Detectar dominio del prompt</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectPromptIntent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/learning/AILearningSystem.js</div>
                <div class="item-description">Detectar intenci√≥n del prompt</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generatePatternKey</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/learning/AILearningSystem.js</div>
                <div class="item-description">Generar clave de patr√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">learnUserPreferences</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/learning/AILearningSystem.js</div>
                <div class="item-description">Aprender preferencias del usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeContextCorrelations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/learning/AILearningSystem.js</div>
                <div class="item-description">Analizar correlaciones de contexto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractContextFeatures</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/learning/AILearningSystem.js</div>
                <div class="item-description">Extraer caracter√≠sticas del contexto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateContextKey</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/learning/AILearningSystem.js</div>
                <div class="item-description">Generar clave de contexto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updatePerformanceHistory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/learning/AILearningSystem.js</div>
                <div class="item-description">Actualizar historial de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processFeedback</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/learning/AILearningSystem.js</div>
                <div class="item-description">Procesar feedback del usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/learning/AILearningSystem.js</div>
                <div class="item-description">Detectar nuevos patrones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectTemporalPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/learning/AILearningSystem.js</div>
                <div class="item-description">Detectar patrones temporales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectPerformancePatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/learning/AILearningSystem.js</div>
                <div class="item-description">Detectar patrones de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectUserPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/learning/AILearningSystem.js</div>
                <div class="item-description">Detectar patrones de usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateAdaptations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/learning/AILearningSystem.js</div>
                <div class="item-description">Generar adaptaciones basadas en patrones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRecommendations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/learning/AILearningSystem.js</div>
                <div class="item-description">Obtener recomendaciones basadas en aprendizaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getLearningStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/learning/AILearningSystem.js</div>
                <div class="item-description">Obtener estad√≠sticas de aprendizaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateMovingAverage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/learning/AILearningSystem.js</div>
                <div class="item-description">Utilidades</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shutdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/learning/AILearningSystem.js</div>
                <div class="item-description">Cerrar el sistema de aprendizaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/monitoring/AIMonitoringService.js</div>
                <div class="item-description">AIMonitoringService - Servicio de monitoreo para IA Monitorea el rendimiento, uso y salud de los servicios de IA, proporcionando m√©tricas detalladas y alertas. / import { EventEmitter } from 'events'; import { createLogger } from '../../core/core/logger.js'; import fs from 'fs/promises'; import path from 'path'; const logger = createLogger('AI_MONITORING'); export class AIMonitoringService extends EventEmitter { constructor(config = {}) { super(); this.config = { enabled: true, metricsRetention: 7 * 24 * 60 * 60 * 1000, // 7 d√≠as alertThresholds: { responseTime: 10000, // 10 segundos errorRate: 0.1, // 10% costPerHour: 10, // $10/hora tokenUsagePerHour: 100000 // 100k tokens/hora }, reportInterval: 60 * 1000, // 1 minuto persistMetrics: true, metricsDir: './metrics/ai', ...config }; this.metrics = { requests: new Map(), responses: new Map(), errors: new Map(), costs: new Map(), performance: new Map(), providers: new Map() }; this.alerts = []; this.reportTimer = null; this.startTime = Date.now(); } /** Inicializar el servicio de monitoreo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ensureMetricsDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/monitoring/AIMonitoringService.js</div>
                <div class="item-description">Asegurar que el directorio de m√©tricas existe</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/monitoring/AIMonitoringService.js</div>
                <div class="item-description">Cargar m√©tricas desde disco</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/monitoring/AIMonitoringService.js</div>
                <div class="item-description">Guardar m√©tricas en disco</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/monitoring/AIMonitoringService.js</div>
                <div class="item-description">Registrar solicitud de IA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/monitoring/AIMonitoringService.js</div>
                <div class="item-description">Registrar respuesta de IA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/monitoring/AIMonitoringService.js</div>
                <div class="item-description">Registrar error de IA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateProviderMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/monitoring/AIMonitoringService.js</div>
                <div class="item-description">Actualizar m√©tricas del proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkAlerts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/monitoring/AIMonitoringService.js</div>
                <div class="item-description">Verificar alertas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">triggerAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/monitoring/AIMonitoringService.js</div>
                <div class="item-description">Disparar alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generatePerformanceReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/monitoring/AIMonitoringService.js</div>
                <div class="item-description">Generar reporte de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRealTimeMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/monitoring/AIMonitoringService.js</div>
                <div class="item-description">Obtener m√©tricas en tiempo real</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getProviderStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/monitoring/AIMonitoringService.js</div>
                <div class="item-description">Obtener estad√≠sticas detalladas de un proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAlerts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/monitoring/AIMonitoringService.js</div>
                <div class="item-description">Obtener historial de alertas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/monitoring/AIMonitoringService.js</div>
                <div class="item-description">Limpiar m√©tricas antiguas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startReporting</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/monitoring/AIMonitoringService.js</div>
                <div class="item-description">Iniciar reporte peri√≥dico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">exportMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/monitoring/AIMonitoringService.js</div>
                <div class="item-description">Exportar m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/monitoring/AIMonitoringService.js</div>
                <div class="item-description">Generar ID √∫nico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shutdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/monitoring/AIMonitoringService.js</div>
                <div class="item-description">Cerrar el servicio de monitoreo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">AIOptimizationEngine - Motor de optimizaci√≥n para IA Optimiza autom√°ticamente la selecci√≥n de modelos, prompts, y configuraciones para mejorar rendimiento y reducir costos. / import { EventEmitter } from 'events'; import { createLogger } from '../../core/core/logger.js'; const logger = createLogger('AI_OPTIMIZATION'); export class AIOptimizationEngine extends EventEmitter { constructor(config = {}) { super(); this.config = { enabled: true, optimizationInterval: 60 * 60 * 1000, // 1 hora minDataPoints: 10, // M√≠nimo de datos para optimizar learningRate: 0.1, objectives: { cost: 0.4,      // 40% peso en costo speed: 0.3,     // 30% peso en velocidad quality: 0.3    // 30% peso en calidad }, thresholds: { costReduction: 0.1,    // 10% reducci√≥n m√≠nima de costo speedImprovement: 0.15, // 15% mejora m√≠nima de velocidad qualityMaintenance: 0.9 // Mantener 90% de calidad }, ...config }; this.optimizations = new Map(); this.modelPerformance = new Map(); this.promptOptimizations = new Map(); this.optimizationTimer = null; this.learningData = { patterns: new Map(), correlations: new Map(), recommendations: new Map() }; } /** Inicializar el motor de optimizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeModelPerformance</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Analizar rendimiento de modelos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeModelMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Analizar m√©tricas de un modelo espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectPerformanceTrends</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Detectar tendencias de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateModelRecommendations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Generar recomendaciones de modelos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizePrompts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Optimizar prompts autom√°ticamente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzePromptPerformance</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Analizar rendimiento de un prompt</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">applyPromptOptimization</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Aplicar optimizaci√≥n de prompt</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateOptimizedPrompt</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Generar prompt optimizado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeAIConfiguration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Optimizar configuraciones de IA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeProviderSelection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Optimizar selecci√≥n de proveedores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateOptimalDistribution</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Calcular distribuci√≥n √≥ptima de carga</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeModelSelection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Optimizar selecci√≥n de modelos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeParameters</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Optimizar par√°metros</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeCaching</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Optimizar configuraci√≥n de cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateOverallScore</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Calcular score general ponderado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">normalizeScore</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Normalizar score a rango 0-1</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateTrend</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Calcular tendencia de una serie de datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateTrendConfidence</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Calcular confianza de tendencia</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRecommendationReason</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Obtener raz√≥n de recomendaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzePromptRepetition</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Analizar repetici√≥n en prompts</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzePromptStructure</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Analizar estructura de prompts</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateAverageResponseTime</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Calcular tiempo promedio de respuesta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateAverageRequestRate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Calcular tasa promedio de solicitudes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateOptimalBatchSize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Calcular tama√±o √≥ptimo de batch</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeCachePerformance</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Analizar rendimiento del cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateOptimalTTL</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Calcular TTL √≥ptimo para cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateOptimalCacheSize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Calcular tama√±o √≥ptimo de cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateOptimalSimilarityThreshold</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Calcular umbral √≥ptimo de similitud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateOverallImprovement</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Calcular mejora general</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startOptimizationCycle</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Iniciar ciclo de optimizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCurrentRecommendations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Obtener recomendaciones actuales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shutdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/optimization/AIOptimizationEngine.js</div>
                <div class="item-description">Cerrar el motor de optimizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/providers/AIProviderManager.js</div>
                <div class="item-description">AIProviderManager - Gestor de proveedores de IA Gestiona m√∫ltiples proveedores de IA (OpenAI, Anthropic, Google, Local) y selecciona el √≥ptimo basado en diferentes criterios. / import { EventEmitter } from 'events'; import { createLogger } from '../../core/core/logger.js'; import { CircuitBreaker } from '../circuit-breaker/CircuitBreaker.js'; import axios from 'axios'; const logger = createLogger('AI_PROVIDER_MANAGER'); export class AIProviderManager extends EventEmitter { constructor(config = {}) { super(); this.config = { providers: { openai: { enabled: true, priority: 1, models: ['gpt-4', 'gpt-3.5-turbo', 'gpt-4-turbo'], costPerToken: { 'gpt-4': 0.00003, 'gpt-3.5-turbo': 0.000002 }, maxTokens: { 'gpt-4': 8192, 'gpt-3.5-turbo': 4096 }, reliability: 0.95, avgResponseTime: 2000 }, anthropic: { enabled: true, priority: 2, models: ['claude-3-opus', 'claude-3-sonnet', 'claude-3-haiku'], costPerToken: { 'claude-3-opus': 0.000015, 'claude-3-sonnet': 0.000003 }, maxTokens: { 'claude-3-opus': 200000, 'claude-3-sonnet': 200000 }, reliability: 0.93, avgResponseTime: 2500 }, google: { enabled: true, priority: 3, models: ['gemini-pro', 'gemini-pro-vision'], costPerToken: { 'gemini-pro': 0.000001 }, maxTokens: { 'gemini-pro': 32768 }, reliability: 0.90, avgResponseTime: 3000 }, local: { enabled: true, priority: 4, models: ['llama-2-7b', 'mistral-7b'], costPerToken: { 'llama-2-7b': 0, 'mistral-7b': 0 }, maxTokens: { 'llama-2-7b': 4096, 'mistral-7b': 8192 }, reliability: 0.85, avgResponseTime: 5000 } }, ...config }; this.providers = new Map(); this.circuitBreakers = new Map(); this.metrics = new Map(); } /** Inicializar todos los proveedores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createProvider</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/providers/AIProviderManager.js</div>
                <div class="item-description">Crear un proveedor espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createOpenAIProvider</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/providers/AIProviderManager.js</div>
                <div class="item-description">Crear proveedor OpenAI</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createAnthropicProvider</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/providers/AIProviderManager.js</div>
                <div class="item-description">Crear proveedor Anthropic</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createGoogleProvider</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/providers/AIProviderManager.js</div>
                <div class="item-description">Crear proveedor Google</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createLocalProvider</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/providers/AIProviderManager.js</div>
                <div class="item-description">Crear proveedor local</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">selectOptimalProvider</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/providers/AIProviderManager.js</div>
                <div class="item-description">Seleccionar el proveedor √≥ptimo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/providers/AIProviderManager.js</div>
                <div class="item-description">Analizar la solicitud para determinar requisitos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateProviderScore</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/providers/AIProviderManager.js</div>
                <div class="item-description">Calcular score del proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">selectOptimalModel</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/providers/AIProviderManager.js</div>
                <div class="item-description">Seleccionar modelo √≥ptimo para el proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/providers/AIProviderManager.js</div>
                <div class="item-description">Generar respuesta usando el proveedor seleccionado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateCost</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/providers/AIProviderManager.js</div>
                <div class="item-description">Calcular costo de la respuesta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeComplexity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/providers/AIProviderManager.js</div>
                <div class="item-description">Analizar complejidad del prompt</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeUrgency</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/providers/AIProviderManager.js</div>
                <div class="item-description">Analizar urgencia del contexto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeCostSensitivity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/providers/AIProviderManager.js</div>
                <div class="item-description">Analizar sensibilidad al costo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeQualityRequirement</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/providers/AIProviderManager.js</div>
                <div class="item-description">Analizar requisito de calidad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">estimateTokens</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/providers/AIProviderManager.js</div>
                <div class="item-description">Estimar tokens del prompt</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateContextSize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/providers/AIProviderManager.js</div>
                <div class="item-description">Calcular tama√±o del contexto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/providers/AIProviderManager.js</div>
                <div class="item-description">Obtener m√©tricas de todos los proveedores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getProvider</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/providers/AIProviderManager.js</div>
                <div class="item-description">Obtener proveedor por nombre</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isProviderAvailable</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/providers/AIProviderManager.js</div>
                <div class="item-description">Verificar si un proveedor est√° disponible</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">resetProviderMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/providers/AIProviderManager.js</div>
                <div class="item-description">Resetear m√©tricas de un proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shutdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/providers/AIProviderManager.js</div>
                <div class="item-description">Cerrar todos los proveedores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeFilters</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/quality/AIQualityAssurance.js</div>
                <div class="item-description">AIQualityAssurance - Sistema de aseguramiento de calidad para IA Eval√∫a la calidad de las respuestas de IA mediante m√∫ltiples m√©tricas y filtros para garantizar respuestas apropiadas y √∫tiles. / import { EventEmitter } from 'events'; import { createLogger } from '../../core/core/logger.js'; const logger = createLogger('AI_QUALITY'); export class AIQualityAssurance extends EventEmitter { constructor(config = {}) { super(); this.config = { enabled: true, minQualityScore: 0.7, maxResponseLength: 10000, minResponseLength: 10, checkRelevance: true, checkCoherence: true, checkSafety: true, checkFactuality: true, enableContentFiltering: true, enableToxicityDetection: true, enableBiasDetection: true, qualityWeights: { relevance: 0.3, coherence: 0.25, completeness: 0.2, accuracy: 0.15, safety: 0.1 }, ...config }; this.qualityMetrics = new Map(); this.contentFilters = new Map(); this.qualityHistory = new Map(); this.flaggedContent = new Map(); this.initializeFilters(); } /** Inicializar filtros de contenido</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evaluateResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/quality/AIQualityAssurance.js</div>
                <div class="item-description">Evaluar calidad de respuesta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performBasicChecks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/quality/AIQualityAssurance.js</div>
                <div class="item-description">Verificaciones b√°sicas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evaluateRelevance</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/quality/AIQualityAssurance.js</div>
                <div class="item-description">Evaluar relevancia de la respuesta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evaluateCoherence</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/quality/AIQualityAssurance.js</div>
                <div class="item-description">Evaluar coherencia de la respuesta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evaluateCompleteness</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/quality/AIQualityAssurance.js</div>
                <div class="item-description">Evaluar completitud de la respuesta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evaluateSafety</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/quality/AIQualityAssurance.js</div>
                <div class="item-description">Evaluar seguridad del contenido</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evaluateFactuality</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/quality/AIQualityAssurance.js</div>
                <div class="item-description">Evaluar factualidad (b√°sica)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateOverallScore</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/quality/AIQualityAssurance.js</div>
                <div class="item-description">Calcular puntuaci√≥n general</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateRecommendations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/quality/AIQualityAssurance.js</div>
                <div class="item-description">Generar recomendaciones de mejora</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordQualityMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/quality/AIQualityAssurance.js</div>
                <div class="item-description">Registrar m√©tricas de calidad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractKeywords</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/quality/AIQualityAssurance.js</div>
                <div class="item-description">M√©todos auxiliares</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getQualityStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/quality/AIQualityAssurance.js</div>
                <div class="item-description">Obtener estad√≠sticas de calidad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupHistory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/ai/quality/AIQualityAssurance.js</div>
                <div class="item-description">Limpiar historial antiguo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeAPI</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/api/APIManager.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> API Manager Service Gestiona todas las APIs del sistema, incluyendo routing, middleware y validaci√≥n <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 6.0.0<br><strong>@since:</strong> 1.0.0 /  import express from 'express'; import cors from 'cors'; import helmet from 'helmet'; import compression from 'compression'; import rateLimit from 'express-rate-limit'; import { EventEmitter } from 'events'; import { logger } from '../core/logger.js';  /** Estados de API / export const APIStatus = { INACTIVE: 'inactive', STARTING: 'starting', ACTIVE: 'active', ERROR: 'error', MAINTENANCE: 'maintenance' };  /** Tipos de endpoint / export const EndpointType = { PUBLIC: 'public', PRIVATE: 'private', INTERNAL: 'internal', WEBHOOK: 'webhook' };  /** M√©todos HTTP soportados / export const HTTPMethod = { GET: 'GET', POST: 'POST', PUT: 'PUT', PATCH: 'PATCH', DELETE: 'DELETE', OPTIONS: 'OPTIONS', HEAD: 'HEAD' };  /** Clase principal del gestor de APIs / export class APIManager extends EventEmitter { constructor(config = {}) { super();  this.config = { // Configuraci√≥n del servidor port: config.port || process.env.PORT || 3000, host: config.host || process.env.HOST || '0.0.0.0',  // Configuraci√≥n de CORS cors: { origin: config.cors?.origin || '*', methods: ['GET', 'POST', 'PUT', 'PATCH', 'DELETE', 'OPTIONS'], allowedHeaders: ['Content-Type', 'Authorization', 'X-API-Key'], credentials: true, ...config.cors },  // Configuraci√≥n de rate limiting rateLimit: { windowMs: 15 * 60 * 1000, // 15 minutos max: 100, // m√°ximo 100 requests por ventana message: 'Too many requests from this IP', standardHeaders: true, legacyHeaders: false, ...config.rateLimit },  // Configuraci√≥n de seguridad security: { helmet: true, compression: true, bodyLimit: '10mb', ...config.security },  // Configuraci√≥n de logging logging: { enabled: true, logRequests: true, logResponses: false, logErrors: true, ...config.logging },  // Configuraci√≥n de validaci√≥n validation: { enabled: true, strictMode: false, ...config.validation },  ...config };  // Express app this.app = express(); this.server = null; this.status = APIStatus.INACTIVE;  // Almacenamiento de rutas y middleware this.routes = new Map(); this.middleware = []; this.errorHandlers = [];  // Estad√≠sticas this.stats = { totalRequests: 0, successfulRequests: 0, failedRequests: 0, averageResponseTime: 0, lastResponseTime: 0, uptime: 0, startTime: null };  // Rate limiting por endpoint this.endpointLimiters = new Map();  this.initializeAPI(); }  /** Inicializa el API Manager<br><strong>@async:</strong> <br><strong>@returns:</strong> {Promise<void>}<br><strong>@throws:</strong> {Error} Si falla la inicializaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupBasicMiddleware</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/api/APIManager.js</div>
                <div class="item-description">Configura middleware b√°sico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupLoggingMiddleware</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/api/APIManager.js</div>
                <div class="item-description">Configura middleware de logging</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupStatsMiddleware</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/api/APIManager.js</div>
                <div class="item-description">Configura middleware de estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupErrorHandling</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/api/APIManager.js</div>
                <div class="item-description">Configura manejo de errores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerRoute</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/api/APIManager.js</div>
                <div class="item-description">Registra una nueva ruta</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} method - M√©todo HTTP (GET, POST, PUT, etc.), {string} path - Ruta del endpoint, {Function} handler - Funci√≥n manejadora de la ruta, {Object} [options={}] - Opciones adicionales, {Array} [options.middleware] - Middleware espec√≠fico para la ruta, {Object} [options.validation] - Esquema de validaci√≥n, {Object} [options.rateLimit] - Configuraci√≥n de rate limiting<br><strong>@throws:</strong> {Error} Si el m√©todo no es v√°lido o la ruta ya existe 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createValidationMiddleware</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/api/APIManager.js</div>
                <div class="item-description">Crea middleware de validaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateObject</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/api/APIManager.js</div>
                <div class="item-description">Valida un objeto contra un esquema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">wrapHandler</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/api/APIManager.js</div>
                <div class="item-description">Envuelve un handler para manejo de errores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">use</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/api/APIManager.js</div>
                <div class="item-description">Registra middleware global</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/api/APIManager.js</div>
                <div class="item-description">Inicia el servidor</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@async:</strong> <br><strong>@returns:</strong> {Promise<void>}<br><strong>@throws:</strong> {Error} Si el servidor ya est√° activo o falla el inicio 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/api/APIManager.js</div>
                <div class="item-description">Detiene el servidor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerSystemRoutes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/api/APIManager.js</div>
                <div class="item-description">Registra rutas de sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/api/APIManager.js</div>
                <div class="item-description">Actualiza estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getUptime</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/api/APIManager.js</div>
                <div class="item-description">Obtiene tiempo de actividad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/api/APIManager.js</div>
                <div class="item-description">Obtiene estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRoutes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/api/APIManager.js</div>
                <div class="item-description">Obtiene todas las rutas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRoute</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/api/APIManager.js</div>
                <div class="item-description">Obtiene ruta por clave</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">removeRoute</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/api/APIManager.js</div>
                <div class="item-description">Elimina una ruta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">enableMaintenanceMode</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/api/APIManager.js</div>
                <div class="item-description">Activa modo de mantenimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">disableMaintenanceMode</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/api/APIManager.js</div>
                <div class="item-description">Desactiva modo de mantenimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getServerInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/api/APIManager.js</div>
                <div class="item-description">Obtiene informaci√≥n del servidor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupAll</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/analytics/AnalyticsManager.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Gestor de Anal√≠ticas  Centraliza la gesti√≥n de anal√≠ticas, m√©tricas avanzadas, reportes y procesamiento de datos de la aplicaci√≥n, incluyendo an√°lisis de conversaciones, rendimiento y comportamiento de usuarios. <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0 /  import { createLogger } from '../../core/core/logger.js';  const logger = createLogger('ANALYTICS_MANAGER');  /** Gestor de Anal√≠ticas / export class AnalyticsManager { constructor(app, config = {}) { this.app = app; this.config = { enableAnalytics: config.enableAnalytics !== false, enableReports: config.enableReports !== false, enableMetrics: config.enableMetrics !== false, enableTracking: config.enableTracking !== false, apiPrefix: config.apiPrefix || '/api', dataRetentionDays: config.dataRetentionDays || 30, reportInterval: config.reportInterval || 3600000, // 1 hora enableRealTime: config.enableRealTime !== false, enableSimulatedData: config.enableSimulatedData !== false, maxDataPoints: config.maxDataPoints || 1000, ...config };  this.analyticsData = { conversations: [], userInteractions: [], performanceMetrics: [], errorLogs: [], conversionFunnels: [] };  this.realtimeMetrics = { activeUsers: 0, messagesPerMinute: 0, responseTime: 0, errorRate: 0, conversionRate: 0 };  this.analyticsStats = { endpointsRegistered: 0, dataPointsCollected: 0, reportsGenerated: 0, lastUpdate: null }; }  /** Configurar todos los endpoints de anal√≠ticas 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupAnalyticsEndpoints</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/analytics/AnalyticsManager.js</div>
                <div class="item-description">Configurar endpoints de anal√≠ticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupReportsEndpoints</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/analytics/AnalyticsManager.js</div>
                <div class="item-description">Configurar endpoints de reportes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupMetricsEndpoints</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/analytics/AnalyticsManager.js</div>
                <div class="item-description">Configurar endpoints de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupTrackingEndpoints</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/analytics/AnalyticsManager.js</div>
                <div class="item-description">Configurar endpoints de tracking</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateAnalytics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/analytics/AnalyticsManager.js</div>
                <div class="item-description">Generar anal√≠ticas generales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getConversationAnalytics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/analytics/AnalyticsManager.js</div>
                <div class="item-description">Obtener anal√≠ticas de conversaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getUserAnalytics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/analytics/AnalyticsManager.js</div>
                <div class="item-description">Obtener anal√≠ticas de usuarios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateDailyReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/analytics/AnalyticsManager.js</div>
                <div class="item-description">Generar reporte diario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateWeeklyReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/analytics/AnalyticsManager.js</div>
                <div class="item-description">Generar reporte semanal</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateCustomReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/analytics/AnalyticsManager.js</div>
                <div class="item-description">Generar reporte personalizado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRealtimeMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/analytics/AnalyticsManager.js</div>
                <div class="item-description">Obtener m√©tricas en tiempo real</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPerformanceMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/analytics/AnalyticsManager.js</div>
                <div class="item-description">Obtener m√©tricas de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">trackEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/analytics/AnalyticsManager.js</div>
                <div class="item-description">Trackear evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">trackConversion</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/analytics/AnalyticsManager.js</div>
                <div class="item-description">Trackear conversi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateTrendData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/analytics/AnalyticsManager.js</div>
                <div class="item-description">M√©todos auxiliares para generar datos simulados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/analytics/AnalyticsManager.js</div>
                <div class="item-description">Obtener informaci√≥n del gestor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/analytics/AnalyticsManager.js</div>
                <div class="item-description">Obtener estad√≠sticas de anal√≠ticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/analytics/AnalyticsManager.js</div>
                <div class="item-description">Limpiar datos antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/core/AppInitializer.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Inicializador de la Aplicaci√≥n  Coordina la inicializaci√≥n y configuraci√≥n de todos los componentes modularizados de la aplicaci√≥n, reemplazando la l√≥gica monol√≠tica del archivo app.js original. <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0 /  import express from 'express'; import http from 'http'; import { Server as SocketIOServer } from 'socket.io'; import compression from 'compression'; import cors from 'cors'; import rateLimit from 'express-rate-limit'; import timeout from 'connect-timeout'; import path from 'path';  import { createLogger } from '../../core/core/logger.js'; import { ServiceManager } from '../services/ServiceManager.js'; import { EndpointManager } from '../endpoints/EndpointManager.js'; import { DashboardManager } from '../dashboard/DashboardManager.js'; import { AnalyticsManager } from '../analytics/AnalyticsManager.js';  const logger = createLogger('APP_INITIALIZER');  /** Inicializador de la Aplicaci√≥n / export class AppInitializer { constructor(config = {}) { this.config = { port: config.port || process.env.PORT || 3000, host: config.host || '0.0.0.0', enableCompression: config.enableCompression !== false, enableCors: config.enableCors !== false, enableRateLimit: config.enableRateLimit !== false, enableTimeout: config.enableTimeout !== false, enableSocketIO: config.enableSocketIO !== false, enableServices: config.enableServices !== false, enableEndpoints: config.enableEndpoints !== false, enableDashboard: config.enableDashboard !== false, enableAnalytics: config.enableAnalytics !== false, staticPath: config.staticPath || path.join(process.cwd(), 'public'), uploadsPath: config.uploadsPath || path.join(process.cwd(), 'uploads'), clientPath: config.clientPath || path.join(process.cwd(), 'client'), rateLimitMax: config.rateLimitMax || 100, rateLimitWindow: config.rateLimitWindow || 15 * 60 * 1000, // 15 minutos timeoutDuration: config.timeoutDuration || 30000, // 30 segundos corsOrigins: config.corsOrigins || ['http://localhost:3000', 'http://localhost:5173'], ...config };  this.app = null; this.server = null; this.io = null; this.managers = {}; this.isInitialized = false; this.isRunning = false; this.startTime = null;  this.initStats = { initializationTime: 0, managersLoaded: 0, endpointsRegistered: 0, middlewaresConfigured: 0, lastInitialization: null }; }  /** Inicializar toda la aplicaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createExpressApp</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/core/AppInitializer.js</div>
                <div class="item-description">Crear aplicaci√≥n Express</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupBasicMiddleware</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/core/AppInitializer.js</div>
                <div class="item-description">Configurar middleware b√°sico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createHttpServer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/core/AppInitializer.js</div>
                <div class="item-description">Crear servidor HTTP</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupSocketIO</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/core/AppInitializer.js</div>
                <div class="item-description">Configurar Socket.IO</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeManagers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/core/AppInitializer.js</div>
                <div class="item-description">Inicializar gestores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupStaticFiles</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/core/AppInitializer.js</div>
                <div class="item-description">Configurar archivos est√°ticos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupFinalRoutes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/core/AppInitializer.js</div>
                <div class="item-description">Configurar rutas finales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupErrorHandling</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/core/AppInitializer.js</div>
                <div class="item-description">Configurar manejo de errores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/core/AppInitializer.js</div>
                <div class="item-description">Iniciar el servidor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/core/AppInitializer.js</div>
                <div class="item-description">Detener el servidor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">restart</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/core/AppInitializer.js</div>
                <div class="item-description">Reiniciar el servidor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getUptime</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/core/AppInitializer.js</div>
                <div class="item-description">Obtener tiempo de actividad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSystemInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/core/AppInitializer.js</div>
                <div class="item-description">Obtener informaci√≥n del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/core/AppInitializer.js</div>
                <div class="item-description">Obtener estad√≠sticas de la aplicaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/core/AppInitializer.js</div>
                <div class="item-description">Validar configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getApp</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/core/AppInitializer.js</div>
                <div class="item-description">Obtener instancia de la aplicaci√≥n Express</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getServer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/core/AppInitializer.js</div>
                <div class="item-description">Obtener instancia del servidor HTTP</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getIO</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/core/AppInitializer.js</div>
                <div class="item-description">Obtener instancia de Socket.IO</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getManager</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/core/AppInitializer.js</div>
                <div class="item-description">Obtener gestor espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupAll</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/dashboard/DashboardManager.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Gestor del Dashboard  Centraliza la gesti√≥n de endpoints, m√©tricas y funcionalidades espec√≠ficas del dashboard de la aplicaci√≥n, incluyendo m√©tricas en tiempo real, actividad del sistema y estado de servicios. <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0 /  import { createLogger } from '../../core/core/logger.js'; import path from 'path';  const logger = createLogger('DASHBOARD_MANAGER');  /** Gestor del Dashboard / export class DashboardManager { constructor(app, config = {}) { this.app = app; this.config = { enableMetrics: config.enableMetrics !== false, enableActivity: config.enableActivity !== false, enableStatus: config.enableStatus !== false, enableRoutes: config.enableRoutes !== false, apiPrefix: config.apiPrefix || '/api', dashboardPath: config.dashboardPath || path.join(process.cwd(), 'public/dashboard.html'), updateInterval: config.updateInterval || 30000, // 30 segundos maxActivityItems: config.maxActivityItems || 10, enableSimulatedData: config.enableSimulatedData !== false, ...config };  this.metrics = { activeChats: 0, messagesSent: 0, aiResponses: 0, totalUsers: 0, newUsers: 0 };  this.activityLog = []; this.dashboardStats = { endpointsRegistered: 0, lastUpdate: null, requestCount: 0 }; }  /** Configurar todos los endpoints del dashboard 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupMetricsEndpoints</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/dashboard/DashboardManager.js</div>
                <div class="item-description">Configurar endpoints de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupActivityEndpoints</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/dashboard/DashboardManager.js</div>
                <div class="item-description">Configurar endpoints de actividad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupStatusEndpoints</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/dashboard/DashboardManager.js</div>
                <div class="item-description">Configurar endpoints de estado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupDashboardRoutes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/dashboard/DashboardManager.js</div>
                <div class="item-description">Configurar rutas del dashboard</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/dashboard/DashboardManager.js</div>
                <div class="item-description">Generar m√©tricas del dashboard</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateActivity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/dashboard/DashboardManager.js</div>
                <div class="item-description">Generar actividad del dashboard</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateSystemStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/dashboard/DashboardManager.js</div>
                <div class="item-description">Generar estado del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getServicesStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/dashboard/DashboardManager.js</div>
                <div class="item-description">Obtener estado de servicios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateActivityMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/dashboard/DashboardManager.js</div>
                <div class="item-description">Generar mensaje de actividad basado en el tipo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">formatUptime</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/dashboard/DashboardManager.js</div>
                <div class="item-description">Formatear tiempo de actividad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/dashboard/DashboardManager.js</div>
                <div class="item-description">Actualizar m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addActivity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/dashboard/DashboardManager.js</div>
                <div class="item-description">Agregar actividad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/dashboard/DashboardManager.js</div>
                <div class="item-description">Obtener informaci√≥n del gestor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/dashboard/DashboardManager.js</div>
                <div class="item-description">Obtener estad√≠sticas del dashboard</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/dashboard/DashboardManager.js</div>
                <div class="item-description">Validar configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/dashboard/DashboardManager.js</div>
                <div class="item-description">Limpiar datos antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupAll</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/endpoints/EndpointManager.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Gestor de Endpoints Modulares  Centraliza la configuraci√≥n y gesti√≥n de todos los endpoints modulares de la aplicaci√≥n, incluyendo APIs de templates, tags, flows y servicios externos. <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0 /  import { createLogger } from '../../core/core/logger.js'; import SecurityManager from '../../core/core/auth/SecurityManager.js';  const logger = createLogger('ENDPOINT_MANAGER');  /** Gestor de Endpoints Modulares / export class EndpointManager { constructor(app, config = {}) { this.app = app; this.config = { enableTemplates: config.enableTemplates !== false, enableTags: config.enableTags !== false, enableFlows: config.enableFlows !== false, enable360Dialog: config.enable360Dialog !== false, enableAI: config.enableAI !== false, enableLocal: config.enableLocal !== false, enableSystemInfo: config.enableSystemInfo !== false, enableHealthCheck: config.enableHealthCheck !== false, enableTestEndpoint: config.enableTestEndpoint !== false, apiPrefix: config.apiPrefix || '/api', requireAuth: config.requireAuth !== false, ...config };  this.registeredEndpoints = []; this.endpointStats = { total: 0, byCategory: {}, lastRegistered: null }; }  /** Configurar todos los endpoints modulares 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupBasicEndpoints</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/endpoints/EndpointManager.js</div>
                <div class="item-description">Configurar endpoints b√°sicos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupTemplateEndpoints</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/endpoints/EndpointManager.js</div>
                <div class="item-description">Configurar endpoints de templates</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupTagEndpoints</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/endpoints/EndpointManager.js</div>
                <div class="item-description">Configurar endpoints de tags</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupFlowEndpoints</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/endpoints/EndpointManager.js</div>
                <div class="item-description">Configurar endpoints de flows</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setup360DialogEndpoints</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/endpoints/EndpointManager.js</div>
                <div class="item-description">Configurar endpoints de 360Dialog</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupAIEndpoints</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/endpoints/EndpointManager.js</div>
                <div class="item-description">Configurar endpoints de IA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupLocalEndpoints</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/endpoints/EndpointManager.js</div>
                <div class="item-description">Configurar endpoints locales (compatibilidad)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupSystemEndpoints</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/endpoints/EndpointManager.js</div>
                <div class="item-description">Configurar endpoints del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerEndpoint</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/endpoints/EndpointManager.js</div>
                <div class="item-description">Registrar un endpoint</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/endpoints/EndpointManager.js</div>
                <div class="item-description">Obtener informaci√≥n de endpoints</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/endpoints/EndpointManager.js</div>
                <div class="item-description">Obtener estad√≠sticas de endpoints</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getEndpointsByMethod</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/endpoints/EndpointManager.js</div>
                <div class="item-description">Obtener endpoints agrupados por m√©todo HTTP</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/endpoints/EndpointManager.js</div>
                <div class="item-description">Validar configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logEndpointSummary</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/endpoints/EndpointManager.js</div>
                <div class="item-description">Registrar resumen de endpoints</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/services/ServiceManager.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Gestor de Servicios de la Aplicaci√≥n  Centraliza la inicializaci√≥n, configuraci√≥n y gesti√≥n de todos los servicios de negocio de la aplicaci√≥n, incluyendo contactos, mensajes, automatizaci√≥n e IA. <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0 /  import { createLogger } from '../../core/core/logger.js'; import { getContactService } from '../../../components/business/contacts/services/ContactService.js'; import { getMessageService } from '../../../components/business/messaging/services/MessageService.js'; import { getAutomationService } from '../../../components/business/automation/services/AutomationService.js'; import { getAIService } from '../../../components/business/ai/services/AIService.js';  const logger = createLogger('SERVICE_MANAGER');  /** Gestor de Servicios - Maneja la inicializaci√≥n y gesti√≥n de servicios / export class ServiceManager { constructor(config = {}) { this.config = { automationInterval: config.automationInterval || 5 * 60 * 1000, // 5 minutos scheduledMessagesInterval: config.scheduledMessagesInterval || 60 * 1000, // 1 minuto enableAutomation: config.enableAutomation !== false, enableScheduledMessages: config.enableScheduledMessages !== false, enableServiceMonitoring: config.enableServiceMonitoring !== false, ...config };  this.services = {}; this.intervals = {}; this.isInitialized = false; this.serviceStats = { initialized: 0, failed: 0, lastCheck: null }; }  /** Inicializar todos los servicios 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeBusinessServices</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/services/ServiceManager.js</div>
                <div class="item-description">Inicializar servicios de negocio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupServiceIntervals</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/services/ServiceManager.js</div>
                <div class="item-description">Configurar intervalos de servicios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupServiceMonitoring</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/services/ServiceManager.js</div>
                <div class="item-description">Configurar monitoreo de servicios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateServices</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/services/ServiceManager.js</div>
                <div class="item-description">Validar que todos los servicios est√©n disponibles</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkServiceHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/services/ServiceManager.js</div>
                <div class="item-description">Verificar salud de los servicios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getServiceStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/services/ServiceManager.js</div>
                <div class="item-description">Obtener estad√≠sticas de servicios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getService</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/services/ServiceManager.js</div>
                <div class="item-description">Obtener informaci√≥n de un servicio espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAllServices</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/services/ServiceManager.js</div>
                <div class="item-description">Obtener todos los servicios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setSocketIO</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/services/ServiceManager.js</div>
                <div class="item-description">Configurar Socket.IO en servicios que lo requieran</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">restartService</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/services/ServiceManager.js</div>
                <div class="item-description">Reiniciar un servicio espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/services/ServiceManager.js</div>
                <div class="item-description">Detener todos los servicios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/services/ServiceManager.js</div>
                <div class="item-description">Obtener informaci√≥n del gestor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/services/ServiceManager.js</div>
                <div class="item-description">Validar configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logServiceStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/app/services/ServiceManager.js</div>
                <div class="item-description">Registrar estado de servicios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateToken</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/auth/AdvancedSecurity.js</div>
                <div class="item-description">Advanced Security Service Proporciona funcionalidades avanzadas de seguridad para el sistema ChatBot / class AdvancedSecurity { constructor() { this.securityLevel = 'high'; this.encryptionEnabled = true; this.auditLog = []; } /** Valida tokens de autenticaci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} token - Token a validar<br><strong>@returns:</strong> {boolean} - True si el token es v√°lido 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">encryptData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/auth/AdvancedSecurity.js</div>
                <div class="item-description">Encripta datos sensibles</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} data - Datos a encriptar<br><strong>@returns:</strong> {string} - Datos encriptados 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">decryptData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/auth/AdvancedSecurity.js</div>
                <div class="item-description">Desencripta datos</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} encryptedData - Datos encriptados<br><strong>@returns:</strong> {string} - Datos desencriptados 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkPermissions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/auth/AdvancedSecurity.js</div>
                <div class="item-description">Verifica permisos de usuario</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} userId - ID del usuario, {string} action - Acci√≥n a verificar<br><strong>@returns:</strong> {boolean} - True si tiene permisos 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logSecurityEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/auth/AdvancedSecurity.js</div>
                <div class="item-description">Registra eventos de seguridad</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} message - Mensaje del evento, {string} level - Nivel del evento (info, warning, error) 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAuditLog</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/auth/AdvancedSecurity.js</div>
                <div class="item-description">Obtiene el log de auditor√≠a</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Array} - Array de eventos de seguridad 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clearAuditLog</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/auth/AdvancedSecurity.js</div>
                <div class="item-description">Limpia el log de auditor√≠a</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setSecurityLevel</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/auth/AdvancedSecurity.js</div>
                <div class="item-description">Configura el nivel de seguridad</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} level - Nivel de seguridad (low, medium, high) 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSecurityStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/auth/AdvancedSecurity.js</div>
                <div class="item-description">Obtiene el estado actual de seguridad</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Object} - Estado de seguridad 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/ChatBot.js</div>
                <div class="item-description">ChatBot Core Service Motor principal del sistema ChatBot Enterprise / const EventEmitter = require('events'); class ChatBot extends EventEmitter { constructor(config = {}) { super(); this.config = { name: config.name || 'ChatBot Enterprise', version: config.version || '1.0.0', language: config.language || 'es', maxConcurrentChats: config.maxConcurrentChats || 100, responseTimeout: config.responseTimeout || 30000, enableAnalytics: config.enableAnalytics !== false, enableLogging: config.enableLogging !== false, ...config }; this.state = 'stopped'; this.activeChats = new Map(); this.messageQueue = []; this.plugins = new Map(); this.middleware = []; this.stats = { messagesProcessed: 0, chatsStarted: 0, chatsEnded: 0, errors: 0, uptime: 0, startTime: null }; this.setupEventHandlers(); } /** Inicializa el ChatBot</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Promise<void>} 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/ChatBot.js</div>
                <div class="item-description">Procesa un mensaje entrante</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {Object} message - Mensaje a procesar<br><strong>@returns:</strong> {Promise<Object>} - Respuesta del chatbot 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/ChatBot.js</div>
                <div class="item-description">Valida un mensaje entrante</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {Object} message - Mensaje a validar<br><strong>@returns:</strong> {Promise<Object>} - Mensaje validado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">applyMiddleware</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/ChatBot.js</div>
                <div class="item-description">Aplica middleware al mensaje</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {Object} message - Mensaje a procesar<br><strong>@returns:</strong> {Promise<Object>} - Mensaje procesado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/ChatBot.js</div>
                <div class="item-description">Genera una respuesta para el mensaje</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {Object} message - Mensaje procesado<br><strong>@returns:</strong> {Promise<Object>} - Respuesta generada 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startChat</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/ChatBot.js</div>
                <div class="item-description">Inicia una nueva conversaci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} userId - ID del usuario<br><strong>@returns:</strong> {string} - ID de la conversaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">endChat</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/ChatBot.js</div>
                <div class="item-description">Finaliza una conversaci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} chatId - ID de la conversaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateChatActivity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/ChatBot.js</div>
                <div class="item-description">Actualiza la actividad de un chat</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} chatId - ID del chat 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerPlugin</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/ChatBot.js</div>
                <div class="item-description">Registra un plugin</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} name - Nombre del plugin, {Object} plugin - Plugin a registrar 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">use</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/ChatBot.js</div>
                <div class="item-description">A√±ade middleware</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {Function} middleware - Funci√≥n middleware 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/ChatBot.js</div>
                <div class="item-description">Obtiene estad√≠sticas del chatbot</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Object} - Estad√≠sticas 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/ChatBot.js</div>
                <div class="item-description">Detiene el chatbot</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Promise<void>} 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventHandlers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/ChatBot.js</div>
                <div class="item-description">Configura manejadores de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializePlugins</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/ChatBot.js</div>
                <div class="item-description">Inicializa plugins</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadMiddleware</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/ChatBot.js</div>
                <div class="item-description">Carga middleware por defecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startMessageProcessing</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/ChatBot.js</div>
                <div class="item-description">Inicia el procesamiento de la cola de mensajes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateMessageId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/ChatBot.js</div>
                <div class="item-description">Genera un ID √∫nico para mensajes</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {string} - ID √∫nico 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateChatId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/ChatBot.js</div>
                <div class="item-description">Genera un ID √∫nico para chats</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {string} - ID √∫nico 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">constructor</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/EventBus.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> EventBus - Sistema de comunicaci√≥n orientado a eventos  Este archivo implementa el n√∫cleo de comunicaci√≥n del ChatBot Enterprise usando un patr√≥n de arquitectura orientada a eventos. Proporciona: - Comunicaci√≥n desacoplada entre m√≥dulos - Sistema de colas con prioridades - Manejo de reintentos autom√°ticos - Logging y m√©tricas de eventos - Procesamiento as√≠ncrono de eventos <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0<br><strong>@since:</strong> 2024 /  import { EventEmitter } from 'events'; import { createLogger } from './core/logger.js'; import fs from 'fs/promises'; import path from 'path';  /** EventBus - N√∫cleo de comunicaci√≥n orientado a eventos  Extiende EventEmitter de Node.js para proporcionar un sistema robusto de comunicaci√≥n entre m√≥dulos con caracter√≠sticas avanzadas como: - Colas de prioridad para eventos cr√≠ticos - Sistema de reintentos autom√°ticos - Logging detallado de eventos - M√©tricas de rendimiento - Manejo de errores resiliente <br><strong>@class:</strong> EventBus<br><strong>@extends:</strong> EventEmitter<br><strong>@example:</strong>  ```javascript import EventBus from '../../EventBus.js';  const eventBus = new EventBus();  // Escuchar eventos eventBus.onEvent('user.login', (data) => {   logger.info('Usuario logueado:', data.userId); });  // Emitir eventos con prioridad eventBus.emitEvent('user.login', { userId: 123 }, { priority: 'high' }); ``` / class EventBus extends EventEmitter { /** Constructor del EventBus  Inicializa todas las estructuras de datos necesarias para el manejo de eventos, configuraci√≥n de colas y sistema de logging. <br><strong>@constructor:</strong>  
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">emitEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/EventBus.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@type:</strong> {Object} Logger espec√≠fico para el EventBus */ this.logger = createLogger('EVENT_BUS');  /** @type {Array} Log de eventos procesados para auditor√≠a */ this.eventLog = [];  /** @type {Map} Estad√≠sticas de eventos por tipo */ this.eventStats = new Map();  /** @type {Array} Cola de eventos para reintentos */ this.retryQueue = [];  /** @type {Object} Colas de prioridad para procesamiento de eventos */ this.priorityQueues = { high: [], medium: [], low: [] };  /** @type {Object} Contadores de eventos procesados por prioridad */ this.processedCounts = { high: 0, medium: 0, low: 0 };  /** @type {Map} Mapa de listeners registrados */ this.listeners = new Map();  /** @type {boolean} Indica si el procesador de colas est√° activo */ this.isProcessing = false;  /** @type {number} N√∫mero m√°ximo de reintentos para eventos fallidos */ this.maxRetries = 3;  /** @type {number} Delay en milisegundos entre reintentos */ this.retryDelay = 1000; // 1 segundo  /** @type {number} Timestamp de inicio del EventBus */ this.startTime = Date.now();  /** @type {string} Ruta del archivo de log de eventos */ this.logFilePath = path.join(process.cwd(), 'data', 'logs', 'events.log');  /** @type {NodeJS.Timeout|null} Referencia al timer de logging para cleanup */ this.loggingTimer = null;  // Configurar l√≠mites de listeners para evitar memory leaks this.setMaxListeners(100);  // Inicializar procesamiento de colas en background this.startQueueProcessor();  // Configurar logging autom√°tico de eventos this.setupEventLogging();  this.logger.info('üöÄ EventBus inicializado'); }  /** Emite un evento con prioridad y metadata  M√©todo principal para emitir eventos en el sistema. Soporta diferentes niveles de prioridad, timeouts, reintentos autom√°ticos y metadata personalizada para tracking y debugging. <br><strong>@method:</strong> emitEvent<br><strong>@memberof:</strong> EventBus<br><strong>@param:</strong> {string} eventName - Nombre del evento a emitir, {Object} [payload={}] - Datos del evento, {Object} [options={}] - Opciones de configuraci√≥n, {string} [options.priority='medium'] - Prioridad del evento ('high', 'medium', 'low'), {boolean} [options.retryable=true] - Si debe reintentar en caso de fallo, {number} [options.timeout=30000] - Timeout en milisegundos, {string} [options.source='unknown'] - Fuente que emite el evento, {string} [options.correlationId] - ID de correlaci√≥n para tracking<br><strong>@returns:</strong> {string} ID de correlaci√≥n del evento emitido <br><strong>@example:</strong>  ```javascript // Evento simple eventBus.emitEvent('user.login', { userId: 123 });  // Evento con alta prioridad eventBus.emitEvent('system.error', { error: 'Critical failure' }, {   priority: 'high',   timeout: 10000 });  // Evento sin reintentos eventBus.emitEvent('analytics.track', { action: 'click' }, {   retryable: false }); ``` 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">onEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/EventBus.js</div>
                <div class="item-description">Registrar listener con metadata</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addToQueue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/EventBus.js</div>
                <div class="item-description">Agregar evento a cola de prioridad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startQueueProcessor</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/EventBus.js</div>
                <div class="item-description">Procesar colas de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getNextEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/EventBus.js</div>
                <div class="item-description">Obtener siguiente evento de la cola con prioridad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/EventBus.js</div>
                <div class="item-description">Procesar evento de la cola</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scheduleRetry</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/EventBus.js</div>
                <div class="item-description">Programar reintento de evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isValidEventType</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/EventBus.js</div>
                <div class="item-description">Validar tipo de evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventLogging</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/EventBus.js</div>
                <div class="item-description">Configurar logging autom√°tico de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/EventBus.js</div>
                <div class="item-description">Registrar evento en log</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/EventBus.js</div>
                <div class="item-description">Actualizar estad√≠sticas de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/EventBus.js</div>
                <div class="item-description">Obtener estad√≠sticas de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getEventMap</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/EventBus.js</div>
                <div class="item-description">Obtener mapa de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">flushEventLogs</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/EventBus.js</div>
                <div class="item-description">Guardar logs en archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ensureLogDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/EventBus.js</div>
                <div class="item-description">Asegurar que existe el directorio de logs</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateEventId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/EventBus.js</div>
                <div class="item-description">Utilidades</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cancelRetry</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/EventBus.js</div>
                <div class="item-description">Cancelar reintento programado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPendingRetries</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/EventBus.js</div>
                <div class="item-description">Obtener eventos pendientes de reintento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clearFailedEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/EventBus.js</div>
                <div class="item-description">Limpiar eventos fallidos permanentemente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getHealthMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/EventBus.js</div>
                <div class="item-description">Obtener m√©tricas de salud del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/EventBus.js</div>
                <div class="item-description">Detener el EventBus</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventListeners</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">AIAgent - Agente Event-Driven de Gesti√≥n Inteligente de IA Transforma el AIService en un agente evolutivo que: - Gestiona m√∫ltiples proveedores de IA de forma inteligente - Optimiza autom√°ticamente la selecci√≥n de modelos - Aprende de patrones de uso y feedback - Predice necesidades de recursos - Auto-optimiza prompts y par√°metros - Gestiona cache inteligente y rate limiting - Monitorea calidad y rendimiento en tiempo real - Implementa circuit breakers y failover - Correlaciona contextos y conversaciones - Sugiere mejoras autom√°ticas / import { EventEmitter } from 'events'; import { getDatabase } from './database.js'; import { createLogger } from './logger.js'; import { CONFIG } from '../../../workflows/index.js'; import { AIResponse } from '../core/AIResponse.js'; import axios from 'axios'; import fs from 'fs/promises'; import path from 'path'; const logger = createLogger('AI_AGENT'); export class AIAgent extends EventEmitter { constructor() { super(); // Configuraci√≥n evolutiva del agente this.config = { // Configuraci√≥n de proveedores inteligente providers: { openai: { enabled: true, priority: 1, models: ['gpt-4', 'gpt-3.5-turbo', 'gpt-4-turbo'], costPerToken: { 'gpt-4': 0.00003, 'gpt-3.5-turbo': 0.000002 }, maxTokens: { 'gpt-4': 8192, 'gpt-3.5-turbo': 4096 }, reliability: 0.95, avgResponseTime: 2000 }, anthropic: { enabled: true, priority: 2, models: ['claude-3-opus', 'claude-3-sonnet', 'claude-3-haiku'], costPerToken: { 'claude-3-opus': 0.000015, 'claude-3-sonnet': 0.000003 }, maxTokens: { 'claude-3-opus': 200000, 'claude-3-sonnet': 200000 }, reliability: 0.93, avgResponseTime: 2500 }, google: { enabled: true, priority: 3, models: ['gemini-pro', 'gemini-pro-vision'], costPerToken: { 'gemini-pro': 0.000001 }, maxTokens: { 'gemini-pro': 32768 }, reliability: 0.90, avgResponseTime: 3000 }, local: { enabled: true, priority: 4, models: ['llama-2-7b', 'mistral-7b'], costPerToken: { 'llama-2-7b': 0, 'mistral-7b': 0 }, maxTokens: { 'llama-2-7b': 4096, 'mistral-7b': 8192 }, reliability: 0.85, avgResponseTime: 5000 } }, // Configuraci√≥n de optimizaci√≥n inteligente optimization: { autoModelSelection: true, dynamicPromptOptimization: true, contextualCaching: true, predictivePreloading: true, adaptiveRateLimiting: true, qualityBasedRouting: true, costOptimization: true, performanceMonitoring: true }, // Configuraci√≥n de aprendizaje learning: { enablePatternLearning: true, enableFeedbackLearning: true, enableUsageOptimization: true, enableContextCorrelation: true, learningRate: 0.1, memoryWindow: 10000, adaptationThreshold: 0.8 }, // Configuraci√≥n de cache inteligente cache: { enabled: true, maxSize: 10000, ttl: 3600000, // 1 hora intelligentEviction: true, contextualMatching: true, similarityThreshold: 0.85 }, // Configuraci√≥n de circuit breakers circuitBreaker: { enabled: true, failureThreshold: 5, resetTimeout: 60000, monitoringWindow: 300000 }, // Configuraci√≥n de rate limiting adaptativo rateLimiting: { enabled: true, baseLimit: 100, windowMs: 60000, adaptiveScaling: true, priorityQueuing: true } }; // Estado del agente this.state = { active: false, initialized: false, lastActivity: null, totalRequests: 0, successfulRequests: 0, failedRequests: 0, avgResponseTime: 0, currentLoad: 0 }; // Registro de proveedores y modelos this.providers = new Map(); this.models = new Map(); this.activeConnections = new Map(); // Sistema de cache inteligente this.cache = new Map(); this.cacheStats = { hits: 0, misses: 0, evictions: 0 }; // Sistema de rate limiting adaptativo this.rateLimits = new Map(); this.requestQueues = new Map(); // M√©tricas evolutivas this.metrics = { performance: { responseTime: [], throughput: [], errorRate: [], qualityScore: [] }, usage: { byProvider: new Map(), byModel: new Map(), byContext: new Map(), byUser: new Map() }, learning: { patterns: new Map(), optimizations: new Map(), predictions: new Map() }, costs: { total: 0, byProvider: new Map(), byModel: new Map(), savings: 0 } }; // Circuit breakers por proveedor this.circuitBreakers = new Map(); // Sistema de aprendizaje this.learningEngine = { patterns: new Map(), contextCorrelations: new Map(), userPreferences: new Map(), modelPerformance: new Map() }; // Timers para tareas peri√≥dicas this.timers = { optimization: null, monitoring: null, learning: null, cleanup: null, healthCheck: null }; // Sistema de mutex para operaciones cr√≠ticas this.mutex = { cache: false, learning: false, optimization: false }; // Base de datos y logger this.db = null; this.logger = logger; this.setupEventListeners(); } /** Configurar listeners de eventos del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Inicializar el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setActive</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Activar el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleSystemStart</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Manejar inicio del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleSystemStop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Manejar parada del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleSystemError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Manejar errores del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleAIRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Manejar solicitud de IA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleAIResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Manejar respuesta de IA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleAIError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Manejar error de IA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleAIFeedback</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Manejar feedback de IA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeProviders</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Inicializar proveedores de IA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createProvider</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Crear proveedor espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createOpenAIProvider</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Crear proveedor OpenAI</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createAnthropicProvider</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Crear proveedor Anthropic</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createGoogleProvider</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Crear proveedor Google</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createLocalProvider</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Crear proveedor local</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">selectOptimalProvider</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Seleccionar proveedor y modelo √≥ptimo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Analizar solicitud para optimizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateProviderScore</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Calcular puntuaci√≥n de proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">selectOptimalModel</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Seleccionar modelo √≥ptimo para proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Generar respuesta con proveedor seleccionado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizePrompt</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Optimizar prompt basado en patrones aprendidos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateCost</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Calcular costo de respuesta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evaluateQuality</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Evaluar calidad de respuesta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evaluateRelevance</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Evaluar relevancia</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evaluateCoherence</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Evaluar coherencia</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evaluateHelpfulness</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Evaluar utilidad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evaluateSafety</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Evaluar seguridad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evaluateAccuracy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Evaluar precisi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeCircuitBreakers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Inicializar circuit breakers</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkRateLimit</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Verificar rate limit</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateAdaptiveLimit</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Calcular l√≠mite adaptativo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateRateLimit</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Actualizar rate limit</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCachedResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Obtener respuesta del cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setCachedResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Guardar respuesta en cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evictCacheEntries</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Evictar entradas del cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateCacheScore</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Calcular puntuaci√≥n de cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateCacheKey</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Generar clave de cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">hashString</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Hash de string para claves de cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Actualizar m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">trimMetricsWindow</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Recortar ventana de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startMonitoring</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Iniciar monitoreo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performMonitoring</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Realizar monitoreo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateAverageResponseTime</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Calcular tiempo de respuesta promedio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateErrorRate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Calcular tasa de error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateAverageQuality</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Calcular calidad promedio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateHourlyCost</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Calcular costo por hora</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateCurrentLoad</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Calcular carga actual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startOptimization</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Iniciar optimizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performOptimization</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Realizar optimizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeProviderConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Optimizar configuraci√≥n de proveedores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Optimizar cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeRateLimiting</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Optimizar rate limiting</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeModelSelection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Optimizar selecci√≥n de modelos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startLearning</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Iniciar aprendizaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performLearning</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Realizar aprendizaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">learnUsagePatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Aprender patrones de uso</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">learnContextCorrelations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Aprender correlaciones de contexto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">learnUserPreferences</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Aprender preferencias de usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">learnPromptOptimizations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Aprender optimizaciones de prompt</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">learnFromResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Aprender de respuesta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">learnFromFeedback</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Aprender de feedback</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">tryAlternativeProvider</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Intentar proveedor alternativo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleOptimizationTrigger</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Manejar trigger de optimizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handlePerformanceAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Manejar alerta de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleCostAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Manejar alerta de costo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">activateCostSavingMode</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Activar modo de ahorro</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleHighResponseTime</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Manejar tiempo de respuesta alto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleHighErrorRate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Manejar tasa de error alta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleLowQuality</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Manejar calidad baja</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleCriticalError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Manejar error cr√≠tico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">emergencyRecovery</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Recuperaci√≥n de emergencia</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleLearningPattern</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Manejar patr√≥n de aprendizaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">applyLearningPattern</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Aplicar patr√≥n aprendido</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleLearningUpdate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Manejar actualizaci√≥n de aprendizaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeComplexity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Analizar complejidad de prompt</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeUrgency</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Analizar urgencia</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeCostSensitivity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Analizar sensibilidad al costo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeQualityRequirement</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Analizar requisito de calidad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">estimateTokens</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Estimar tokens</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateContextSize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Calcular tama√±o de contexto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Guardar respuesta en base de datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateResponseFeedback</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Actualizar feedback de respuesta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAgentStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Obtener estad√≠sticas del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateThroughput</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Calcular throughput</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAgentInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Obtener informaci√≥n del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shutdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Apagar el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopTimers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Detener timers</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveAgentState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Guardar estado del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadAgentState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Cargar estado del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveLearningPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Guardar patrones de aprendizaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadLearningPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Cargar patrones de aprendizaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ensureDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Asegurar que existe el directorio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Limpiar datos antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AIAgent.js</div>
                <div class="item-description">Destruir el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerEventListeners</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AnalyticsAgent.js</div>
                <div class="item-description">Agente especializado en analytics y m√©tricas Recopila datos, genera reportes y emite eventos de an√°lisis / class AnalyticsAgent extends BaseAgent { constructor(eventBus, config = {}) { super('AnalyticsAgent', eventBus, { priority: 'medium', maxConcurrentTasks: 20, retryAttempts: 3, timeout: 15000, ...config }); this.analyticsConfig = { reportInterval: config.reportInterval || 300000, // 5 minutos metricsRetention: config.metricsRetention || 86400000, // 24 horas realTimeEnabled: config.realTimeEnabled !== false, aggregationEnabled: config.aggregationEnabled !== false, alertThresholds: { errorRate: config.errorRateThreshold || 0.05, // 5% responseTime: config.responseTimeThreshold || 5000, // 5 segundos throughput: config.throughputThreshold || 100 // eventos por minuto }, ...config.alertThresholds }; // Almacenes de datos this.metrics = { events: new Map(), users: new Map(), system: new Map(), business: new Map(), performance: new Map() }; this.timeSeries = { eventCounts: [], responseTimes: [], errorRates: [], userActivity: [], systemHealth: [] }; this.aggregatedData = { hourly: new Map(), daily: new Map(), weekly: new Map(), monthly: new Map() }; this.alerts = []; this.reportSchedule = null; this.analyticsStats = { eventsProcessed: 0, reportsGenerated: 0, alertsTriggered: 0, dataPointsCollected: 0, lastReportTime: null, uptime: Date.now() }; this.initializeMetricsCollection(); } /** Registra los listeners espec√≠ficos del agente de analytics</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeMetricsCollection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AnalyticsAgent.js</div>
                <div class="item-description">Inicializa la recolecci√≥n de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">trackUserLogin</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AnalyticsAgent.js</div>
                <div class="item-description">Rastrea login de usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">trackUserAction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AnalyticsAgent.js</div>
                <div class="item-description">Rastrea acciones de usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">trackSystemPerformance</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AnalyticsAgent.js</div>
                <div class="item-description">Rastrea rendimiento del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">trackSystemError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AnalyticsAgent.js</div>
                <div class="item-description">Rastrea errores del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">trackPaymentCompleted</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AnalyticsAgent.js</div>
                <div class="item-description">Rastrea pagos completados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">trackAIResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AnalyticsAgent.js</div>
                <div class="item-description">Rastrea respuestas de IA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">trackSupportTicket</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AnalyticsAgent.js</div>
                <div class="item-description">Rastrea tickets de soporte</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">trackGeneralEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AnalyticsAgent.js</div>
                <div class="item-description">Rastrea evento general</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateUserMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AnalyticsAgent.js</div>
                <div class="item-description">Actualiza m√©tricas de usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateSystemMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AnalyticsAgent.js</div>
                <div class="item-description">Actualiza m√©tricas del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateBusinessMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AnalyticsAgent.js</div>
                <div class="item-description">Actualiza m√©tricas de negocio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateEventMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AnalyticsAgent.js</div>
                <div class="item-description">Actualiza m√©tricas de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addTimeSeriesData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AnalyticsAgent.js</div>
                <div class="item-description">A√±ade datos a series temporales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateErrorRate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AnalyticsAgent.js</div>
                <div class="item-description">Calcula tasa de errores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generatePeriodicReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AnalyticsAgent.js</div>
                <div class="item-description">Genera reporte peri√≥dico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateComprehensiveReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AnalyticsAgent.js</div>
                <div class="item-description">Genera reporte comprehensivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateUserReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AnalyticsAgent.js</div>
                <div class="item-description">Genera reporte de usuarios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateSystemReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AnalyticsAgent.js</div>
                <div class="item-description">Genera reporte del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateBusinessReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AnalyticsAgent.js</div>
                <div class="item-description">Genera reporte de negocio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">triggerAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AnalyticsAgent.js</div>
                <div class="item-description">Dispara alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkPerformanceThresholds</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AnalyticsAgent.js</div>
                <div class="item-description">Verifica umbrales de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AnalyticsAgent.js</div>
                <div class="item-description">Limpia datos antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAnalyticsStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AnalyticsAgent.js</div>
                <div class="item-description">Obtiene estad√≠sticas de analytics</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRealTimeMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AnalyticsAgent.js</div>
                <div class="item-description">Obtiene m√©tricas en tiempo real</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateEventsPerMinute</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AnalyticsAgent.js</div>
                <div class="item-description">Calcula eventos por minuto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getActiveAlerts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AnalyticsAgent.js</div>
                <div class="item-description">Obtiene alertas activas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">onStop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AnalyticsAgent.js</div>
                <div class="item-description">Limpieza al detener el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Agente de Automatizaci√≥n Event-Driven Transforma el m√≥dulo de automatizaci√≥n en un agente inteligente que maneja reglas, workflows, triggers y ejecuci√≥n autom√°tica de forma reactiva.</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 2.0.0 /  import { createLogger } from './logger.js'; import { getDatabase } from './database.js'; import { Rule } from '../core/Rule.js';  const logger = createLogger('AUTOMATION_AGENT');  export class AutomationAgent { constructor(eventHub) { this.eventHub = eventHub; this.logger = logger; this.agentId = 'automation-agent'; this.isActive = false;  // Configuraciones evolutivas this.config = { // Evaluaci√≥n de reglas evaluation: { enabled: true, batchSize: 50, maxConcurrent: 10, retryAttempts: 3, timeoutMs: 30000, cooldownMs: 5000 },  // Ejecuci√≥n de workflows execution: { enabled: true, maxParallel: 5, queueSize: 1000, priorityLevels: 5, timeoutMs: 60000, retryDelayMs: 2000 },  // Triggers autom√°ticos triggers: { enabled: true, realTimeProcessing: true, batchProcessing: true, scheduleInterval: 300000, // 5 minutos maxTriggerDepth: 10 },  // Optimizaci√≥n optimization: { enabled: true, ruleOptimization: true, performanceMonitoring: true, adaptivePriority: true, cacheResults: true, cacheExpiryMs: 600000 // 10 minutos },  // An√°lisis y aprendizaje analytics: { enabled: true, patternDetection: true, performanceAnalysis: true, successRateTracking: true, anomalyDetection: true },  // Alertas y monitoreo alerts: { enabled: true, failureThreshold: 5, performanceThreshold: 1000, queueSizeThreshold: 500, errorRateThreshold: 0.1 } };  // Estado del agente this.state = { rulesTotal: 0, rulesActive: 0, workflowsRunning: 0, triggersActive: 0, lastActivity: null, eventsProcessed: 0, errors: 0 };  // Gesti√≥n de reglas y workflows this.rules = new Map(); this.workflows = new Map(); this.triggers = new Map(); this.schedules = new Map(); this.ruleCache = new Map(); this.executionHistory = new Map();  // Sistema de colas y procesamiento this.queues = { evaluation: [], execution: [], triggers: [], schedules: [], optimization: [] };  // M√©tricas evolutivas this.metrics = { rules: { created: 0, updated: 0, deleted: 0, executed: 0, failed: 0, avgExecutionTime: 0 }, workflows: { started: 0, completed: 0, failed: 0, avgDuration: 0, successRate: 0 }, triggers: { fired: 0, processed: 0, skipped: 0, avgResponseTime: 0 }, performance: { queueSize: 0, processingTime: 0, memoryUsage: 0, errorRate: 0, throughput: 0 } };  // Sistema de an√°lisis y patrones this.patterns = { rulePerformance: new Map(), triggerFrequency: new Map(), executionPatterns: new Map(), errorPatterns: new Map(), optimizationSuggestions: [] };  // Timers y control this.timers = { evaluation: null, optimization: null, analytics: null, cleanup: null };  this.mutex = { evaluation: false, execution: false, optimization: false };  this.db = getDatabase(); }  /** Inicializar el agente 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">activate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Activar el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deactivate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Desactivar el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventListeners</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Configurar listeners de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleRuleCreate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Manejar creaci√≥n de regla</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleRuleUpdate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Manejar actualizaci√≥n de regla</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleRuleDelete</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Manejar eliminaci√≥n de regla</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleRuleExecute</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Manejar ejecuci√≥n de regla</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleWorkflowStart</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Manejar inicio de workflow</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleWorkflowComplete</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Manejar finalizaci√≥n de workflow</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleTriggerFire</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Manejar disparo de trigger</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleContactEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Manejar eventos de contacto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleMessageEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Manejar eventos de mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processEvaluationQueue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Procesar cola de evaluaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processEvaluationItem</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Procesar elemento de evaluaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processExecutionQueue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Procesar cola de ejecuci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processExecutionItem</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Procesar elemento de ejecuci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeRule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Ejecutar regla</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evaluateTriggerConditions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Evaluar condiciones de trigger</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evaluateCondition</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Evaluar condici√≥n individual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getFieldValue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Obtener valor de campo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleOptimization</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Optimizaci√≥n del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeRules</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Optimizar reglas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeQueues</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Optimizar colas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Limpiar cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzePatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Analizar patrones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeExecutionPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Analizar patrones de ejecuci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeTriggerFrequency</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Analizar frecuencia de triggers</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectAnomalies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Detectar anomal√≠as</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadRules</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Cargar reglas desde la base de datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadWorkflows</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Cargar workflows</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadTriggers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Cargar triggers</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getContactData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Obtener datos del contacto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Actualizar m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateWorkflowMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Actualizar m√©tricas de workflow</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateRulePerformance</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Actualizar rendimiento de regla</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateTriggerPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Actualizar patrones de trigger</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clearRuleCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Limpiar cache de regla</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startEvaluationTimer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Iniciar timer de evaluaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startOptimizationTimer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Iniciar timer de optimizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startAnalyticsTimer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Iniciar timer de analytics</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startCleanupTimer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Iniciar timer de limpieza</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopTimers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Detener timers</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processRemainingQueues</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Procesar colas restantes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleSystemShutdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Manejar apagado del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleSystemRestart</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Manejar reinicio del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleAnalytics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Manejar analytics</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Guardar estado del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Cargar estado del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAgentInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Obtener informaci√≥n del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAgentStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Obtener estad√≠sticas del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getTopPerformingRules</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Obtener reglas con mejor rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMostFrequentTriggers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Obtener triggers m√°s frecuentes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Manejar errores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/AutomationAgent.js</div>
                <div class="item-description">Destruir el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventListeners</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">BACKUP AGENT - Agente Evolutivo de Respaldos Autom√°ticos Funcionalidades evolutivas: - Respaldos autom√°ticos diarios programados - Compresi√≥n de archivos de respaldo - Pol√≠tica de retenci√≥n configurable - Respaldos manuales bajo demanda - Verificaci√≥n de integridad de respaldos - Restauraci√≥n de datos desde respaldos - Limpieza autom√°tica de respaldos antiguos - Auto-optimizaci√≥n de estrategias de respaldo - Detecci√≥n inteligente de cambios cr√≠ticos - Respaldos incrementales y diferenciales</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Sistema Event-Driven Evolutivo<br><strong>@version:</strong> 2.0.0 /  import fs from 'fs/promises'; import path from 'path'; import { fileURLToPath } from 'url'; import { createReadStream, createWriteStream } from 'fs'; import { createGzip, createGunzip } from 'zlib'; import { pipeline } from 'stream/promises'; import { v4 as uuidv4 } from 'uuid'; import { createLogger } from '../core/evolutive-logger.js';  const __filename = fileURLToPath(import.meta.url); const __dirname = path.dirname(__filename);  class BackupAgent { constructor(eventHub) { this.id = uuidv4(); this.name = 'BackupAgent'; this.eventHub = eventHub; this.logger = createLogger('BackupAgent');  // Configuraci√≥n del agente this.config = { // Estado del agente isActive: true, autoOptimize: true, learningEnabled: true,  // Programaci√≥n de respaldos autoBackup: process.env.AUTO_BACKUP !== 'false', backupInterval: parseInt(process.env.BACKUP_INTERVAL_HOURS) || 24, backupTime: process.env.BACKUP_TIME || '02:00',  // Retenci√≥n retentionDays: parseInt(process.env.BACKUP_RETENTION_DAYS) || 30, maxBackups: parseInt(process.env.MAX_BACKUPS) || 50,  // Compresi√≥n compression: process.env.BACKUP_COMPRESSION !== 'false', compressionLevel: parseInt(process.env.COMPRESSION_LEVEL) || 6,  // Verificaci√≥n verifyBackups: process.env.VERIFY_BACKUPS !== 'false', checksumAlgorithm: process.env.CHECKSUM_ALGORITHM || 'sha256',  // Archivos a respaldar includePatterns: (process.env.BACKUP_INCLUDE || '*.json,*.log,*.txt').split(','), excludePatterns: (process.env.BACKUP_EXCLUDE || '*.tmp,*.lock').split(','),  // Caracter√≠sticas evolutivas intelligentScheduling: true, incrementalBackups: true, adaptiveCompression: true, predictiveRetention: true };  // Rutas de almacenamiento this.dataDir = process.env.DATA_DIR || path.join(__dirname, '../../data'); this.backupDir = process.env.BACKUP_DIR || path.join(__dirname, '../../backups'); this.agentStateFile = path.join(this.dataDir, 'backup-agent-state.json');  // Estado del agente this.agentState = { isInitialized: false, lastOptimization: null, optimizationCount: 0, backupStrategies: {}, learningData: { fileChangePatterns: {}, backupPerformance: {}, systemLoad: {}, userActivity: {} }, adaptiveSettings: { optimalBackupTime: '02:00', compressionStrategy: 'adaptive', retentionStrategy: 'smart' } };  // Sistema de mutex para operaciones concurrentes this.operationMutex = false; this.operationQueue = [];  // Estado de respaldos this.backupScheduler = null; this.isBackupRunning = false; this.lastBackup = null;  // Estad√≠sticas this.stats = { totalBackups: 0, successfulBackups: 0, failedBackups: 0, totalSizeBytes: 0, averageBackupTime: 0, lastBackupDuration: 0, incrementalBackups: 0, compressionRatio: 0, integrityChecks: 0, restorations: 0 };  // M√©tricas evolutivas this.evolutiveMetrics = { adaptationRate: 0, optimizationEfficiency: 0, predictionAccuracy: 0, resourceOptimization: 0, intelligenceLevel: 0 };  this.setupEventListeners(); this.logger.info('üíæ BackupAgent inicializado', { agentId: this.id }); }  /** Configurar listeners de eventos 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Inicializar el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setActive</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Activar/desactivar el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleSystemStarted</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Manejar inicio del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleBackupRequested</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Manejar solicitud de respaldo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleRestoreRequested</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Manejar solicitud de restauraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleFileChanged</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Manejar cambio de archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleCriticalUpdate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Manejar actualizaci√≥n cr√≠tica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleDataCorruption</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Manejar corrupci√≥n de datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleActivityPeak</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Manejar pico de actividad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleActivityLow</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Manejar baja actividad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createBackup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Crear respaldo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">restoreFromBackup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Restaurar desde respaldo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startIntelligentScheduler</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Iniciar programador inteligente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopScheduler</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Detener programador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldRunScheduledBackup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Determinar si debe ejecutarse respaldo programado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldCreateIncrementalBackup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Determinar si debe crear respaldo incremental</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldCreateEmergencyBackup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Determinar si debe crear respaldo de emergencia</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldCreateOpportunisticBackup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Determinar si debe crear respaldo oportunista</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">learnFileChangePattern</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Aprender patr√≥n de cambio de archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">learnActivityPattern</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Aprender patr√≥n de actividad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeBackupSchedule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Optimizar horario de respaldo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isCriticalFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Verificar si archivo es cr√≠tico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getFileChangeFrequency</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Obtener frecuencia de cambio de archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSystemLoad</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Obtener carga del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getLastUserActivity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Obtener √∫ltima actividad del usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">hasSignificantChanges</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Verificar si hay cambios significativos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeWithMutex</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Ejecutar operaci√≥n con mutex</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processQueue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Procesar cola de operaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ensureDirectories</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Asegurar directorios necesarios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadBackupHistory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Cargar historial de respaldos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadAgentState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Cargar estado del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveAgentState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Guardar estado del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isValidBackupDir</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Verificar si es directorio de respaldo v√°lido</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateBackupName</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Generar nombre de respaldo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createBackupManifest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Crear manifiesto de respaldo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">backupFiles</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Respaldar archivos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">backupDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Respaldar directorio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldIncludeFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Determinar si incluir archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">matchPattern</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Verificar coincidencia de patr√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">backupFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Respaldar archivo individual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldCompressFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Determinar si comprimir archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">compressFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Comprimir archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">verifyBackupIntegrity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Verificar integridad de respaldo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">countBackupFiles</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Contar archivos en respaldo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">restoreDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Restaurar directorio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">decompressFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Descomprimir archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">listBackups</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Listar respaldos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateDirectorySize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Calcular tama√±o de directorio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkAvailableSpace</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Verificar espacio disponible</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldBackups</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Limpiar respaldos antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Obtener estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateBackupStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Actualizar estad√≠sticas de respaldo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">formatBytes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Formatear bytes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startFileMonitoring</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Iniciar monitoreo de archivos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startPerformanceMonitoring</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Iniciar monitoreo de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateEvolutiveMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Actualizar m√©tricas evolutivas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shutdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BackupAgent.js</div>
                <div class="item-description">Apagar el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseAgent.js</div>
                <div class="item-description">Clase base para todos los agentes especializados Define la interfaz com√∫n y funcionalidades b√°sicas / class BaseAgent { constructor(name, eventBus, config = {}) { this.name = name; this.eventBus = eventBus; this.isActive = false; this.listeners = new Map(); this.logger = createLogger(`BASE_AGENT_${name.toUpperCase()}`); this.config = { priority: 'medium', maxConcurrentTasks: 5, retryAttempts: 3, timeout: 30000, ...config }; this.stats = { eventsProcessed: 0, eventsEmitted: 0, errors: 0, averageProcessingTime: 0, lastActivity: null, startTime: null }; this.currentTasks = new Set(); this.taskQueue = []; this.processingTimes = []; } /** Inicia el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseAgent.js</div>
                <div class="item-description">Detiene el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">on</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseAgent.js</div>
                <div class="item-description">Registra un listener para un tipo de evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseAgent.js</div>
                <div class="item-description">Procesa un evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processTaskQueue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseAgent.js</div>
                <div class="item-description">Procesa la cola de tareas pendientes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">emit</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseAgent.js</div>
                <div class="item-description">Emite un evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseAgent.js</div>
                <div class="item-description">Actualiza estad√≠sticas del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseAgent.js</div>
                <div class="item-description">Maneja errores del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sanitizeData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseAgent.js</div>
                <div class="item-description">Sanitiza datos sensibles</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">waitForCurrentTasks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseAgent.js</div>
                <div class="item-description">Espera a que terminen las tareas actuales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unregisterEventListeners</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseAgent.js</div>
                <div class="item-description">Desregistra todos los listeners</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseAgent.js</div>
                <div class="item-description">Obtiene estad√≠sticas del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseAgent.js</div>
                <div class="item-description">Obtiene informaci√≥n del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isHealthy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseAgent.js</div>
                <div class="item-description">Verifica si el agente est√° saludable</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerEventListeners</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseAgent.js</div>
                <div class="item-description">Registra los listeners espec√≠ficos del agente Debe ser implementado por cada agente especializado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">onStart</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseAgent.js</div>
                <div class="item-description">Inicializaci√≥n espec√≠fica del agente Puede ser sobrescrito por las subclases</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">onStop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseAgent.js</div>
                <div class="item-description">Limpieza espec√≠fica del agente Puede ser sobrescrito por las subclases</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseService.js</div>
                <div class="item-description">Clase base para todos los servicios del sistema Proporciona funcionalidad com√∫n y estructura est√°ndar / class BaseService { constructor(serviceName, options = {}) { this.serviceName = serviceName; this.logger = createLogger(serviceName.toUpperCase()); this.db = null; this.isInitialized = false; this.config = options.config || {}; this.dependencies = options.dependencies || []; // Estado del servicio this.status = 'stopped'; this.startTime = null; this.lastError = null; this.metrics = { operationsCount: 0, errorsCount: 0, lastOperation: null, averageResponseTime: 0 }; } /** Inicializar el servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseService.js</div>
                <div class="item-description">Iniciar el servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseService.js</div>
                <div class="item-description">Detener el servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkDependencies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseService.js</div>
                <div class="item-description">Verificar dependencias del servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeWithMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseService.js</div>
                <div class="item-description">Ejecutar operaci√≥n con m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseService.js</div>
                <div class="item-description">Actualizar m√©tricas del servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseService.js</div>
                <div class="item-description">Obtener estado del servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseService.js</div>
                <div class="item-description">Obtener informaci√≥n de salud del servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">restart</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseService.js</div>
                <div class="item-description">Reiniciar el servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">onInitialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseService.js</div>
                <div class="item-description">Inicializaci√≥n espec√≠fica del servicio Debe ser implementado por las clases hijas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">onStart</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseService.js</div>
                <div class="item-description">Inicio espec√≠fico del servicio Debe ser implementado por las clases hijas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">onStop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseService.js</div>
                <div class="item-description">Detenci√≥n espec√≠fica del servicio Debe ser implementado por las clases hijas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">onHealthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/BaseService.js</div>
                <div class="item-description">Health check espec√≠fico del servicio Debe ser implementado por las clases hijas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CacheService.js</div>
                <div class="item-description">Redis Cache Service Implementa cache distribuido para optimizar rendimiento Recomendaci√≥n #16: Redis Cache / import Redis from 'ioredis'; import logger from './logger.js'; class CacheService { constructor() { this.redis = null; this.isConnected = false; this.defaultTTL = 3600; // 1 hora por defecto this.keyPrefix = 'chatbot:'; // Configuraci√≥n de Redis this.config = { host: process.env.REDIS_HOST || 'localhost', port: process.env.REDIS_PORT || 6379, password: process.env.REDIS_PASSWORD || null, db: process.env.REDIS_DB || 0, retryDelayOnFailover: 100, maxRetriesPerRequest: 3, lazyConnect: true, keepAlive: 30000, connectTimeout: 10000, commandTimeout: 5000 }; } /** Inicializar conexi√≥n Redis</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">get</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CacheService.js</div>
                <div class="item-description">Obtener valor del cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">set</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CacheService.js</div>
                <div class="item-description">Establecer valor en cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">del</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CacheService.js</div>
                <div class="item-description">Eliminar valor del cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">delPattern</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CacheService.js</div>
                <div class="item-description">Eliminar m√∫ltiples claves por patr√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">exists</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CacheService.js</div>
                <div class="item-description">Verificar si existe una clave</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">incr</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CacheService.js</div>
                <div class="item-description">Incrementar valor num√©rico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">expire</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CacheService.js</div>
                <div class="item-description">Establecer TTL para una clave existente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">mget</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CacheService.js</div>
                <div class="item-description">Obtener m√∫ltiples valores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">remember</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CacheService.js</div>
                <div class="item-description">Cache con funci√≥n de fallback</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">flush</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CacheService.js</div>
                <div class="item-description">Limpiar todo el cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CacheService.js</div>
                <div class="item-description">Obtener estad√≠sticas del cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">close</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CacheService.js</div>
                <div class="item-description">Cerrar conexi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventListeners</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">CommunicatorAgent - Agente Evolutivo de Comunicaci√≥n Inter-Agentes Transformaci√≥n evolutiva del ModuleCommunicator en un agente event-driven que gestiona la comunicaci√≥n inteligente, descubrimiento din√°mico y orquestaci√≥n de agentes / import { promises as fs } from 'fs'; import path from 'path'; import { v4 as uuidv4 } from 'uuid'; class CommunicatorAgent { constructor(eventHub, logger) { this.id = uuidv4(); this.name = 'CommunicatorAgent'; this.version = '2.0.0'; this.eventHub = eventHub; this.logger = logger; // Configuraci√≥n evolutiva this.config = { isActive: true, autoDiscovery: true, intelligentRouting: true, adaptiveLoadBalancing: true, predictiveScaling: true, autoRecovery: true, maxRetries: 3, retryDelay: 1000, healthCheckInterval: 30000, communicationTimeout: 10000, maxEventHistory: 10000, learningEnabled: true, optimizationInterval: 300000, // 5 minutos anomalyDetection: true, performanceMonitoring: true }; // Estado del agente this.agentState = { isInitialized: false, isActive: false, lastHealthCheck: null, totalCommunications: 0, successfulCommunications: 0, failedCommunications: 0, averageResponseTime: 0, peakLoad: 0, currentLoad: 0 }; // Registro de agentes this.agents = new Map(); this.agentStatus = new Map(); this.agentDependencies = new Map(); this.agentCapabilities = new Map(); this.agentMetrics = new Map(); // Sistema de comunicaci√≥n inteligente this.communicationHistory = []; this.routingTable = new Map(); this.loadBalancer = new Map(); this.circuitBreakers = new Map(); // M√©tricas evolutivas this.evolutiveMetrics = { communicationPatterns: new Map(), performanceBaselines: new Map(), anomalies: [], optimizations: [], predictions: new Map(), learningData: { routingOptimizations: new Map(), loadPatterns: new Map(), failurePatterns: new Map(), recoveryStrategies: new Map() } }; // Timers y procesos this.timers = { healthCheck: null, optimization: null, cleanup: null, monitoring: null }; // Sistema de mutex para operaciones cr√≠ticas this.mutex = { agentRegistration: false, communication: false, optimization: false }; this.setupEventListeners(); } /** Configurar listeners de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Inicializar el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setActive</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Activar/desactivar el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeRoutingTable</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Inicializar tabla de enrutamiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeLoadBalancer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Inicializar balanceador de carga</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeCircuitBreakers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Inicializar circuit breakers</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performAgentDiscovery</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Realizar descubrimiento de agentes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleSystemStartup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Manejar startup del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleAgentRegistration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Manejar registro de agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleAgentUnregistration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Manejar desregistro de agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleAgentStatusChange</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Manejar cambio de estado de agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleCapabilityUpdate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Manejar actualizaci√≥n de capacidades</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleCommunicationRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Manejar solicitud de comunicaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleBroadcastRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Manejar solicitud de broadcast</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">findOptimalRoute</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Encontrar ruta √≥ptima</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateRouteScore</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Calcular score de ruta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Enviar mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isCircuitBreakerClosed</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Verificar si circuit breaker est√° cerrado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordCommunication</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Registrar comunicaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCurrentLoad</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Obtener carga actual de un agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateRoutingTable</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Actualizar tabla de enrutamiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startHealthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Iniciar health check</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performHealthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Realizar health check</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startOptimization</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Iniciar optimizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performOptimization</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Realizar optimizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeRoutes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Optimizar rutas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeLoadBalancer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Optimizar balanceador de carga</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectAnomalies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Detectar anomal√≠as</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">learnCommunicationPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Aprender patrones de comunicaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startPerformanceMonitoring</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Iniciar monitoreo de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">monitorPerformance</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Monitorear rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleHealthCheckRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Manejar solicitud de health check</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleMetricsRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Manejar solicitud de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handlePerformanceAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Manejar alerta de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleAgentFailure</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Manejar fallo de agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">redistributeTraffic</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Redistribuir tr√°fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">attemptAgentRecovery</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Intentar recuperaci√≥n de agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleSystemShutdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Manejar apagado del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopTimers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Detener timers</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveAgentState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Guardar estado del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadAgentState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Cargar estado del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveRoutingTable</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Guardar tabla de enrutamiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCapabilities</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Obtener capacidades del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAgentInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Obtener informaci√≥n del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Limpiar datos antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/CommunicatorAgent.js</div>
                <div class="item-description">Destructor del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">ContactsAgent - Agente Event-Driven para Gesti√≥n Inteligente de Contactos Transforma el m√≥dulo de contactos en un agente inteligente que maneja: - Gesti√≥n inteligente de contactos y duplicados - Segmentaci√≥n autom√°tica y din√°mica - An√°lisis de comportamiento y patrones - Sincronizaci√≥n con fuentes externas - Enriquecimiento autom√°tico de datos - Validaci√≥n y normalizaci√≥n - Monitoreo de calidad de datos - Alertas y notificaciones</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 2.0.0 /  import { EventEmitter } from 'events'; import fs from 'fs-extra'; import path from 'path'; import { getDatabase } from './database.js'; import { createLogger } from './logger.js'; import { Contact } from '../core/Contact.js';  const logger = createLogger('CONTACTS_AGENT');  /** Agente inteligente para gesti√≥n de contactos / export class ContactsAgent extends EventEmitter { constructor(options = {}) { super();  // Configuraciones evolutivas del agente this.config = { // Configuraci√≥n de duplicados duplicateDetection: { enabled: true, threshold: 0.85, // Umbral de similitud autoMerge: false, fields: ['phone', 'email', 'name'] },  // Configuraci√≥n de segmentaci√≥n segmentation: { enabled: true, autoUpdate: true, updateInterval: 60 * 60 * 1000, // 1 hora maxSegments: 100 },  // Configuraci√≥n de enriquecimiento enrichment: { enabled: true, sources: ['social', 'business', 'location'], autoEnrich: true, batchSize: 10 },  // Configuraci√≥n de validaci√≥n validation: { phoneValidation: true, emailValidation: true, nameNormalization: true, addressValidation: false },  // Configuraci√≥n de sincronizaci√≥n sync: { enabled: false, sources: [], interval: 24 * 60 * 60 * 1000, // 24 horas conflictResolution: 'manual' },  // Configuraci√≥n de an√°lisis analytics: { enabled: true, trackInteractions: true, behaviorAnalysis: true, retentionPeriod: 90 * 24 * 60 * 60 * 1000 // 90 d√≠as },  // Configuraci√≥n de alertas alerts: { duplicateThreshold: 10, inactiveContactDays: 30, dataQualityThreshold: 0.8, segmentSizeThreshold: 1000 },  // Configuraci√≥n de optimizaci√≥n optimization: { enabled: true, interval: 6 * 60 * 60 * 1000, // 6 horas autoCleanup: true, archiveInactive: true },  ...options };  // Estado del agente this.state = { isActive: false, isProcessing: false, lastSync: null, lastOptimization: null, lastAnalysis: null, totalContacts: 0, duplicatesFound: 0, segmentsUpdated: 0 };  // Gesti√≥n de contactos y datos this.contacts = new Map(); this.segments = new Map(); this.tags = new Map(); this.customFields = new Map(); this.duplicateCandidates = new Map();  // Sistema de an√°lisis y patrones this.behaviorPatterns = new Map(); this.interactionHistory = []; this.segmentationRules = new Map(); this.enrichmentQueue = [];  // M√©tricas evolutivas this.metrics = { contacts: { total: 0, active: 0, inactive: 0, duplicates: 0, enriched: 0, validated: 0 }, segments: { total: 0, dynamic: 0, static: 0, avgSize: 0 }, quality: { completeness: 0, accuracy: 0, consistency: 0, validity: 0 }, operations: { created: 0, updated: 0, deleted: 0, merged: 0, enriched: 0 } };  // Colas de procesamiento this.processingQueues = { validation: [], enrichment: [], segmentation: [], deduplication: [] };  // Timers y procesos this.timers = { segmentation: null, optimization: null, sync: null, analytics: null, cleanup: null };  // Mutex para operaciones cr√≠ticas this.mutex = { processing: false, segmentation: false, sync: false, persistence: false };  // Dependencias this.db = getDatabase(); this.files = this.db.files;  // Configurar manejo de errores this.setMaxListeners(100); this.on('error', this.handleError.bind(this));  logger.info('ContactsAgent inicializado'); }  /** Inicializar el agente 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">activate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">Activar el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deactivate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">Desactivar el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupSystemEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">Configurar eventos del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupContactEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">Configurar eventos de contactos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleCreateContact</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">Manejar creaci√≥n de contacto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleUpdateContact</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">Manejar actualizaci√≥n de contacto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateContactData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">Validar datos de contacto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">findDuplicates</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">Encontrar contactos duplicados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateContactSimilarity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">Calcular similitud entre contactos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateStringSimilarity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">Calcular similitud entre strings</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">levenshteinDistance</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">Calcular distancia de Levenshtein</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">normalizePhoneNumber</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">Normalizar n√∫mero de tel√©fono</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isValidPhoneNumber</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">Validar n√∫mero de tel√©fono</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isValidEmail</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">Validar email</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">normalizeName</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">Normalizar nombre</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeContactChanges</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">Analizar cambios en contacto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadContacts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">Cargar contactos desde base de datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getContactById</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">Obtener contacto por ID</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">Actualizar m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopTimers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">Detener timers</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processRemainingQueues</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">Procesar colas restantes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">Guardar estado del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">Cargar estado del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadSegments</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">Cargar segmentos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadBehaviorPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">Cargar patrones de comportamiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleSystemShutdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">Manejar apagado del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAgentInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">Obtener informaci√≥n del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAgentStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">Obtener estad√≠sticas del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">Destruir el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ContactsAgent.js</div>
                <div class="item-description">Manejar errores del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventListeners</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ConversationAgent.js</div>
                <div class="item-description">CONVERSATION AGENT - Agente evolutivo para flujos conversacionales Agente inteligente que maneja la l√≥gica conversacional, detecci√≥n de intenciones, generaci√≥n de respuestas con IA y gesti√≥n de flujos de conversaci√≥n a trav√©s de eventos.</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Sistema Event-Driven Evolutivo<br><strong>@version:</strong> 1.0.0 /  import fs from 'fs-extra'; import path from 'path'; import axios from 'axios'; import { createLogger } from '../core/evolutive-logger.js'; import { v4 as uuidv4 } from 'uuid';  class ConversationAgent { constructor(eventHub) { this.eventHub = eventHub; this.logger = createLogger('ConversationAgent'); this.agentId = uuidv4(); this.isActive = false;  // Estado del agente this.state = { activeConversations: new Map(), processedMessages: 0, aiResponses: 0, templatesUsed: 0, lastActivity: null, errors: 0 };  // Configuraci√≥n this.config = { aiEndpoint: process.env.AI_ENDPOINT || 'http://localhost:1234/v1/chat/completions', aiModel: process.env.AI_MODEL || 'local-model', maxTokens: 500, temperature: 0.7, intentionThreshold: 0.7, templateCooldown: 300000, // 5 minutos maxRetries: 3, responseTimeout: 30000 };  // Palabras clave para detecci√≥n de intenci√≥n this.intentionKeywords = { highIntention: [ 'quiero participar', 'me interesa mucho', 'c√≥mo me inscribo', 'quiero comprar', 'me apunto', 'acepto', 's√≠ quiero', 'm√°ndame el formulario', 'quiero el link', 'env√≠ame la info' ], mediumIntention: [ 'me interesa', 'cu√°nto cuesta', 'm√°s informaci√≥n', 'c√≥mo funciona', 'qu√© incluye', 'cu√°les son los requisitos', 'hasta cu√°ndo', 'hay descuentos', 'formas de pago' ], lowIntention: [ 'de qu√© se trata', 'no entiendo', 'expl√≠came', 'qu√© es esto', 'cu√©ntame m√°s', 'informaci√≥n', 'detalles', 'qu√© premios', 'cu√°ndo es' ], rejection: [ 'no me interesa', 'no quiero', 'no gracias', 'd√©jame en paz', 'no molestes', 'estafa', 'fraude', 'no conf√≠o', 'stop', 'basta', 'eliminar', 'borrar' ] };  // Etapas de conversaci√≥n this.conversationStages = { NEW: 'new', INITIAL: 'initial', ENGAGED: 'engaged', INTERESTED: 'interested', QUALIFIED: 'qualified', CONVERTED: 'converted', REJECTED: 'rejected' };  // M√©tricas de rendimiento this.metrics = { intentionDetections: 0, aiResponsesGenerated: 0, templatesDeployed: 0, conversionsAchieved: 0, averageResponseTime: 0, successRate: 0 };  this.setupEventListeners(); }  /** Configura los listeners de eventos 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">activate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ConversationAgent.js</div>
                <div class="item-description">Activa el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeAgent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ConversationAgent.js</div>
                <div class="item-description">Inicializa el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleIncomingMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ConversationAgent.js</div>
                <div class="item-description">Maneja mensajes entrantes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleProcessMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ConversationAgent.js</div>
                <div class="item-description">Procesa un mensaje con contexto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleIntentionDetection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ConversationAgent.js</div>
                <div class="item-description">Maneja la detecci√≥n de intenci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectIntention</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ConversationAgent.js</div>
                <div class="item-description">Detecta la intenci√≥n del mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateKeywordConfidence</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ConversationAgent.js</div>
                <div class="item-description">Calcula la confianza de una palabra clave</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">determineAction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ConversationAgent.js</div>
                <div class="item-description">Determina la acci√≥n a tomar basada en la intenci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleAIResponseRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ConversationAgent.js</div>
                <div class="item-description">Maneja solicitudes de respuesta de IA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateAIResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ConversationAgent.js</div>
                <div class="item-description">Genera respuesta de IA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">buildAIPrompt</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ConversationAgent.js</div>
                <div class="item-description">Construye el prompt para la IA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSystemPrompt</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ConversationAgent.js</div>
                <div class="item-description">Obtiene el prompt del sistema para IA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleTemplateSend</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ConversationAgent.js</div>
                <div class="item-description">Maneja env√≠o de plantillas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleContextUpdate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ConversationAgent.js</div>
                <div class="item-description">Maneja actualizaciones de contexto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">adjustConfidenceByContext</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ConversationAgent.js</div>
                <div class="item-description">Ajusta confianza basada en contexto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getContextFactors</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ConversationAgent.js</div>
                <div class="item-description">Obtiene factores de contexto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractMatchedKeywords</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ConversationAgent.js</div>
                <div class="item-description">Extrae palabras clave coincidentes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">normalizePhone</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ConversationAgent.js</div>
                <div class="item-description">Normaliza n√∫mero telef√≥nico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getErrorResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ConversationAgent.js</div>
                <div class="item-description">Respuesta de error por defecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ConversationAgent.js</div>
                <div class="item-description">Actualiza m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleStatsRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ConversationAgent.js</div>
                <div class="item-description">Maneja solicitudes de estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleHealthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ConversationAgent.js</div>
                <div class="item-description">Maneja verificaciones de salud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleActivateAgent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ConversationAgent.js</div>
                <div class="item-description">Maneja activaci√≥n del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleDeactivateAgent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ConversationAgent.js</div>
                <div class="item-description">Maneja desactivaci√≥n del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deactivate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ConversationAgent.js</div>
                <div class="item-description">Desactiva el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ConversationAgent.js</div>
                <div class="item-description">Obtiene el estado actual del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DatabaseOptimizationService.js</div>
                <div class="item-description">Database Optimization Service Servicio avanzado para optimizaci√≥n de consultas y rendimiento de base de datos Recomendaci√≥n #17: Optimizaci√≥n de consultas de base de datos / import logger from './logger.js'; import DatabaseManager from '../../../config/database/DatabaseManager.js'; import { query, QueryHelpers } from '../../../shared/utils/helpers/queryBuilder.js'; class DatabaseOptimizationService { constructor() { this.queryStats = new Map(); this.slowQueries = []; this.indexRecommendations = []; this.performanceMetrics = { totalQueries: 0, slowQueries: 0, averageQueryTime: 0, cacheHitRatio: 0, indexUsage: new Map() }; this.config = { slowQueryThreshold: 1000, // 1 segundo maxSlowQueries: 100, analysisInterval: 300000, // 5 minutos autoOptimize: process.env.DB_AUTO_OPTIMIZE === 'true', enableQueryProfiling: process.env.DB_QUERY_PROFILING !== 'false' }; // Obtener la instancia singleton de DatabaseManager this.dbManager = DatabaseManager.getInstance(); this.startPerformanceMonitoring(); } /** Inicializar optimizaciones avanzadas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createAdvancedIndexes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DatabaseOptimizationService.js</div>
                <div class="item-description">Crear √≠ndices avanzados y compuestos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeDatabaseSettings</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DatabaseOptimizationService.js</div>
                <div class="item-description">Optimizar configuraciones de SQLite</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeTableStatistics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DatabaseOptimizationService.js</div>
                <div class="item-description">Analizar estad√≠sticas de tablas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeTable</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DatabaseOptimizationService.js</div>
                <div class="item-description">Analizar tabla espec√≠fica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeWithProfiling</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DatabaseOptimizationService.js</div>
                <div class="item-description">Ejecutar consulta con profiling</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordQueryStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DatabaseOptimizationService.js</div>
                <div class="item-description">Registrar estad√≠sticas de consulta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordSlowQuery</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DatabaseOptimizationService.js</div>
                <div class="item-description">Registrar consulta lenta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateQueryId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DatabaseOptimizationService.js</div>
                <div class="item-description">Generar ID √∫nico para consulta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeIndexRecommendations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DatabaseOptimizationService.js</div>
                <div class="item-description">Analizar y recomendar √≠ndices</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeQueryForIndex</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DatabaseOptimizationService.js</div>
                <div class="item-description">Analizar consulta para recomendar √≠ndice</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateIndexConfidence</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DatabaseOptimizationService.js</div>
                <div class="item-description">Calcular confianza de recomendaci√≥n de √≠ndice</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">runAutoOptimization</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DatabaseOptimizationService.js</div>
                <div class="item-description">Ejecutar optimizaci√≥n autom√°tica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createRecommendedIndex</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DatabaseOptimizationService.js</div>
                <div class="item-description">Crear √≠ndice recomendado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupStatistics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DatabaseOptimizationService.js</div>
                <div class="item-description">Limpiar estad√≠sticas obsoletas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startPerformanceMonitoring</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DatabaseOptimizationService.js</div>
                <div class="item-description">Iniciar monitoreo de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updatePerformanceMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DatabaseOptimizationService.js</div>
                <div class="item-description">Actualizar m√©tricas de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPerformanceStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DatabaseOptimizationService.js</div>
                <div class="item-description">Obtener estad√≠sticas de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSlowestQueries</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DatabaseOptimizationService.js</div>
                <div class="item-description">Obtener consultas m√°s lentas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMostFrequentQueries</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DatabaseOptimizationService.js</div>
                <div class="item-description">Obtener consultas m√°s frecuentes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateOptimizationReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DatabaseOptimizationService.js</div>
                <div class="item-description">Generar reporte de optimizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeService</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Dialog360Service.js</div>
                <div class="item-description">360Dialog Service Servicio especializado para integraci√≥n con 360Dialog WhatsApp Business API Implementa funcionalidades espec√≠ficas para alta eficiencia y estabilidad / import axios from 'axios'; import crypto from 'crypto'; import logger from './logger.js'; import EventBus from '../EventBus.js'; import { EventTypes } from './EventTypes.js'; /** Clase personalizada para errores de 360Dialog / class Dialog360Error extends Error { constructor(message, code = 'DIALOG360_ERROR', statusCode = null, details = null) { super(message); this.name = 'Dialog360Error'; this.code = code; this.statusCode = statusCode; this.details = details; } } class Dialog360Service { constructor() { this.baseUrl = process.env.WABA_API_BASE || 'https://waba-v2.360dialog.io'; this.apiKey = process.env.DIALOG360_API_KEY; this.clientId = process.env.DIALOG360_CLIENT_ID; this.partnerId = process.env.DIALOG360_PARTNER_ID; this.namespace = process.env.DIALOG360_NAMESPACE; this.webhookSecret = process.env.DIALOG360_WEBHOOK_SECRET; this.eventBus = new EventBus(); this.rateLimiter = new Map(); this.messageQueue = []; this.isProcessingQueue = false; // Configuraci√≥n de reintentos this.retryConfig = { maxRetries: 3, baseDelay: 1000, maxDelay: 10000, backoffFactor: 2 }; // M√©tricas de rendimiento this.metrics = { messagesSent: 0, messagesReceived: 0, errors: 0, avgResponseTime: 0, lastActivity: null }; this.initializeService(); } /** Inicializar el servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">healthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Dialog360Service.js</div>
                <div class="item-description">Verificar estado de salud del servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendTextMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Dialog360Service.js</div>
                <div class="item-description">Enviar mensaje de texto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Dialog360Service.js</div>
                <div class="item-description">M√©todo principal para enviar mensajes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processWebhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Dialog360Service.js</div>
                <div class="item-description">Procesar webhook de 360Dialog</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processWebhookChange</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Dialog360Service.js</div>
                <div class="item-description">Procesar cambios del webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processIncomingMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Dialog360Service.js</div>
                <div class="item-description">Procesar mensaje entrante</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractMessageContent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Dialog360Service.js</div>
                <div class="item-description">Extraer contenido del mensaje seg√∫n su tipo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">makeRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Dialog360Service.js</div>
                <div class="item-description">Realizar petici√≥n HTTP con reintentos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Dialog360Service.js</div>
                <div class="item-description">Actualizar m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Dialog360Service.js</div>
                <div class="item-description">Obtener m√©tricas del servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sleep</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Dialog360Service.js</div>
                <div class="item-description">Funci√≥n auxiliar para sleep</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startQueueProcessor</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Dialog360Service.js</div>
                <div class="item-description">Iniciar procesador de cola de mensajes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processQueue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Dialog360Service.js</div>
                <div class="item-description">Procesar cola de mensajes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">queueMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Dialog360Service.js</div>
                <div class="item-description">Agregar mensaje a la cola</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Dialog360Service.js</div>
                <div class="item-description">Detener el servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Gateway distribuido para sincronizaci√≥n de eventos entre entornos Permite comunicaci√≥n entre servidores locales, cloud y otros sistemas / class DistributedGateway extends EventEmitter { constructor(eventBus, config = {}) { super(); this.eventBus = eventBus; this.logger = createLogger('DISTRIBUTED_GATEWAY'); this.config = { nodeId: config.nodeId || this.generateNodeId(), port: config.port || 8080, enableServer: config.enableServer !== false, enableClient: config.enableClient !== false, heartbeatInterval: config.heartbeatInterval || 30000, reconnectInterval: config.reconnectInterval || 5000, maxReconnectAttempts: config.maxReconnectAttempts || 10, compression: config.compression !== false, encryption: config.encryption || false, authentication: config.authentication || false, eventFilters: config.eventFilters || [], syncPatterns: config.syncPatterns || ['*'], // Patrones de eventos a sincronizar ...config }; // Estado del gateway this.isActive = false; this.server = null; this.clients = new Map(); // Conexiones salientes this.connections = new Map(); // Conexiones entrantes this.nodes = new Map(); // Nodos conocidos this.messageQueue = []; this.syncStats = { messagesSent: 0, messagesReceived: 0, connectionsEstablished: 0, connectionsFailed: 0, syncErrors: 0, lastSyncTime: null, uptime: null }; // Configuraci√≥n de nodos remotos this.remoteNodes = new Map(); if (config.remoteNodes) { config.remoteNodes.forEach(node => { this.addRemoteNode(node); }); } this.heartbeatTimer = null; this.reconnectTimers = new Map(); this.initializeEventHandlers(); } /** Inicia el gateway distribuido</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Detiene el gateway distribuido</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startServer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Inicia el servidor WebSocket</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleIncomingConnection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Maneja conexiones entrantes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">connectToRemoteNodes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Conecta a nodos remotos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">connectToNode</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Conecta a un nodo espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleNodeMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Maneja mensajes de nodos remotos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleIncomingMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Maneja mensajes de conexiones entrantes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processIncomingMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Procesa mensajes entrantes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleEventSync</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Maneja sincronizaci√≥n de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">syncEventToNodes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Sincroniza evento a nodos remotos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldSyncEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Verifica si un evento debe ser sincronizado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendToNode</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Env√≠a mensaje a un nodo espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendToConnection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Env√≠a mensaje a una conexi√≥n espec√≠fica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">broadcastToNodes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Difunde mensaje a todos los nodos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addRemoteNode</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">A√±ade nodo remoto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scheduleReconnection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Programa reconexi√≥n a un nodo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startHeartbeat</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Inicia heartbeat</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendHeartbeat</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Env√≠a heartbeat a todos los nodos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkConnectionHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Verifica salud de conexiones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerEventBusListeners</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Registra listeners del EventBus</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeEventHandlers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Inicializa manejadores de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateNodeId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Genera ID de nodo √∫nico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateConnectionId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Genera ID de conexi√≥n √∫nico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateMessageId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Genera ID de mensaje √∫nico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getBasicStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Obtiene estad√≠sticas b√°sicas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Obtiene estad√≠sticas completas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleNodeDisconnection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Maneja desconexi√≥n de nodo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">disconnectFromNode</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Desconecta de un nodo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleConnectionClose</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Maneja cierre de conexi√≥n entrante</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleHandshakeRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Maneja handshake request</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleHandshakeResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Maneja handshake response</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleHeartbeat</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/DistributedGateway.js</div>
                <div class="item-description">Maneja heartbeat</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventListeners</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">ErrorAgent - Agente evolutivo de gesti√≥n inteligente de errores (Refactorizado) Funcionalidades principales: - Captura centralizada de errores del sistema - An√°lisis de patrones y correlaciones - Auto-recuperaci√≥n inteligente - Aprendizaje de contextos y estrategias - Predicci√≥n de fallos - Escalamiento inteligente de alertas Arquitectura modular: - ErrorClassificationService: Clasificaci√≥n inteligente - ErrorPatternAnalyzer: An√°lisis de patrones - ErrorRecoverySystem: Sistema de auto-recuperaci√≥n - ErrorPredictionEngine: Motor de predicci√≥n - ErrorLearningSystem: Sistema de aprendizaje - ErrorMetricsCollector: Recolecci√≥n de m√©tricas - ErrorBufferManager: Gesti√≥n de buffers y logs / import { promises as fs } from 'fs'; import path from 'path'; import EventHub from '../core/event_hub.js'; import EvolutiveLogger from './evolutive-logger.js'; // Importar m√≥dulos especializados import ErrorClassificationService from '../../error/classification/ErrorClassificationService.js'; import ErrorPatternAnalyzer from '../../error/patterns/ErrorPatternAnalyzer.js'; import ErrorRecoverySystem from '../../error/recovery/ErrorRecoverySystem.js'; import ErrorPredictionEngine from '../../error/prediction/ErrorPredictionEngine.js'; import ErrorLearningSystem from '../../error/learning/ErrorLearningSystem.js'; import ErrorMetricsCollector from '../../error/metrics/ErrorMetricsCollector.js'; import ErrorBufferManager from '../../error/buffer/ErrorBufferManager.js'; class ErrorAgent { constructor() { // Configuraci√≥n principal this.config = { isActive: false, logPath: './logs/errors', maxLogSize: 50 * 1024 * 1024, // 50MB maxLogFiles: 10, bufferSize: 10000, flushInterval: 60000, // 1 minuto analysisInterval: 300000, // 5 minutos performanceInterval: 30000, // 30 segundos autoRecovery: true, intelligentClassification: true, learningEnabled: true, predictionEnabled: true, alertThresholds: { errorRate: 10, // errores por minuto criticalErrors: 5, // errores cr√≠ticos por hora moduleFailureRate: 0.1 // 10% de tasa de fallo }, trendAnalysisWindow: 3600000, // 1 hora retentionPeriod: 86400000 // 24 horas }; // Servicios especializados this.services = { classification: null, patterns: null, recovery: null, prediction: null, learning: null, metrics: null, buffer: null }; // Configuraciones para servicios this.serviceConfigs = { classification: { intelligentClassification: true, semanticAnalysis: true, contextualAnalysis: true, duplicateDetection: true, autoTagging: true }, patterns: { temporalAnalysis: true, moduleAnalysis: true, correlationAnalysis: true, trendAnalysis: true, anomalyDetection: true }, recovery: { autoRecovery: true, maxRetries: 3, backoffMultiplier: 2, timeout: 30000, learningEnabled: true }, prediction: { enabled: true, temporalPrediction: true, patternPrediction: true, cascadePrediction: true, alertGeneration: true }, learning: { enabled: true, contextLearning: true, patternLearning: true, thresholdAdaptation: true, strategyOptimization: true }, metrics: { metricsEnabled: true, aggregationInterval: 60000, retentionPeriod: 86400000, reportingEnabled: true, reportInterval: 3600000 }, buffer: { bufferSize: 10000, maxMemoryUsage: 100 * 1024 * 1024, logDirectory: './logs/errors', logRotation: { enabled: true, maxFileSize: 50 * 1024 * 1024, maxFiles: 10, compress: true }, persistence: { enabled: true, interval: 300000, batchSize: 1000 } } }; // Hub de eventos this.eventHub = EventHub; // Logger evolutivo this.logger = new EvolutiveLogger('ErrorAgent'); // Estado del agente this.state = { initialized: false, startTime: Date.now(), lastAnalysis: null, lastFlush: null, errorCount: 0, recoveryAttempts: 0, learningIterations: 0 }; // Temporizadores this.timers = { analysis: null, performance: null, cleanup: null }; // Configurar listeners de eventos this.setupEventListeners(); } /** Configurar listeners de eventos del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Inicializar agente de errores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeServices</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Inicializar servicios especializados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setActive</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Activar/desactivar agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Procesar error principal</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldAttemptRecovery</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Determinar si se debe intentar recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">attemptAutoRecovery</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Intentar auto-recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handlePredictions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Manejar predicciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleSystemStarted</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Manejar inicio del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleSystemError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Manejar error del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleCriticalError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Manejar error cr√≠tico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleApplicationError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Manejar error de aplicaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleApplicationWarning</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Manejar advertencia de aplicaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleDatabaseError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Manejar error de base de datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleDatabaseConnectionError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Manejar error de conexi√≥n de base de datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleNetworkError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Manejar error de red</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleNetworkTimeout</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Manejar timeout de red</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleValidationError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Manejar error de validaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleModuleError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Manejar error de m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleModuleWarning</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Manejar advertencia de m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleModuleFailure</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Manejar fallo de m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleTaskFailed</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Manejar fallo de tarea</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleTaskTimeout</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Manejar timeout de tarea</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleRetryExhausted</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Manejar reintentos agotados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleAuthError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Manejar error de autenticaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handlePermissionError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Manejar error de permisos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleUncaughtException</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Manejar excepci√≥n no capturada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleUnhandledRejection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Manejar promesa rechazada no manejada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleSystemShutdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Manejar cierre del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleStatsRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Manejar solicitud de estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleAnalysisRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Manejar solicitud de an√°lisis</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleRecoveryRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Manejar solicitud de recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">gatherContext</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Recopilar contexto del error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performAnalysis</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Realizar an√°lisis completo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Obtener estad√≠sticas completas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRecentErrors</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Obtener errores recientes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startTimers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Inicializar temporizadores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopTimers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Detener temporizadores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performPeriodicAnalysis</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">An√°lisis peri√≥dico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updatePerformanceMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Actualizar m√©tricas de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performCleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Realizar limpieza</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ensureDirectories</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Crear directorios necesarios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadAgentState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Cargar estado del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveAgentState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Guardar estado del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logBasicError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Registrar error b√°sico (fallback)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateErrorId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Generar ID √∫nico para error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateCorrelationId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Generar ID de correlaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">simpleHash</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Hash simple para correlaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sanitizeMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Sanitizar mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sanitizeMetadata</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Sanitizar metadata</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAgentInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Obtener informaci√≥n del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Limpiar recursos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ErrorAgent.js</div>
                <div class="item-description">Destruir agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventHub.js</div>
                <div class="item-description">EventHub - N√∫cleo evolutivo de eventos Canal principal de comunicaci√≥n para arquitectura event-driven Capaz de aprender, adaptarse y auto-optimizarse / class EventHub extends EventEmitter { constructor() { super(); this.logger = createLogger('EVENT_HUB'); // Estado del sistema this.agents = new Map(); // Agentes registrados this.eventHistory = []; // Historial de eventos this.eventPatterns = new Map(); // Patrones aprendidos this.eventMetrics = new Map(); // M√©tricas por tipo de evento this.adaptiveRules = new Map(); // Reglas adaptativas // Configuraci√≥n this.maxHistorySize = 10000; this.learningEnabled = true; this.autoOptimization = true; this.persistenceEnabled = true; // Rutas de almacenamiento this.storageDir = path.join(process.cwd(), 'storage'); this.eventsLogPath = path.join(this.storageDir, 'events_log.json'); this.patternsPath = path.join(this.storageDir, 'learned_patterns.json'); this.metricsPath = path.join(this.storageDir, 'event_metrics.json'); // Adaptadores de comunicaci√≥n this.adapters = new Map(); // Configurar l√≠mites this.setMaxListeners(1000); // Inicializar sistema this.initialize(); this.logger.info('üß† EventHub evolutivo inicializado'); } /** Inicializaci√≥n del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerAgent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventHub.js</div>
                <div class="item-description">Registrar un agente en el sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">emitEvolutive</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventHub.js</div>
                <div class="item-description">Emisi√≥n evolutiva de eventos con aprendizaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">onEvolutive</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventHub.js</div>
                <div class="item-description">Suscripci√≥n evolutiva con capacidades de aprendizaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventHub.js</div>
                <div class="item-description">Registrar evento en historial</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventHub.js</div>
                <div class="item-description">Actualizar m√©tricas de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">applyAdaptiveRules</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventHub.js</div>
                <div class="item-description">Aplicar reglas adaptativas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">learnFromEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventHub.js</div>
                <div class="item-description">Aprender patrones de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startOptimizationEngine</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventHub.js</div>
                <div class="item-description">Motor de optimizaci√≥n autom√°tica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeSystem</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventHub.js</div>
                <div class="item-description">Optimizar sistema basado en m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startLearningEngine</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventHub.js</div>
                <div class="item-description">Motor de aprendizaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzePatternsAndSuggest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventHub.js</div>
                <div class="item-description">Analizar patrones y sugerir optimizaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupInternalListeners</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventHub.js</div>
                <div class="item-description">Configurar listeners internos del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">persistEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventHub.js</div>
                <div class="item-description">Persistir evento en almacenamiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadPersistedData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventHub.js</div>
                <div class="item-description">Cargar datos persistidos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveLearnedData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventHub.js</div>
                <div class="item-description">Guardar datos aprendidos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ensureStorageDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventHub.js</div>
                <div class="item-description">Asegurar directorio de almacenamiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSystemStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventHub.js</div>
                <div class="item-description">Obtener estad√≠sticas del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addAdaptiveRule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventHub.js</div>
                <div class="item-description">Agregar regla adaptativa</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addAdapter</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventHub.js</div>
                <div class="item-description">Agregar adaptador de comunicaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shutdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventHub.js</div>
                <div class="item-description">Parada limpia del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Sistema de Persistencia y Auditor√≠a de Eventos Registra, almacena y gestiona todos los eventos del sistema event-driven para auditor√≠a, an√°lisis y reproducci√≥n.</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 2.0.0 /  import fs from 'fs/promises'; import path from 'path'; import { createLogger } from './logger.js'; import { getDatabase } from './database.js';  const logger = createLogger('EVENT_LOGGER');  export class EventLogger { constructor(options = {}) { this.options = { // Configuraci√≥n de archivos logDirectory: options.logDirectory || './storage/events', maxFileSize: options.maxFileSize || 50 * 1024 * 1024, // 50MB maxFiles: options.maxFiles || 100, rotationInterval: options.rotationInterval || 24 * 60 * 60 * 1000, // 24 horas  // Configuraci√≥n de buffer bufferSize: options.bufferSize || 1000, flushInterval: options.flushInterval || 5000, // 5 segundos  // Configuraci√≥n de compresi√≥n enableCompression: options.enableCompression !== false, compressionLevel: options.compressionLevel || 6,  // Configuraci√≥n de filtros enableFiltering: options.enableFiltering !== false, excludeEvents: options.excludeEvents || [], includeEvents: options.includeEvents || [],  // Configuraci√≥n de √≠ndices enableIndexing: options.enableIndexing !== false, indexFields: options.indexFields || ['eventType', 'agentId', 'timestamp'],  ...options };  // Estado del logger this.isActive = false; this.currentFile = null; this.currentFileSize = 0; this.eventBuffer = []; this.flushTimer = null; this.rotationTimer = null;  // Estad√≠sticas this.stats = { eventsLogged: 0, eventsFiltered: 0, filesCreated: 0, totalSize: 0, errors: 0, lastFlush: null, lastRotation: null };  // √çndices para b√∫squeda r√°pida this.indices = { byEventType: new Map(), byAgentId: new Map(), byTimestamp: new Map(), byCorrelationId: new Map() };  // Cache de archivos recientes this.fileCache = new Map(); this.maxCacheSize = 10;  this.db = getDatabase(); }  /** Inicializar el logger de eventos 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Registrar un evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Registrar m√∫ltiples eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">searchEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Buscar eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getEventsByTimeRange</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Obtener eventos por rango de tiempo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getEventsByType</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Obtener eventos por tipo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getEventsByAgent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Obtener eventos por agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getEventFlow</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Obtener flujo de eventos por correlaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getEventStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Obtener estad√≠sticas de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">exportEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Exportar eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Limpiar eventos antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">enrichEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Enriquecer evento con metadatos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldLogEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Verificar si se debe registrar el evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateIndices</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Actualizar √≠ndices</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">trimIndices</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Recortar √≠ndices para mantener memoria bajo control</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">flushBuffer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Flush del buffer al archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">writeEventsToFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Escribir eventos al archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkFileRotation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Verificar y realizar rotaci√≥n de archivos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">rotateFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Rotar archivo de log</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldRotateByTime</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Verificar si debe rotar por tiempo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldFiles</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Limpiar archivos antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getLogFiles</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Obtener lista de archivos de log</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">searchInFiles</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Buscar en archivos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">searchInFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Buscar en un archivo espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">filterEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Filtrar eventos seg√∫n criterios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sortEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Ordenar eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">eventsToCSV</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Convertir eventos a CSV</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addToFileCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">A√±adir al cache de archivos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupIndicesForFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Limpiar √≠ndices para un archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateEventId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Generar ID √∫nico para evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">formatSize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Formatear tama√±o de archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ensureLogDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Asegurar que existe el directorio de logs</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupCurrentFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Configurar archivo actual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Cargar estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Guardar estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadIndices</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Cargar √≠ndices</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveIndices</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Guardar √≠ndices</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startFlushTimer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Iniciar timer de flush</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startRotationTimer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Iniciar timer de rotaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopTimers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Detener timers</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getLoggerStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Obtener estad√≠sticas del logger</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">close</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventLogger.js</div>
                <div class="item-description">Cerrar el logger</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">EventReplayer - Sistema de Reproducci√≥n de Eventos Permite reproducir flujos de eventos pasados para an√°lisis, debugging, testing y simulaci√≥n de escenarios.</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 2.0.0 /  import { createLogger } from './logger.js'; import { getEventLogger } from './EventLogger.js';  const logger = createLogger('EVENT_REPLAYER');  export class EventReplayer { constructor(eventHub, options = {}) { this.eventHub = eventHub; this.eventLogger = getEventLogger();  this.options = { // Configuraci√≥n de reproducci√≥n defaultSpeed: options.defaultSpeed || 1.0, // 1x velocidad real maxSpeed: options.maxSpeed || 100.0, minSpeed: options.minSpeed || 0.1,  // Configuraci√≥n de filtros enableFiltering: options.enableFiltering !== false, defaultFilters: options.defaultFilters || {},  // Configuraci√≥n de simulaci√≥n enableSimulation: options.enableSimulation !== false, simulationMode: options.simulationMode || 'replay', // replay, simulate, hybrid  // Configuraci√≥n de an√°lisis enableAnalysis: options.enableAnalysis !== false, analysisDepth: options.analysisDepth || 'full', // basic, detailed, full  // Configuraci√≥n de debugging enableDebugging: options.enableDebugging || false, breakpoints: options.breakpoints || [],  ...options };  // Estado del replayer this.isActive = false; this.isPaused = false; this.currentSession = null; this.currentPosition = 0; this.totalEvents = 0; this.speed = this.options.defaultSpeed;  // Control de reproducci√≥n this.playTimer = null; this.startTime = null; this.pausedTime = 0;  // Eventos y filtros this.events = []; this.filteredEvents = []; this.activeFilters = { ...this.options.defaultFilters };  // An√°lisis y m√©tricas this.analysis = { patterns: new Map(), anomalies: [], performance: {}, flows: new Map(), dependencies: new Map() };  // Debugging this.breakpoints = new Set(this.options.breakpoints); this.debugState = { isDebugging: false, currentBreakpoint: null, stepMode: false, watchedEvents: new Set() };  // Callbacks this.callbacks = { onStart: [], onPause: [], onResume: [], onStop: [], onEvent: [], onComplete: [], onError: [], onBreakpoint: [] };  // Estad√≠sticas de sesi√≥n this.sessionStats = { startTime: null, endTime: null, duration: 0, eventsReplayed: 0, errorsEncountered: 0, breakpointsHit: 0, averageEventTime: 0 }; }  /** Cargar eventos para reproducir 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadEventFlow</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Cargar flujo de eventos por correlaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startReplay</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Iniciar reproducci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">pauseReplay</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Pausar reproducci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">resumeReplay</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Reanudar reproducci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopReplay</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Detener reproducci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stepNext</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Avanzar al siguiente evento (modo paso a paso)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">seekTo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Ir a una posici√≥n espec√≠fica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setSpeed</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Cambiar velocidad de reproducci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">applyFilters</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Aplicar filtros a los eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scheduleNextEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Programar siguiente evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">replayNextEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Reproducir siguiente evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">replayEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Reproducir un evento espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">replayEventExact</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Reproducir evento exacto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">simulateEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Simular evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">hybridReplayEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Reproducir evento h√≠brido</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldSimulateEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Determinar si un evento debe ser simulado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldBreakAt</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Verificar si debe parar en un breakpoint</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleBreakpoint</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Manejar breakpoint</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getBreakpointInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Obtener informaci√≥n del breakpoint</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addBreakpoint</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">A√±adir breakpoint</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">removeBreakpoint</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Remover breakpoint</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clearBreakpoints</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Limpiar todos los breakpoints</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Analizar eventos cargados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzePatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Analizar patrones en los eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeAnomalies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Analizar anomal√≠as</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzePerformance</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Analizar rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeFlows</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Analizar flujos de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeDependencies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Analizar dependencias entre agentes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeEventFlow</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Analizar flujo espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">groupEventsByTimeWindow</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Agrupar eventos por ventana de tiempo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">completeReplay</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Completar reproducci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">resetSessionStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Resetear estad√≠sticas de sesi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateSessionStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Actualizar estad√≠sticas de sesi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updatePerformanceStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Actualizar estad√≠sticas de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">finalizeSessionStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Finalizar estad√≠sticas de sesi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">on</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Registrar callback</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">off</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Desregistrar callback</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeCallbacks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Ejecutar callbacks</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateSessionId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Generar ID de sesi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Obtener estado actual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSessionInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Obtener informaci√≥n de la sesi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">exportAnalysis</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Exportar an√°lisis</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analysisToCSV</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Convertir an√°lisis a CSV (implementaci√≥n b√°sica)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventReplayer.js</div>
                <div class="item-description">Destruir el replayer</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventStore.js</div>
                <div class="item-description">Sistema de memoria persistente para eventos Almacena todos los eventos con su payload y estado para auditor√≠a y replay / class EventStore { constructor(eventBus, options = {}) { this.eventBus = eventBus; this.logger = createLogger('EVENT_STORE'); this.storeFilePath = options.storeFilePath || path.join(process.cwd(), 'data', 'event_store.json'); this.maxEventsInMemory = options.maxEventsInMemory || 10000; this.maxFileSize = options.maxFileSize || 50 * 1024 * 1024; // 50MB this.compressionEnabled = options.compressionEnabled || true; this.events = new Map(); // Eventos en memoria this.eventIndex = new Map(); // √çndice por tipo de evento this.isActive = false; this.saveInterval = null; this.saveIntervalMs = options.saveIntervalMs || 30000; // 30 segundos this.stats = { totalEvents: 0, eventsInMemory: 0, eventsPersisted: 0, lastSave: null, storageSize: 0 }; } /** Inicia el almac√©n de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventStore.js</div>
                <div class="item-description">Detiene el almac√©n de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventListeners</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventStore.js</div>
                <div class="item-description">Configura listeners para capturar todos los eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">storeEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventStore.js</div>
                <div class="item-description">Almacena un evento en memoria</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateEventStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventStore.js</div>
                <div class="item-description">Actualiza el estado de un evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">markEventProcessed</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventStore.js</div>
                <div class="item-description">Marca un evento como procesado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">markEventFailed</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventStore.js</div>
                <div class="item-description">Marca un evento como fallido</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sanitizeData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventStore.js</div>
                <div class="item-description">Sanitiza los datos del evento para almacenamiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkMemoryLimits</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventStore.js</div>
                <div class="item-description">Verifica los l√≠mites de memoria y archiva eventos antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">archiveEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventStore.js</div>
                <div class="item-description">Archiva eventos en archivos separados por fecha</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventStore.js</div>
                <div class="item-description">Carga eventos desde el archivo de almacenamiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventStore.js</div>
                <div class="item-description">Guarda eventos en el archivo de almacenamiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">findEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventStore.js</div>
                <div class="item-description">Busca eventos por criterios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getEventsByType</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventStore.js</div>
                <div class="item-description">Obtiene eventos por tipo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventStore.js</div>
                <div class="item-description">Obtiene un evento por ID</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventStore.js</div>
                <div class="item-description">Obtiene estad√≠sticas del almac√©n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getEventStatusSummary</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventStore.js</div>
                <div class="item-description">Obtiene resumen de eventos por estado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventStore.js</div>
                <div class="item-description">Limpia eventos antiguos bas√°ndose en criterios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isEventOfCategory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventTypes.js</div>
                <div class="item-description">Definici√≥n de tipos de eventos para la arquitectura orientada a eventos Clasifica todos los eventos en tres categor√≠as principales: system.*, user.*, ai.* / const EventTypes = { // ===== EVENTOS DEL SISTEMA (system.*) ===== SYSTEM: { // Eventos de ciclo de vida del sistema STARTUP: 'system.startup', SHUTDOWN: 'system.shutdown', RESTART: 'system.restart', READY: 'system.ready', // Eventos de base de datos DATABASE_CONNECTED: 'system.database.connected', DATABASE_DISCONNECTED: 'system.database.disconnected', DATABASE_ERROR: 'system.database.error', DATABASE_BACKUP_STARTED: 'system.database.backup.started', DATABASE_BACKUP_COMPLETED: 'system.database.backup.completed', DATABASE_BACKUP_FAILED: 'system.database.backup.failed', // Eventos de servicios SERVICE_STARTED: 'system.service.started', SERVICE_STOPPED: 'system.service.stopped', SERVICE_ERROR: 'system.service.error', SERVICE_HEALTH_CHECK: 'system.service.health_check', // Eventos de seguridad del sistema SECURITY_THREAT_DETECTED: 'system.security.threat_detected', RATE_LIMIT_EXCEEDED: 'system.security.rate_limit_exceeded', UNAUTHORIZED_ACCESS: 'system.security.unauthorized_access', // Eventos de configuraci√≥n CONFIG_LOADED: 'system.config.loaded', CONFIG_UPDATED: 'system.config.updated', CONFIG_ERROR: 'system.config.error', // Eventos de errores del sistema ERROR: 'system.error', CRITICAL_ERROR: 'system.error.critical', WARNING: 'system.warning', // Eventos de m√©tricas y monitoreo METRICS_COLLECTED: 'system.metrics.collected', PERFORMANCE_ALERT: 'system.performance.alert', RESOURCE_USAGE_HIGH: 'system.resource.usage_high' }, // ===== EVENTOS DE USUARIO (user.*) ===== USER: { // Eventos de autenticaci√≥n LOGIN_ATTEMPT: 'user.auth.login_attempt', LOGIN_SUCCESS: 'user.auth.login_success', LOGIN_FAILED: 'user.auth.login_failed', LOGOUT: 'user.auth.logout', PASSWORD_RESET_REQUESTED: 'user.auth.password_reset_requested', PASSWORD_RESET_COMPLETED: 'user.auth.password_reset_completed', TWO_FACTOR_ENABLED: 'user.auth.two_factor_enabled', TWO_FACTOR_DISABLED: 'user.auth.two_factor_disabled', // Eventos de registro de usuario REGISTRATION_STARTED: 'user.registration.started', REGISTRATION_COMPLETED: 'user.registration.completed', REGISTRATION_FAILED: 'user.registration.failed', EMAIL_VERIFICATION_SENT: 'user.registration.email_verification_sent', EMAIL_VERIFIED: 'user.registration.email_verified', // Eventos de perfil de usuario PROFILE_UPDATED: 'user.profile.updated', PROFILE_VIEWED: 'user.profile.viewed', AVATAR_UPLOADED: 'user.profile.avatar_uploaded', // Eventos de mensajer√≠a MESSAGE_SENT: 'user.message.sent', MESSAGE_RECEIVED: 'user.message.received', MESSAGE_READ: 'user.message.read', MESSAGE_DELETED: 'user.message.deleted', // Eventos de contactos CONTACT_ADDED: 'user.contact.added', CONTACT_REMOVED: 'user.contact.removed', CONTACT_BLOCKED: 'user.contact.blocked', CONTACT_UNBLOCKED: 'user.contact.unblocked', // Eventos de campa√±as CAMPAIGN_CREATED: 'user.campaign.created', CAMPAIGN_STARTED: 'user.campaign.started', CAMPAIGN_PAUSED: 'user.campaign.paused', CAMPAIGN_COMPLETED: 'user.campaign.completed', CAMPAIGN_DELETED: 'user.campaign.deleted', // Eventos de pagos PAYMENT_INITIATED: 'user.payment.initiated', PAYMENT_APPROVED: 'user.payment.approved', PAYMENT_FAILED: 'user.payment.failed', PAYMENT_REFUNDED: 'user.payment.refunded', // Eventos de formularios FORM_SUBMITTED: 'user.form.submitted', FORM_VALIDATED: 'user.form.validated', FORM_ERROR: 'user.form.error', // Eventos de sesi√≥n SESSION_STARTED: 'user.session.started', SESSION_ENDED: 'user.session.ended', SESSION_EXPIRED: 'user.session.expired', // Eventos de actividad ACTIVITY_LOGGED: 'user.activity.logged', PREFERENCE_UPDATED: 'user.preference.updated' }, // ===== EVENTOS DE IA (ai.*) ===== AI: { // Eventos de procesamiento de IA REQUEST_RECEIVED: 'ai.request.received', PROCESSING_STARTED: 'ai.processing.started', PROCESSING_COMPLETED: 'ai.processing.completed', PROCESSING_FAILED: 'ai.processing.failed', // Eventos de respuestas de IA RESPONSE_GENERATED: 'ai.response.generated', RESPONSE_SENT: 'ai.response.sent', RESPONSE_ERROR: 'ai.response.error', // Eventos de an√°lisis de IA SENTIMENT_ANALYZED: 'ai.analysis.sentiment_analyzed', INTENT_DETECTED: 'ai.analysis.intent_detected', LANGUAGE_DETECTED: 'ai.analysis.language_detected', // Eventos de aprendizaje de IA MODEL_TRAINED: 'ai.learning.model_trained', MODEL_UPDATED: 'ai.learning.model_updated', FEEDBACK_RECEIVED: 'ai.learning.feedback_received', // Eventos de decisiones de IA DECISION_MADE: 'ai.decision.made', RECOMMENDATION_GENERATED: 'ai.decision.recommendation_generated', CLASSIFICATION_COMPLETED: 'ai.decision.classification_completed', // Eventos de automatizaci√≥n AUTOMATION_TRIGGERED: 'ai.automation.triggered', AUTOMATION_COMPLETED: 'ai.automation.completed', AUTOMATION_FAILED: 'ai.automation.failed', // Eventos de notificaciones inteligentes SMART_NOTIFICATION_SENT: 'ai.notification.smart_sent', NOTIFICATION_OPTIMIZED: 'ai.notification.optimized', // Eventos de agentes AGENT_ACTIVATED: 'ai.agent.activated', AGENT_DEACTIVATED: 'ai.agent.deactivated', AGENT_TASK_ASSIGNED: 'ai.agent.task_assigned', AGENT_TASK_COMPLETED: 'ai.agent.task_completed', // Eventos de m√©tricas de IA PERFORMANCE_MEASURED: 'ai.metrics.performance_measured', ACCURACY_CALCULATED: 'ai.metrics.accuracy_calculated', USAGE_TRACKED: 'ai.metrics.usage_tracked' } }; /** Utilidades para trabajar con tipos de eventos / const EventUtils = { /** Verifica si un evento pertenece a una categor√≠a espec√≠fica</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} eventType - Tipo de evento, {string} category - Categor√≠a (system, user, ai)<br><strong>@returns:</strong> {boolean} 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getEventCategory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventTypes.js</div>
                <div class="item-description">Obtiene la categor√≠a de un evento</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} eventType - Tipo de evento<br><strong>@returns:</strong> {string|null} 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getEventSubcategory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventTypes.js</div>
                <div class="item-description">Obtiene el subcategor√≠a de un evento</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} eventType - Tipo de evento<br><strong>@returns:</strong> {string|null} 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isValidEventType</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventTypes.js</div>
                <div class="item-description">Valida si un tipo de evento es v√°lido</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} eventType - Tipo de evento<br><strong>@returns:</strong> {boolean} 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getEventsByCategory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventTypes.js</div>
                <div class="item-description">Obtiene todos los eventos de una categor√≠a</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} category - Categor√≠a (SYSTEM, USER, AI)<br><strong>@returns:</strong> {string[]} 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createCustomEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventTypes.js</div>
                <div class="item-description">Crea un evento personalizado siguiendo la convenci√≥n de nomenclatura</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} category - Categor√≠a (system, user, ai), {string} subcategory - Subcategor√≠a, {string} action - Acci√≥n espec√≠fica<br><strong>@returns:</strong> {string} 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeMapper</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventsMapper.js</div>
                <div class="item-description">Mapeador din√°mico de eventos Auto-documenta las conexiones entre m√≥dulos y genera mapas visuales / class EventsMapper { constructor(eventBus, config = {}) { this.eventBus = eventBus; this.logger = createLogger('EVENTS_MAPPER'); this.config = { outputPath: config.outputPath || './docs', mapFileName: config.mapFileName || 'events_map.json', visualMapFileName: config.visualMapFileName || 'events_visual_map.html', updateInterval: config.updateInterval || 30000, // 30 segundos enableAutoUpdate: config.enableAutoUpdate !== false, enableVisualMap: config.enableVisualMap !== false, maxHistoryEntries: config.maxHistoryEntries || 1000, ...config }; // Mapas de eventos this.eventsMap = new Map(); // evento -> [listeners] this.emittersMap = new Map(); // m√≥dulo -> [eventos emitidos] this.listenersMap = new Map(); // m√≥dulo -> [eventos escuchados] this.eventHistory = []; // Historial de eventos para an√°lisis this.moduleConnections = new Map(); // conexiones entre m√≥dulos // Estad√≠sticas this.stats = { totalEvents: 0, totalModules: 0, totalConnections: 0, lastUpdate: null, mapGenerations: 0 }; // Metadatos de eventos this.eventMetadata = new Map(); this.updateTimer = null; this.isInitialized = false; this.initializeMapper(); } /** Inicializa el mapeador de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">interceptEventBus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventsMapper.js</div>
                <div class="item-description">Intercepta el EventBus para capturar eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordEventEmission</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventsMapper.js</div>
                <div class="item-description">Registra emisi√≥n de evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordEventListener</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventsMapper.js</div>
                <div class="item-description">Registra listener de evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerModule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventsMapper.js</div>
                <div class="item-description">Registra m√≥dulo manualmente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateModuleConnections</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventsMapper.js</div>
                <div class="item-description">Actualiza conexiones entre m√≥dulos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateEventsMap</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventsMapper.js</div>
                <div class="item-description">Genera mapa de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateVisualMap</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventsMapper.js</div>
                <div class="item-description">Genera mapa visual HTML</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveEventsMap</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventsMapper.js</div>
                <div class="item-description">Guarda el mapa de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadExistingMap</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventsMapper.js</div>
                <div class="item-description">Carga mapa existente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startAutoUpdate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventsMapper.js</div>
                <div class="item-description">Inicia actualizaci√≥n autom√°tica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventsMapper.js</div>
                <div class="item-description">Detiene el mapeador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ensureDocsDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventsMapper.js</div>
                <div class="item-description">Asegura que existe el directorio de documentaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractModuleName</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventsMapper.js</div>
                <div class="item-description">Extrae nombre del m√≥dulo desde metadatos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractModuleFromFunction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventsMapper.js</div>
                <div class="item-description">Extrae m√≥dulo desde funci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateDataSize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventsMapper.js</div>
                <div class="item-description">Calcula tama√±o de datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sanitizeMetadata</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventsMapper.js</div>
                <div class="item-description">Sanitiza metadatos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeDataStructure</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventsMapper.js</div>
                <div class="item-description">Analiza estructura de datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateEventMetadata</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventsMapper.js</div>
                <div class="item-description">Actualiza metadatos de evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">maintainHistoryLimit</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventsMapper.js</div>
                <div class="item-description">Mantiene l√≠mite de historial</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">inferModuleType</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventsMapper.js</div>
                <div class="item-description">Infiere tipo de m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getModuleConnections</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventsMapper.js</div>
                <div class="item-description">Obtiene conexiones de m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateStatistics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventsMapper.js</div>
                <div class="item-description">Genera estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getTopEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventsMapper.js</div>
                <div class="item-description">Obtiene eventos m√°s frecuentes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getTopModules</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventsMapper.js</div>
                <div class="item-description">Obtiene m√≥dulos m√°s activos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventsMapper.js</div>
                <div class="item-description">Obtiene estad√≠sticas del mapeador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCurrentMap</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventsMapper.js</div>
                <div class="item-description">Obtiene mapa actual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventListeners</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/FlowManager.js</div>
                <div class="item-description">Motor de flujo inteligente que analiza patrones de eventos y optimiza autom√°ticamente el comportamiento del sistema bas√°ndose en el tr√°fico observado. / class FlowManager { constructor(eventBus) { this.eventBus = eventBus; this.logger = createLogger('FLOW_MANAGER'); this.eventPatterns = new Map(); this.eventFrequency = new Map(); this.eventResponseTimes = new Map(); this.eventSequences = []; this.optimizationRules = new Map(); this.bottleneckThresholds = { responseTime: 5000, // 5 segundos frequency: 100, // eventos por minuto errorRate: 0.1 // 10% de errores }; this.statsFilePath = path.join(process.cwd(), 'logs', 'events_stats.json'); this.isActive = false; this.analysisInterval = null; this.eventBuffer = []; this.maxBufferSize = 1000; this.setupEventListeners(); } /** Configura los listeners para observar todos los eventos del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/FlowManager.js</div>
                <div class="item-description">Inicia el motor de flujo inteligente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/FlowManager.js</div>
                <div class="item-description">Detiene el motor de flujo inteligente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/FlowManager.js</div>
                <div class="item-description">Analiza un evento individual y actualiza las m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateEventFrequency</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/FlowManager.js</div>
                <div class="item-description">Actualiza la frecuencia de eventos por tipo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateResponseTimes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/FlowManager.js</div>
                <div class="item-description">Actualiza los tiempos de respuesta promedio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateEventSequences</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/FlowManager.js</div>
                <div class="item-description">Actualiza las secuencias de eventos para detectar patrones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectRedundantEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/FlowManager.js</div>
                <div class="item-description">Detecta eventos redundantes o in√∫tiles que pueden fusionarse</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkBottlenecks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/FlowManager.js</div>
                <div class="item-description">Verifica cuellos de botella en tiempo real</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">emitBottleneckAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/FlowManager.js</div>
                <div class="item-description">Emite una alerta de cuello de botella</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">suggestEventFusion</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/FlowManager.js</div>
                <div class="item-description">Sugiere fusi√≥n de eventos redundantes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateOptimizationSuggestion</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/FlowManager.js</div>
                <div class="item-description">Genera sugerencias de optimizaci√≥n basadas en los problemas detectados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performPeriodicAnalysis</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/FlowManager.js</div>
                <div class="item-description">Realiza an√°lisis peri√≥dico del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeEventSequencePatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/FlowManager.js</div>
                <div class="item-description">Analiza patrones en las secuencias de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">prioritizeEventTypes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/FlowManager.js</div>
                <div class="item-description">Prioriza tipos de eventos bas√°ndose en criticidad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleSystemError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/FlowManager.js</div>
                <div class="item-description">Maneja errores del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handlePerformanceAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/FlowManager.js</div>
                <div class="item-description">Maneja alertas de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generatePerformanceOptimizations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/FlowManager.js</div>
                <div class="item-description">Genera optimizaciones espec√≠ficas de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadPreviousStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/FlowManager.js</div>
                <div class="item-description">Carga estad√≠sticas previas del archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/FlowManager.js</div>
                <div class="item-description">Guarda las estad√≠sticas actuales en archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAnalyticsSummary</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/FlowManager.js</div>
                <div class="item-description">Obtiene un resumen de las anal√≠ticas actuales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getEventStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/FlowManager.js</div>
                <div class="item-description">Obtiene estad√≠sticas detalladas para un tipo de evento espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAllStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/FlowManager.js</div>
                <div class="item-description">Obtiene todas las estad√≠sticas del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeHealingStrategies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealingAgent.js</div>
                <div class="item-description">HealingAgent - Agente de autorrecuperaci√≥n Responsable de: - Detectar fallos y errores del sistema - Aplicar estrategias de recuperaci√≥n autom√°tica - Aislar componentes problem√°ticos - Reportar estado de salud del sistema - Implementar circuit breakers y backoff exponencial / class HealingAgent { constructor(eventHub) { this.eventHub = eventHub; this.logger = createLogger('HEALING_AGENT'); this.agentId = uuidv4(); // Estado del agente this.isActive = false; this.healingStrategies = new Map(); this.failureHistory = new Map(); this.isolatedComponents = new Set(); this.circuitBreakers = new Map(); // M√©tricas this.metrics = { errorsDetected: 0, recoveryAttempts: 0, successfulRecoveries: 0, failedRecoveries: 0, componentsIsolated: 0, circuitBreakersTriggered: 0 }; // Configuraci√≥n this.config = { maxRetryAttempts: 3, baseBackoffDelay: 1000, // 1 segundo maxBackoffDelay: 30000,  // 30 segundos circuitBreakerThreshold: 5, // Fallos antes de abrir circuito circuitBreakerTimeout: 60000, // 1 minuto isolationThreshold: 10, // Fallos antes de aislar componente healthCheckInterval: 30000, // 30 segundos recoveryTimeout: 120000 // 2 minutos }; // Estrategias de recuperaci√≥n predefinidas this.initializeHealingStrategies(); this.logger.info('üè• HealingAgent inicializado'); } /** Inicializar estrategias de recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">activate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealingAgent.js</div>
                <div class="item-description">Activar el agente de recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupErrorListeners</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealingAgent.js</div>
                <div class="item-description">Configurar listeners para eventos de error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealingAgent.js</div>
                <div class="item-description">Manejar error detectado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleAnomaly</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealingAgent.js</div>
                <div class="item-description">Manejar anomal√≠a detectada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordFailure</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealingAgent.js</div>
                <div class="item-description">Registrar fallo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkCircuitBreaker</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealingAgent.js</div>
                <div class="item-description">Verificar y activar circuit breaker</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">openCircuitBreaker</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealingAgent.js</div>
                <div class="item-description">Abrir circuit breaker</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">closeCircuitBreaker</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealingAgent.js</div>
                <div class="item-description">Cerrar circuit breaker</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isCircuitOpen</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealingAgent.js</div>
                <div class="item-description">Verificar si circuit breaker est√° abierto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkComponentIsolation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealingAgent.js</div>
                <div class="item-description">Verificar aislamiento de componente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isolateComponent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealingAgent.js</div>
                <div class="item-description">Aislar componente problem√°tico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">attemptRecovery</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealingAgent.js</div>
                <div class="item-description">Intentar recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">selectRecoveryStrategy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealingAgent.js</div>
                <div class="item-description">Seleccionar estrategia de recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAttemptCount</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealingAgent.js</div>
                <div class="item-description">Obtener contador de intentos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleSuccessfulRecovery</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealingAgent.js</div>
                <div class="item-description">Manejar recuperaci√≥n exitosa</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleFailedRecovery</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealingAgent.js</div>
                <div class="item-description">Manejar recuperaci√≥n fallida</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleRecoveryError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealingAgent.js</div>
                <div class="item-description">Manejar error en recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clearRecentFailures</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealingAgent.js</div>
                <div class="item-description">Limpiar fallos recientes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateBackoff</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealingAgent.js</div>
                <div class="item-description">Calcular backoff exponencial</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sanitizeData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealingAgent.js</div>
                <div class="item-description">Sanitizar datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">delay</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealingAgent.js</div>
                <div class="item-description">Delay helper</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startHealthMonitoring</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealingAgent.js</div>
                <div class="item-description">Iniciar monitoreo de salud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performHealthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealingAgent.js</div>
                <div class="item-description">Realizar chequeo de salud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateSystemHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealingAgent.js</div>
                <div class="item-description">Calcular salud del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealingAgent.js</div>
                <div class="item-description">Obtener estad√≠sticas del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deactivate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealingAgent.js</div>
                <div class="item-description">Desactivar el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupChecks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealthCheckService.js</div>
                <div class="item-description">Servicio de Health Check refactorizado Extiende BaseService para proporcionar funcionalidad de monitoreo de salud del sistema / class HealthCheckService extends BaseService { constructor(options = {}) { super('HealthCheckService', options); this.serviceDependencies = options; this.checks = new Map(); this.checkInterval = 30000; // 30 segundos this.lastResults = new Map(); this.intervalId = null; this.setupChecks(); } /** Configurar todos los health checks</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealthCheckService.js</div>
                <div class="item-description">Inicializar el servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealthCheckService.js</div>
                <div class="item-description">Iniciar el servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealthCheckService.js</div>
                <div class="item-description">Detener el servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkLocalMessagingService</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealthCheckService.js</div>
                <div class="item-description">Check del servicio de mensajer√≠a local</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkContactManager</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealthCheckService.js</div>
                <div class="item-description">Check del contact manager</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkSocketIO</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealthCheckService.js</div>
                <div class="item-description">Check de Socket.IO</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkFileSystem</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealthCheckService.js</div>
                <div class="item-description">Check del sistema de archivos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkMemoryUsage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealthCheckService.js</div>
                <div class="item-description">Check de uso de memoria</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkDatabase</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealthCheckService.js</div>
                <div class="item-description">Check de la base de datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">check360DialogAPI</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealthCheckService.js</div>
                <div class="item-description">Check de la API de 360Dialog</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">runAllChecks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealthCheckService.js</div>
                <div class="item-description">Ejecutar todos los health checks</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getOverallHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealthCheckService.js</div>
                <div class="item-description">Obtener salud general del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getResults</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealthCheckService.js</div>
                <div class="item-description">Obtener resultados detallados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">runSpecificCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealthCheckService.js</div>
                <div class="item-description">Ejecutar un check espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealthCheckService.js</div>
                <div class="item-description">Obtener health check espec√≠fico para BaseService</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setDependencies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/HealthCheckService.js</div>
                <div class="item-description">Configurar dependencias</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sanitizeString</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/InputSanitizationService.js</div>
                <div class="item-description">Input Sanitization Service Servicio de sanitizaci√≥n completa de inputs Recomendaci√≥n #20: Implementar sanitizaci√≥n completa de inputs / import DOMPurify from 'isomorphic-dompurify'; import validator from 'validator'; import xss from 'xss'; import { log as logger } from './logger.js'; class InputSanitizationService { constructor() { this.maxStringLength = 10000; this.maxArrayLength = 1000; this.maxObjectDepth = 10; // Configuraci√≥n personalizada de XSS this.xssOptions = { whiteList: { // Permitir solo tags seguros para contenido de chat p: ['class'], br: [], strong: [], em: [], u: [], span: ['class'], div: ['class'], a: ['href', 'title', 'target'], img: ['src', 'alt', 'width', 'height'], ul: [], ol: [], li: [], blockquote: [], code: [], pre: [] }, stripIgnoreTag: true, stripIgnoreTagBody: ['script', 'style'], allowCommentTag: false, onIgnoreTag: (tag, html, options) => { logger.warn(`Blocked potentially dangerous tag: ${tag}`); return ''; }, onIgnoreTagAttr: (tag, name, value, isWhiteAttr) => { if (!isWhiteAttr) { logger.warn(`Blocked potentially dangerous attribute: ${name}="${value}" in tag ${tag}`); } return ''; } }; // Patrones de detecci√≥n de ataques this.attackPatterns = { sqlInjection: [ /(\b(SELECT|INSERT|UPDATE|DELETE|DROP|CREATE|ALTER|EXEC|UNION|SCRIPT)\b)/gi, /(\b(OR|AND)\s+\d+\s*=\s*\d+)/gi, /(--|\/\*|\*\/|;)/g, /(\b(INFORMATION_SCHEMA|SYSOBJECTS|SYSCOLUMNS)\b)/gi ], xss: [ /<script[^>]*>.*?<\/script>/gi, /javascript:/gi, /on\w+\s*=/gi, /<iframe[^>]*>.*?<\/iframe>/gi, /<object[^>]*>.*?<\/object>/gi, /<embed[^>]*>/gi, /<link[^>]*>/gi, /<meta[^>]*>/gi ], pathTraversal: [ /\.\.\//g, /\.\.\\/g, /%2e%2e%2f/gi, /%2e%2e%5c/gi, /\.\.\%2f/gi, /\.\.\%5c/gi ], commandInjection: [ /[;&|`$(){}[\]]/g, /\b(cat|ls|pwd|whoami|id|uname|ps|netstat|ifconfig|ping|wget|curl|nc|telnet|ssh|ftp)\b/gi ], ldapInjection: [ /[()&|!]/g, /\*.*\*/g ] }; // Configuraci√≥n de DOMPurify this.domPurifyConfig = { ALLOWED_TAGS: ['p', 'br', 'strong', 'em', 'u', 'span', 'div', 'a', 'ul', 'ol', 'li', 'blockquote', 'code', 'pre'], ALLOWED_ATTR: ['href', 'title', 'target', 'class', 'src', 'alt', 'width', 'height'], ALLOW_DATA_ATTR: false, FORBID_TAGS: ['script', 'style', 'iframe', 'object', 'embed', 'form', 'input', 'button'], FORBID_ATTR: ['onclick', 'onload', 'onerror', 'onmouseover', 'onfocus', 'onblur'], KEEP_CONTENT: false, RETURN_DOM: false, RETURN_DOM_FRAGMENT: false, RETURN_DOM_IMPORT: false, SANITIZE_DOM: true, WHOLE_DOCUMENT: false, IN_PLACE: false }; } /** Sanitizar string b√°sico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sanitizeHtml</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/InputSanitizationService.js</div>
                <div class="item-description">Sanitizar HTML con DOMPurify y XSS</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sanitizeEmail</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/InputSanitizationService.js</div>
                <div class="item-description">Sanitizar email</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sanitizeUrl</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/InputSanitizationService.js</div>
                <div class="item-description">Sanitizar URL</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sanitizeNumber</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/InputSanitizationService.js</div>
                <div class="item-description">Sanitizar n√∫mero</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sanitizeBoolean</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/InputSanitizationService.js</div>
                <div class="item-description">Sanitizar booleano</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sanitizeArray</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/InputSanitizationService.js</div>
                <div class="item-description">Sanitizar array</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sanitizeObject</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/InputSanitizationService.js</div>
                <div class="item-description">Sanitizar objeto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectSQLInjection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/InputSanitizationService.js</div>
                <div class="item-description">Detectar inyecci√≥n SQL</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectXSS</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/InputSanitizationService.js</div>
                <div class="item-description">Detectar XSS</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectPathTraversal</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/InputSanitizationService.js</div>
                <div class="item-description">Detectar path traversal</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectCommandInjection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/InputSanitizationService.js</div>
                <div class="item-description">Detectar inyecci√≥n de comandos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectLDAPInjection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/InputSanitizationService.js</div>
                <div class="item-description">Detectar inyecci√≥n LDAP</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeInput</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/InputSanitizationService.js</div>
                <div class="item-description">An√°lisis completo de seguridad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">middleware</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/InputSanitizationService.js</div>
                <div class="item-description">Middleware para sanitizaci√≥n autom√°tica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sanitizeQueryParams</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/InputSanitizationService.js</div>
                <div class="item-description">Sanitizar par√°metros de query</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sanitizeRequestBody</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/InputSanitizationService.js</div>
                <div class="item-description">Sanitizar body de request</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sanitizeHeaders</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/InputSanitizationService.js</div>
                <div class="item-description">Sanitizar headers</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sanitizeFileUpload</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/InputSanitizationService.js</div>
                <div class="item-description">Validar y sanitizar archivo subido</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/IntelligentEventSystem.js</div>
                <div class="item-description">Sistema de Eventos Inteligente Integra todos los componentes para crear una arquitectura Event-Driven aut√≥noma / class IntelligentEventSystem { constructor(config = {}) { this.config = { // Configuraci√≥n del EventBus eventBus: { maxListeners: config.maxListeners || 100, enableMetrics: config.enableMetrics !== false, enableLogging: config.enableLogging !== false, ...config.eventBus }, // Configuraci√≥n del FlowManager flowManager: { analysisInterval: config.flowAnalysisInterval || 60000, optimizationThreshold: config.optimizationThreshold || 0.8, enableAutoOptimization: config.enableAutoOptimization !== false, ...config.flowManager }, // Configuraci√≥n del EventStore eventStore: { persistToDisk: config.persistToDisk !== false, maxMemoryEvents: config.maxMemoryEvents || 10000, archiveThreshold: config.archiveThreshold || 50000, ...config.eventStore }, // Configuraci√≥n del Monitor monitor: { enableWebSocket: config.enableWebSocket !== false, enableConsoleOutput: config.enableConsoleOutput !== false, enableFileLogging: config.enableFileLogging !== false, ...config.monitor }, // Configuraci√≥n del RecoveryManager recovery: { maxRetries: config.maxRetries || 3, enableAutoRecovery: config.enableAutoRecovery !== false, healthCheckInterval: config.healthCheckInterval || 30000, ...config.recovery }, // Configuraci√≥n del DistributedGateway distributed: { enableDistributed: config.enableDistributed || false, nodes: config.distributedNodes || [], port: config.distributedPort || 8080, ...config.distributed }, // Configuraci√≥n del EventsMapper mapper: { enableMapping: config.enableMapping !== false, enableVisualMap: config.enableVisualMap !== false, updateInterval: config.mapUpdateInterval || 30000, ...config.mapper }, // Configuraci√≥n de agentes agents: { enableSales: config.enableSalesAgent !== false, enableSupport: config.enableSupportAgent !== false, enableAnalytics: config.enableAnalyticsAgent !== false, enableLearning: config.enableLearningAgent !== false, ...config.agents }, // Configuraci√≥n general autoStart: config.autoStart !== false, enableAllFeatures: config.enableAllFeatures !== false, environment: config.environment || 'development', logLevel: config.logLevel || 'info' }; // Componentes del sistema this.eventBus = null; this.flowManager = null; this.eventStore = null; this.eventReplayer = null; this.recoveryManager = null; this.monitor = null; this.distributedGateway = null; this.eventsMapper = null; // Logger this.logger = createLogger('INTELLIGENT_EVENT_SYSTEM'); // Agentes this.agents = new Map(); // Estado del sistema this.isInitialized = false; this.isRunning = false; this.startTime = null; // Estad√≠sticas del sistema this.systemStats = { totalEvents: 0, totalAgents: 0, uptime: 0, lastHealthCheck: null, errors: 0, optimizations: 0 }; if (this.config.autoStart) { this.initialize(); } } /** Inicializa el sistema completo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeEventBus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/IntelligentEventSystem.js</div>
                <div class="item-description">Inicializa el EventBus</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeCoreComponents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/IntelligentEventSystem.js</div>
                <div class="item-description">Inicializa componentes core</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeAgents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/IntelligentEventSystem.js</div>
                <div class="item-description">Inicializa agentes especializados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupIntegrations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/IntelligentEventSystem.js</div>
                <div class="item-description">Configura integraciones entre componentes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupDataFlow</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/IntelligentEventSystem.js</div>
                <div class="item-description">Configura el flujo de datos entre componentes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startServices</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/IntelligentEventSystem.js</div>
                <div class="item-description">Inicia todos los servicios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startHealthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/IntelligentEventSystem.js</div>
                <div class="item-description">Inicia verificaci√≥n de salud del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performHealthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/IntelligentEventSystem.js</div>
                <div class="item-description">Realiza verificaci√≥n de salud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startStatsCollection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/IntelligentEventSystem.js</div>
                <div class="item-description">Inicia recolecci√≥n de estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateSystemStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/IntelligentEventSystem.js</div>
                <div class="item-description">Actualiza estad√≠sticas del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleSystemEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/IntelligentEventSystem.js</div>
                <div class="item-description">Maneja eventos del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleErrorEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/IntelligentEventSystem.js</div>
                <div class="item-description">Maneja eventos de error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shutdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/IntelligentEventSystem.js</div>
                <div class="item-description">Detiene el sistema completo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getUptime</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/IntelligentEventSystem.js</div>
                <div class="item-description">Obtiene el tiempo de actividad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getComponentsStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/IntelligentEventSystem.js</div>
                <div class="item-description">Obtiene estado de componentes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sanitizeConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/IntelligentEventSystem.js</div>
                <div class="item-description">Sanitiza configuraci√≥n para logging</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSystemStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/IntelligentEventSystem.js</div>
                <div class="item-description">Obtiene estad√≠sticas completas del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getEventBus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/IntelligentEventSystem.js</div>
                <div class="item-description">Obtiene instancia del EventBus</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAgent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/IntelligentEventSystem.js</div>
                <div class="item-description">Obtiene agente espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getComponent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/IntelligentEventSystem.js</div>
                <div class="item-description">Obtiene componente espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">activate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">LearningAgent - Agente de aprendizaje autom√°tico evolutivo Responsable de: - Analizar patrones hist√≥ricos de eventos - Detectar rutas exitosas y optimizaciones - Reordenar prioridades din√°micamente - Generar recomendaciones autom√°ticas - Actualizar reglas sin reiniciar el sistema - Predecir comportamientos futuros / class LearningAgent { constructor(eventHub) { this.eventHub = eventHub; this.logger = createLogger('LEARNING_AGENT'); this.agentId = uuidv4(); // Estado del agente this.isActive = false; this.learningModel = new Map(); this.successfulPatterns = new Map(); this.optimizationRules = new Map(); this.predictions = new Map(); this.performanceMetrics = new Map(); // M√©tricas this.metrics = { patternsLearned: 0, optimizationsApplied: 0, predictionsGenerated: 0, rulesUpdated: 0, successfulPredictions: 0, modelAccuracy: 0 }; // Configuraci√≥n this.config = { learningWindow: 3600000, // 1 hora minPatternOccurrences: 10, confidenceThreshold: 0.7, learningRate: 0.1, maxModelSize: 1000, predictionHorizon: 300000, // 5 minutos optimizationInterval: 60000, // 1 minuto modelPersistenceInterval: 300000, // 5 minutos adaptationThreshold: 0.8 }; // Rutas de almacenamiento this.storageDir = path.join(process.cwd(), 'storage', 'learning'); this.modelPath = path.join(this.storageDir, 'learning_model.json'); this.patternsPath = path.join(this.storageDir, 'successful_patterns.json'); this.rulesPath = path.join(this.storageDir, 'optimization_rules.json'); // Tipos de aprendizaje this.learningTypes = { PATTERN_RECOGNITION: 'pattern_recognition', PERFORMANCE_OPTIMIZATION: 'performance_optimization', PREDICTIVE_ANALYSIS: 'predictive_analysis', ADAPTIVE_RULES: 'adaptive_rules' }; this.logger.info('üß† LearningAgent inicializado'); } /** Activar el agente de aprendizaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupLearningListeners</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">Configurar listeners para aprendizaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">learnFromEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">Aprender de un evento individual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractEventFeatures</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">Extraer caracter√≠sticas de un evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateLearningModel</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">Actualizar modelo de aprendizaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">learnFromPattern</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">Aprender de un patr√≥n detectado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">learnFromRecovery</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">Aprender de una recuperaci√≥n exitosa</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzePerformance</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">Analizar rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectOptimizationOpportunities</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">Detectar oportunidades de optimizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRecentSimilarEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">Obtener eventos similares recientes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeErrorPattern</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">Analizar patr√≥n de error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateOptimizationRule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">Generar regla de optimizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateRecommendation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">Generar recomendaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generatePredictions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">Generar predicciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">predictEventVolume</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">Predecir volumen de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">predictPotentialProblems</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">Predecir problemas potenciales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeHourlyPattern</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">Analizar patr√≥n horario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateTrendSlope</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">Calcular pendiente de tendencia</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">estimateTimeToOverload</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">Estimar tiempo hasta sobrecarga</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">pruneModel</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">Podar modelo para mantener tama√±o</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startLearningProcesses</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">Iniciar procesos de aprendizaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performOptimization</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">Realizar optimizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateOptimizationRules</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">Actualizar reglas de optimizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateModelAccuracy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">Calcular precisi√≥n del modelo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">Limpiar datos antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ensureStorageDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">Asegurar directorio de almacenamiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">persistModel</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">Persistir modelo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadPersistedModel</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">Cargar modelo persistido</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">Obtener estad√≠sticas del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deactivate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/LearningAgent.js</div>
                <div class="item-description">Desactivar el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">MessagingAgent - Agente Event-Driven para Gesti√≥n Inteligente de Mensajes Transforma el m√≥dulo de messaging en un agente inteligente que maneja: - Gesti√≥n inteligente de mensajes y conversaciones - Optimizaci√≥n de entrega y routing - An√°lisis de patrones de comunicaci√≥n - Automatizaci√≥n de respuestas - Gesti√≥n de colas y prioridades - Monitoreo de rendimiento y m√©tricas - Recuperaci√≥n ante fallos</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 2.0.0 /  import { EventEmitter } from 'events'; import fs from 'fs-extra'; import path from 'path'; import { getDatabase } from './database.js'; import { createLogger } from './logger.js'; import { Message } from '../core/Message.js'; import { getContactService } from '../core/ContactService.js'; import { CONFIG } from '../../../workflows/index.js';  const logger = createLogger('MESSAGING_AGENT');  /** Agente inteligente para gesti√≥n de mensajes / export class MessagingAgent extends EventEmitter { constructor(options = {}) { super();  // Configuraciones evolutivas del agente this.config = { // Configuraci√≥n de colas maxQueueSize: 10000, batchSize: 50, processingInterval: 1000,  // Configuraci√≥n de prioridades priorityLevels: ['low', 'normal', 'high', 'urgent'], defaultPriority: 'normal',  // Configuraci√≥n de reintentos maxRetries: 3, retryDelay: 2000, backoffMultiplier: 2,  // Configuraci√≥n de rate limiting rateLimits: { perSecond: 10, perMinute: 100, perHour: 1000, perDay: 10000 },  // Configuraci√≥n de an√°lisis analysisWindow: 24 * 60 * 60 * 1000, // 24 horas patternDetectionThreshold: 5,  // Configuraci√≥n de optimizaci√≥n optimizationInterval: 5 * 60 * 1000, // 5 minutos learningEnabled: true, adaptiveRouting: true,  // Configuraci√≥n de monitoreo metricsRetention: 7 * 24 * 60 * 60 * 1000, // 7 d√≠as alertThresholds: { failureRate: 0.05, // 5% avgResponseTime: 5000, // 5 segundos queueSize: 1000 },  ...options };  // Estado del agente this.state = { isActive: false, isProcessing: false, lastOptimization: null, lastHealthCheck: null, totalProcessed: 0, totalFailed: 0, avgResponseTime: 0 };  // Colas de mensajes por prioridad this.messageQueues = new Map(); this.config.priorityLevels.forEach(level => { this.messageQueues.set(level, []); });  // Sistema de routing inteligente this.routingTable = new Map(); this.providerStats = new Map(); this.circuitBreakers = new Map();  // Sistema de an√°lisis y aprendizaje this.conversationPatterns = new Map(); this.responseTemplates = new Map(); this.userPreferences = new Map(); this.communicationHistory = [];  // M√©tricas evolutivas this.metrics = { messages: { sent: 0, delivered: 0, failed: 0, pending: 0, queued: 0 }, performance: { avgProcessingTime: 0, avgDeliveryTime: 0, throughput: 0, errorRate: 0 }, conversations: { active: 0, total: 0, avgLength: 0, avgResponseTime: 0 }, optimization: { routeOptimizations: 0, templateOptimizations: 0, queueOptimizations: 0 } };  // Rate limiting this.rateLimiters = new Map(); this.initializeRateLimiters();  // Timers y procesos this.timers = { processing: null, optimization: null, monitoring: null, cleanup: null };  // Mutex para operaciones cr√≠ticas this.mutex = { processing: false, optimization: false, persistence: false };  // Dependencias this.db = getDatabase(); this.contactService = getContactService(); this.filename = this.db.files.MESSAGES; this.whatsappConfig = CONFIG.DIALOG360;  // Configurar manejo de errores this.setMaxListeners(100); this.on('error', this.handleError.bind(this));  logger.info('MessagingAgent inicializado'); }  /** Inicializar el agente 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">activate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Activar el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deactivate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Desactivar el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupSystemEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Configurar eventos del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupMessageEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Configurar eventos de mensajes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleIncomingMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Manejar mensaje entrante</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleSendMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Manejar env√≠o de mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addToQueue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">A√±adir mensaje a cola</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startQueueProcessing</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Iniciar procesamiento de colas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processMessageQueues</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Procesar colas de mensajes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Procesar mensaje individual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Enviar mensaje a trav√©s de la ruta seleccionada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">simulateMessageSending</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Simular env√≠o de mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">selectOptimalRoute</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Seleccionar ruta √≥ptima para el mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateRouteScore</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Calcular puntuaci√≥n de ruta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAvailableRoutes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Obtener rutas disponibles</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeIncomingMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Analizar mensaje entrante</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeSentiment</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Analizar sentimiento del mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectIntent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Detectar intenci√≥n del mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractTopics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Extraer temas del mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">assessUrgency</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Evaluar urgencia del mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectLanguage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Detectar idioma del mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeRateLimiters</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Inicializar rate limiters</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkRateLimit</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Verificar rate limit</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeProviders</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Inicializar proveedores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeCircuitBreakers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Inicializar circuit breakers</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isProviderAvailable</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Verificar disponibilidad del proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateCircuitBreaker</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Actualizar circuit breaker</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getProviderAvailability</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Obtener estad√≠sticas del proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateProviderStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Actualizar estad√≠sticas del proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateMessageMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Actualizar m√©tricas del mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updatePerformanceMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Actualizar m√©tricas de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Actualizar m√©tricas generales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getTotalQueueSize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Obtener tama√±o total de colas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getQueueSize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Obtener tama√±o de cola espec√≠fica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startOptimization</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Iniciar optimizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performOptimization</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Realizar optimizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeRouting</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Optimizar routing</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeQueues</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Optimizar colas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeRateLimiting</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Optimizar rate limiting</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeTemplates</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Optimizar plantillas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startMonitoring</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Iniciar monitoreo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performHealthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Realizar health check</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkAlerts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Verificar alertas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startCleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Iniciar limpieza autom√°tica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performCleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Realizar limpieza</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Limpiar datos antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleMessageProcessingError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Manejar error de procesamiento de mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processRemainingMessages</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Procesar mensajes restantes al desactivar</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopTimers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Detener timers</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleSystemShutdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Manejar apagado del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateContactLastInteraction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Actualizar √∫ltima interacci√≥n del contacto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Guardar estado del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Cargar estado del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadLearningPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Cargar patrones de aprendizaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveLearningPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Guardar patrones de aprendizaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAgentInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Obtener informaci√≥n del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAgentStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Obtener estad√≠sticas del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Destruir el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MessagingAgent.js</div>
                <div class="item-description">Manejar errores del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Monitor visual y sistema de trazabilidad en tiempo real Proporciona observabilidad completa del flujo de eventos / class Monitor { constructor(eventBus, eventStore) { this.eventBus = eventBus; this.eventStore = eventStore; this.logger = createLogger('MONITOR'); this.isActive = false; this.eventTrace = []; this.liveConnections = new Set(); this.eventStats = new Map(); this.moduleStats = new Map(); this.performanceMetrics = new Map(); this.config = { maxTraceSize: 10000, statsInterval: 5000, // 5 segundos performanceWindow: 60000, // 1 minuto logLevel: 'info', enableWebSocket: true, enableConsoleOutput: true, enableFileLogging: true, logDirectory: './logs' }; this.realTimeStats = { eventsPerMinute: 0, errorsPerMinute: 0, activeModules: new Set(), averageProcessingTime: 0, peakMemoryUsage: 0, systemHealth: 'healthy' }; this.setupEventListeners(); this.initializeLogging(); } /** Inicia el sistema de monitoreo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Detiene el sistema de monitoreo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventListeners</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Configura los listeners para todos los eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">captureEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Captura un evento para monitoreo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sanitizeEventData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Sanitiza los datos del evento para logging</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectEventSource</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Detecta la fuente del evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectEventTargets</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Detecta los objetivos del evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateEventStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Actualiza estad√≠sticas del evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">displayEventInConsole</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Muestra el evento en consola con formato visual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">broadcastToLiveConnections</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Transmite el evento a conexiones WebSocket en vivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logEventToFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Registra el evento en archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startStatsCollection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Inicia la recolecci√≥n de estad√≠sticas peri√≥dicas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">collectRealTimeStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Recolecta estad√≠sticas en tiempo real</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">displayDashboard</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Muestra el dashboard en consola</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleSystemError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Maneja errores del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handlePerformanceAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Maneja alertas de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateSystemHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Actualiza la salud del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startWebSocketServer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Inicia el servidor WebSocket para conexiones en vivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ensureLogDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Asegura que el directorio de logs existe</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeLogging</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Inicializa el sistema de logging</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">displayStartupBanner</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Muestra el banner de inicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveSessionStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Guarda estad√≠sticas de la sesi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Obtiene estad√≠sticas actuales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRecentEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Obtiene la traza de eventos recientes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">searchEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Busca eventos por criterios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Genera reporte de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">groupEventsByType</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Agrupa eventos por tipo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">groupEventsBySource</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Agrupa eventos por fuente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateErrorRate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Calcula la tasa de error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateAverageProcessingTime</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Monitor.js</div>
                <div class="item-description">Calcula el tiempo promedio de procesamiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeDirectories</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MultimediaService.js</div>
                <div class="item-description">Inicializar directorios de almacenamiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MultimediaService.js</div>
                <div class="item-description">Validar archivo antes del procesamiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateUniqueFilename</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MultimediaService.js</div>
                <div class="item-description">Generar nombre √∫nico para archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getFileInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MultimediaService.js</div>
                <div class="item-description">Obtener informaci√≥n de archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processImage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MultimediaService.js</div>
                <div class="item-description">Procesar imagen con opciones avanzadas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getVideoInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MultimediaService.js</div>
                <div class="item-description">Obtener informaci√≥n de video</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processVideo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MultimediaService.js</div>
                <div class="item-description">Procesar video con opciones avanzadas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSystemStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MultimediaService.js</div>
                <div class="item-description">Obtener estad√≠sticas del sistema multimedia</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldFiles</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MultimediaService.js</div>
                <div class="item-description">Limpiar archivos antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createThumbnail</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MultimediaService.js</div>
                <div class="item-description">Crear thumbnail para imagen</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateFileIntegrity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/MultimediaService.js</div>
                <div class="item-description">Validar integridad de archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Servicio de notificaciones refactorizado Extiende BaseService y EventEmitter para proporcionar funcionalidad de notificaciones / class NotificationService extends BaseService { constructor(options = {}) { super('NotificationService', options); // Configurar EventEmitter this.eventEmitter = new EventEmitter(); this.eventEmitter.setMaxListeners(50); this.serviceDependencies = options; this.subscribers = new Map(); // userId -> { socketId, preferences } this.alertRules = new Map(); // ruleId -> { condition, action, enabled } this.notificationQueue = []; this.isProcessing = false; this.queueProcessor = null; // M√©tricas espec√≠ficas del servicio this.serviceMetrics = { sent: 0, failed: 0, queued: 0, alertsTriggered: 0, subscribers: 0 }; } /** Inicializar el servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Iniciar el servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Detener el servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeDefaultRules</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Inicializar reglas de alerta por defecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">subscribe</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Suscribir usuario a notificaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unsubscribe</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Desuscribir usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updatePreferences</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Actualizar preferencias de usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendNotification</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Enviar notificaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendToUser</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Enviar notificaci√≥n a usuario espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">broadcast</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Broadcast a todos los usuarios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendMessageNotification</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Enviar notificaci√≥n de mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendAINotification</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Enviar notificaci√≥n de IA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendSystemNotification</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Enviar notificaci√≥n del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendErrorNotification</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Enviar notificaci√≥n de error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkAlerts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Verificar y disparar alertas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">triggerAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Disparar alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startQueueProcessor</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Iniciar procesador de cola</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopQueueProcessor</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Detener procesador de cola</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processQueue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Procesar cola de notificaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processRemainingQueue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Procesar cola restante al cerrar</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deliverNotification</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Entregar notificaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deliverToUser</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Entregar notificaci√≥n a usuario espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deliverBroadcast</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Entregar broadcast</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateNotification</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Validar notificaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkPreferences</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Verificar preferencias de usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateNotificationId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Generar ID de notificaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">formatAlertMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Formatear mensaje de alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addAlertRule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Agregar regla de alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">removeAlertRule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Remover regla de alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadPersistedSubscribers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Cargar suscriptores persistidos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">persistSubscribers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Persistir suscriptores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getServiceMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Obtener m√©tricas del servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSubscribers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Obtener suscriptores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAlertRules</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Obtener reglas de alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Health check espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setDependencies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Configurar dependencias</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">Limpiar recursos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">on</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/NotificationService.js</div>
                <div class="item-description">M√©todos de EventEmitter delegados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeDatabase</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/OAuth2Service.js</div>
                <div class="item-description">OAuth 2.0 Service Servicio de autenticaci√≥n OAuth 2.0 con m√∫ltiples proveedores Recomendaci√≥n #18: Implementar OAuth 2.0 para autenticaci√≥n segura / import crypto from 'crypto'; import jwt from 'jsonwebtoken'; import logger from './logger.js'; import DatabaseManager from '../../../config/database/DatabaseManager.js'; /** Clase personalizada para errores de OAuth2 / class OAuth2Error extends Error { constructor(message, code = 'OAUTH2_ERROR', provider = null) { super(message); this.name = 'OAuth2Error'; this.code = code; this.provider = provider; } } class OAuth2Service { constructor() { this.providers = { google: { clientId: process.env.GOOGLE_CLIENT_ID, clientSecret: process.env.GOOGLE_CLIENT_SECRET, redirectUri: process.env.GOOGLE_REDIRECT_URI || 'http://localhost:3000/auth/google/callback', authUrl: 'https://accounts.google.com/o/oauth2/v2/auth', tokenUrl: 'https://oauth2.googleapis.com/token', userInfoUrl: 'https://www.googleapis.com/oauth2/v2/userinfo', scope: 'openid email profile' }, dialog360: { clientId: process.env.DIALOG360_CLIENT_ID, clientSecret: process.env.DIALOG360_CLIENT_SECRET, redirectUri: process.env.DIALOG360_REDIRECT_URI || 'http://localhost:3000/auth/dialog360/callback', authUrl: 'https://hub.360dialog.com/oauth/authorize', tokenUrl: 'https://hub.360dialog.com/oauth/token', userInfoUrl: 'https://hub.360dialog.com/api/v1/me', scope: 'whatsapp:read whatsapp:write' }, github: { clientId: process.env.GITHUB_CLIENT_ID, clientSecret: process.env.GITHUB_CLIENT_SECRET, redirectUri: process.env.GITHUB_REDIRECT_URI || 'http://localhost:3000/auth/github/callback', authUrl: 'https://github.com/login/oauth/authorize', tokenUrl: 'https://github.com/login/oauth/access_token', userInfoUrl: 'https://api.github.com/user', scope: 'user:email' }, microsoft: { clientId: process.env.MICROSOFT_CLIENT_ID, clientSecret: process.env.MICROSOFT_CLIENT_SECRET, redirectUri: process.env.MICROSOFT_REDIRECT_URI || 'http://localhost:3000/auth/microsoft/callback', authUrl: 'https://login.microsoftonline.com/common/oauth2/v2.0/authorize', tokenUrl: 'https://login.microsoftonline.com/common/oauth2/v2.0/token', userInfoUrl: 'https://graph.microsoft.com/v1.0/me', scope: 'openid email profile' } }; this.jwtSecret = process.env.JWT_SECRET || this.generateSecureSecret(); this.jwtExpiresIn = process.env.JWT_EXPIRES_IN || '24h'; this.refreshTokenExpiresIn = process.env.REFRESH_TOKEN_EXPIRES_IN || '30d'; this.initializeDatabase(); } /** Inicializar tablas de OAuth en la base de datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateAuthUrl</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/OAuth2Service.js</div>
                <div class="item-description">Generar URL de autorizaci√≥n para un proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">exchangeCodeForTokens</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/OAuth2Service.js</div>
                <div class="item-description">Intercambiar c√≥digo de autorizaci√≥n por tokens</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createOrUpdateUser</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/OAuth2Service.js</div>
                <div class="item-description">Crear o actualizar usuario en la base de datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">normalizeUserInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/OAuth2Service.js</div>
                <div class="item-description">Normalizar informaci√≥n del usuario seg√∫n el proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveTokens</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/OAuth2Service.js</div>
                <div class="item-description">Guardar tokens OAuth en la base de datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateJWT</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/OAuth2Service.js</div>
                <div class="item-description">Generar JWT para la aplicaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">verifyJWT</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/OAuth2Service.js</div>
                <div class="item-description">Verificar y renovar JWT</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/OAuth2Service.js</div>
                <div class="item-description">Generar estado seguro para OAuth</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/OAuth2Service.js</div>
                <div class="item-description">Guardar estado OAuth</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">verifyState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/OAuth2Service.js</div>
                <div class="item-description">Verificar estado OAuth</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/OAuth2Service.js</div>
                <div class="item-description">Limpiar estado usado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupExpiredStates</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/OAuth2Service.js</div>
                <div class="item-description">Limpiar estados expirados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">revokeTokens</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/OAuth2Service.js</div>
                <div class="item-description">Revocar tokens OAuth</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getUserTokens</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/OAuth2Service.js</div>
                <div class="item-description">Obtener tokens de usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateSecureSecret</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/OAuth2Service.js</div>
                <div class="item-description">Generar secreto seguro</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">parseExpiresIn</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/OAuth2Service.js</div>
                <div class="item-description">Parsear tiempo de expiraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">authMiddleware</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/OAuth2Service.js</div>
                <div class="item-description">Middleware para verificar autenticaci√≥n OAuth</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">activate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ObserverAgent.js</div>
                <div class="item-description">ObserverAgent - Agente observador inteligente Analiza todos los eventos del sistema para detectar: - Patrones de comportamiento - Anomal√≠as y problemas - Oportunidades de optimizaci√≥n - Tendencias y predicciones / class ObserverAgent { constructor(eventHub) { this.eventHub = eventHub; this.logger = createLogger('OBSERVER_AGENT'); this.agentId = uuidv4(); // Estado del agente this.isActive = false; this.observations = new Map(); this.patterns = new Map(); this.anomalies = []; this.metrics = { eventsObserved: 0, patternsDetected: 0, anomaliesFound: 0, suggestionsGenerated: 0 }; // Configuraci√≥n de an√°lisis this.config = { patternDetectionThreshold: 5, // M√≠nimo de ocurrencias para considerar patr√≥n anomalyDetectionWindow: 300000, // 5 minutos en ms analysisInterval: 30000, // An√°lisis cada 30 segundos maxObservations: 1000, learningRate: 0.1 }; // Ventanas de tiempo para an√°lisis this.timeWindows = { short: 60000,   // 1 minuto medium: 300000, // 5 minutos long: 1800000   // 30 minutos }; this.logger.info('üîç ObserverAgent inicializado'); } /** Activar el agente observador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">observeEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ObserverAgent.js</div>
                <div class="item-description">Observar y analizar un evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordObservation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ObserverAgent.js</div>
                <div class="item-description">Registrar observaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeEventImmediate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ObserverAgent.js</div>
                <div class="item-description">An√°lisis inmediato del evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectHighFrequencyEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ObserverAgent.js</div>
                <div class="item-description">Detectar eventos de alta frecuencia</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectEventChains</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ObserverAgent.js</div>
                <div class="item-description">Detectar cadenas de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeErrorEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ObserverAgent.js</div>
                <div class="item-description">Analizar eventos de error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectAnomalies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ObserverAgent.js</div>
                <div class="item-description">Detectar anomal√≠as</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectResponseTimeAnomalies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ObserverAgent.js</div>
                <div class="item-description">Detectar anomal√≠as en tiempos de respuesta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectVolumeAnomalies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ObserverAgent.js</div>
                <div class="item-description">Detectar anomal√≠as en volumen</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectTemporalAnomalies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ObserverAgent.js</div>
                <div class="item-description">Detectar anomal√≠as temporales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordAnomaly</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ObserverAgent.js</div>
                <div class="item-description">Registrar anomal√≠a</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateSuggestion</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ObserverAgent.js</div>
                <div class="item-description">Generar sugerencia</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startPeriodicAnalysis</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ObserverAgent.js</div>
                <div class="item-description">An√°lisis peri√≥dico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performPeriodicAnalysis</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ObserverAgent.js</div>
                <div class="item-description">Realizar an√°lisis peri√≥dico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeTrends</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ObserverAgent.js</div>
                <div class="item-description">Analizar tendencias</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeSystemEfficiency</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ObserverAgent.js</div>
                <div class="item-description">Analizar eficiencia del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateTrend</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ObserverAgent.js</div>
                <div class="item-description">Calcular tendencia</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateHistoricalVolumes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ObserverAgent.js</div>
                <div class="item-description">Calcular vol√∫menes hist√≥ricos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeTemporalPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ObserverAgent.js</div>
                <div class="item-description">Analizar patrones temporales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ObserverAgent.js</div>
                <div class="item-description">Limpiar datos antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ObserverAgent.js</div>
                <div class="item-description">Obtener estad√≠sticas del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deactivate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ObserverAgent.js</div>
                <div class="item-description">Desactivar el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Gestor de recuperaci√≥n autom√°tica y tolerancia a fallos Maneja errores, reintentos autom√°ticos y auto-reparaci√≥n del sistema / class RecoveryManager { constructor(eventBus, eventStore, eventReplayer) { this.eventBus = eventBus; this.eventStore = eventStore; this.eventReplayer = eventReplayer; this.logger = createLogger('RECOVERY_MANAGER'); this.isActive = false; this.failedEvents = new Map(); this.retryQueue = []; this.circuitBreakers = new Map(); this.healthChecks = new Map(); this.config = { maxRetries: 3, retryDelays: [1000, 5000, 15000], // Backoff exponencial circuitBreakerThreshold: 5, // Fallos consecutivos para abrir circuito circuitBreakerTimeout: 30000, // 30 segundos healthCheckInterval: 60000, // 1 minuto criticalEventTimeout: 10000, // 10 segundos para eventos cr√≠ticos autoRecoveryEnabled: true }; this.stats = { totalFailures: 0, successfulRecoveries: 0, failedRecoveries: 0, circuitBreakersTriggered: 0, autoRepairsPerformed: 0 }; this.setupEventListeners(); } /** Inicia el gestor de recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Detiene el gestor de recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventListeners</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Configura los listeners para capturar errores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleSystemError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Maneja errores del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleCriticalError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Maneja errores cr√≠ticos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleEventProcessingFailure</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Maneja fallos de procesamiento de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleEventTimeout</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Maneja timeouts de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">determineRecoveryStrategy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Determina la estrategia de recuperaci√≥n apropiada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeRecovery</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Ejecuta la estrategia de recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performMemoryCleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Realiza limpieza de memoria</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performNetworkRetry</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Realiza reintento de red</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performDatabaseReconnect</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Realiza reconexi√≥n de base de datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performTimeoutRecovery</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Realiza recuperaci√≥n de timeout</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performDataValidation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Realiza validaci√≥n de datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performGenericRetry</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Realiza reintento gen√©rico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scheduleRetry</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Programa un reintento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">retryOriginalOperation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Reintenta la operaci√≥n original</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">markPermanentFailure</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Marca un fallo como permanente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">requestAIDiagnosis</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Solicita diagn√≥stico autom√°tico de IA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">activateEmergencyMode</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Activa modo de emergencia</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startHealthChecks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Inicia verificaciones de salud peri√≥dicas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performHealthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Realiza verificaci√≥n de salud del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">takeCorrectiveActions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Toma acciones correctivas basadas en el estado de salud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startRetryProcessor</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Inicia el procesador de cola de reintentos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processRetryQueue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Procesa la cola de reintentos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldRetryEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Verifica si un evento debe reintentarse</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isCriticalEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Verifica si un evento es cr√≠tico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSystemState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Obtiene el estado actual del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clearInternalCaches</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Limpia caches internos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">escalateFailure</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Escala un fallo para atenci√≥n manual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sleep</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Funci√≥n auxiliar para pausas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/RecoveryManager.js</div>
                <div class="item-description">Obtiene estad√≠sticas del recovery manager</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerEventListeners</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SalesAgent.js</div>
                <div class="item-description">Agente especializado en ventas Escucha eventos de inter√©s del usuario y pagos para persuadir con mensajes personalizados / class SalesAgent extends BaseAgent { constructor(eventBus, config = {}) { super('SalesAgent', eventBus, { priority: 'high', maxConcurrentTasks: 10, retryAttempts: 3, timeout: 15000, ...config }); this.salesConfig = { persuasionLevel: config.persuasionLevel || 'medium', followUpDelay: config.followUpDelay || 300000, // 5 minutos maxFollowUps: config.maxFollowUps || 3, discountThreshold: config.discountThreshold || 2, // Despu√©s de 2 rechazos urgencyMessages: config.urgencyMessages || true, personalizedOffers: config.personalizedOffers || true }; this.customerProfiles = new Map(); this.activeOffers = new Map(); this.followUpTimers = new Map(); this.salesStats = { leadsGenerated: 0, conversions: 0, rejections: 0, followUpsSent: 0, discountsOffered: 0, averageConversionTime: 0 }; } /** Registra los listeners espec√≠ficos del agente de ventas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleUserInterest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SalesAgent.js</div>
                <div class="item-description">Maneja el inter√©s del usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleProductViewing</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SalesAgent.js</div>
                <div class="item-description">Maneja cuando el usuario est√° viendo un producto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleCartAbandonment</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SalesAgent.js</div>
                <div class="item-description">Maneja el abandono del carrito</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handlePriceInquiry</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SalesAgent.js</div>
                <div class="item-description">Maneja consultas de precios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handlePaymentDeclined</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SalesAgent.js</div>
                <div class="item-description">Maneja pagos rechazados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handlePaymentPending</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SalesAgent.js</div>
                <div class="item-description">Maneja pagos pendientes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handlePaymentApproved</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SalesAgent.js</div>
                <div class="item-description">Maneja pagos aprobados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handlePaymentFailed</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SalesAgent.js</div>
                <div class="item-description">Maneja fallos de pago</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handlePriceComparison</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SalesAgent.js</div>
                <div class="item-description">Maneja comparaci√≥n de precios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleSessionEnding</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SalesAgent.js</div>
                <div class="item-description">Maneja fin de sesi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleCompetitorPriceDrop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SalesAgent.js</div>
                <div class="item-description">Maneja ca√≠da de precios de competencia</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleMarketTrendChange</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SalesAgent.js</div>
                <div class="item-description">Maneja cambios en tendencias del mercado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleUserHesitation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SalesAgent.js</div>
                <div class="item-description">Maneja la hesitaci√≥n del usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateInterestMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SalesAgent.js</div>
                <div class="item-description">Genera mensaje de inter√©s personalizado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateRepeatedViewMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SalesAgent.js</div>
                <div class="item-description">Genera mensaje para vistas repetidas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateCartRecoveryMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SalesAgent.js</div>
                <div class="item-description">Genera mensaje de recuperaci√≥n de carrito</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateBudgetAlternatives</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SalesAgent.js</div>
                <div class="item-description">Genera alternativas de presupuesto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateValueJustification</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SalesAgent.js</div>
                <div class="item-description">Genera justificaci√≥n de valor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scheduleFollowUp</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SalesAgent.js</div>
                <div class="item-description">Programa seguimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeFollowUp</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SalesAgent.js</div>
                <div class="item-description">Ejecuta seguimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">offerRecoveryDiscount</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SalesAgent.js</div>
                <div class="item-description">Ofrece descuento de recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateCustomerProfile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SalesAgent.js</div>
                <div class="item-description">Actualiza perfil del cliente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">personalizeMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SalesAgent.js</div>
                <div class="item-description">Personaliza mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clearFollowUps</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SalesAgent.js</div>
                <div class="item-description">Limpia seguimientos activos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateAverageConversionTime</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SalesAgent.js</div>
                <div class="item-description">Actualiza tiempo promedio de conversi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSalesStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SalesAgent.js</div>
                <div class="item-description">Obtiene estad√≠sticas de ventas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">onStop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SalesAgent.js</div>
                <div class="item-description">Limpieza al detener el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">constructor</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Server.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Servidor principal del ChatBot Enterprise  Este archivo contiene la clase Server que maneja toda la configuraci√≥n y inicializaci√≥n del servidor web, incluyendo: - Configuraci√≥n de Express.js y middleware - Integraci√≥n con Socket.IO para comunicaci√≥n en tiempo real - Arquitectura orientada a eventos con EventBus - Gesti√≥n de servicios y rutas - Configuraci√≥n de seguridad y rate limiting - Manejo de base de datos y archivos est√°ticos <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0<br><strong>@since:</strong> 2024 /  // Dependencias principales de Express y HTTP import express from 'express'; import http from 'http'; import { Server as SocketIOServer } from 'socket.io';  // Middleware de seguridad y utilidades import cors from 'cors'; import helmet from 'helmet'; import compression from 'compression'; import rateLimit from 'express-rate-limit';  // Utilidades de Node.js para manejo de rutas import path from 'path'; import fs from 'fs';  // Configuraci√≥n centralizada del sistema import environmentConfig from '../../../config/environments/environments/environment.js'; import constants from '../../../config/environments/environments/constants.js';  // M√≥dulos core - Arquitectura orientada a eventos import EventBus from '../EventBus.js'; import { EventTypes } from './EventTypes.js'; import { log as logger, createLogger } from './logger.js'; import { getDatabase, initDatabase } from './database.js'; import middleware from './middleware.js';  // Servicios - Comunicaci√≥n por eventos import serviceManager from './ServiceManager.js'; import HealthCheckService from './HealthCheckService.js'; import NotificationService from './NotificationService.js'; import AuditService from './AuditService.js';  // Servicios de mensajer√≠a import LocalMessagingService from '../../../../apps/api/src/services/localMessagingService.js'; import LocalContactManager from '../../../../apps/api/src/services/localContactManager.js'; import { unifiedWebhookService } from './UnifiedWebhookService.js';  // Rutas de la API - Temporarily commented out missing routes // import healthRouter from '../../../../apps/api/src/api/routes/health.js'; // import analyticsRouter from '../../../../apps/api/src/api/routes/analytics.js'; // import notificationsRouter from '../../../../apps/api/src/api/routes/notifications.js'; // import dynamicTemplatesRouter from '../../../../apps/api/src/api/routes/dynamicTemplates.js'; // import backupRouter from '../../../../apps/api/src/api/routes/backup.js'; // import integrationsRouter from '../../../../apps/api/src/api/routes/integrations.js'; // import messageQueueRouter from '../../../../apps/api/src/api/routes/messageQueue.js'; // import reportsRouter from '../../../../apps/api/src/api/routes/reports.js'; // import aiAdminRouter from '../../../../apps/api/src/api/routes/ai-admin.js'; import authRoutes from '../../../api/routes/authRoutes.js';  // Importar rutas de apps/api import { createApiRouter } from '../../../../apps/api/src/routes/index.js'; import analyticsRouter from '../../../../apps/api/src/routes/analytics.js'; import notificationsRouter from '../../../../apps/api/src/routes/notifications.js'; import healthRouter from '../../../../apps/api/src/routes/health.js'; import backupRouter from '../../../../apps/api/src/routes/backup.js'; import integrationsRouter from '../../../../apps/api/src/routes/integrations.js'; import messageQueueRouter from '../../../../apps/api/src/routes/messageQueue.js'; import reportsRouter from '../../../../apps/api/src/routes/reports.js'; import aiAdminRouter from '../../../../apps/api/src/routes/ai-admin.js'; import dynamicTemplatesRouter from '../../../../apps/api/src/routes/dynamicTemplates.js'; import billingRouter from '../../../../apps/api/src/routes/billing.js'; import commerceRouter from '../../../../apps/api/src/routes/commerce.js';  // Webhook routes - Usando sistema unificado de webhooks import webhooksRouter from '../../../../apps/api/src/routes/webhooks.js';  // Configuraci√≥n de rutas para m√≥dulos ES6 - Eliminado __dirname para compatibilidad  /** Clase principal del servidor ChatBot Enterprise  Implementa una arquitectura orientada a eventos que consolida toda la funcionalidad del sistema usando EventBus para comunicaci√≥n desacoplada.  Caracter√≠sticas principales: - Servidor HTTP/HTTPS con Express.js - WebSockets con Socket.IO para tiempo real - Middleware de seguridad integrado - Rate limiting y protecci√≥n DDoS - Gesti√≥n autom√°tica de servicios - Monitoreo de salud del sistema - Soporte para m√∫ltiples bases de datos - API RESTful completa - Dashboard de administraci√≥n <br><strong>@class:</strong> Server<br><strong>@example:</strong>  ```javascript import Server from '../core/Server.js';  const server = new Server(); await server.initialize(); await server.start(); ``` / class Server { /** Constructor de la clase Server  Inicializa las propiedades b√°sicas del servidor y configura la aplicaci√≥n Express con la configuraci√≥n del entorno. <br><strong>@constructor:</strong>  
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventListeners</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Server.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@type:</strong> {Object} Configuraci√≥n del entorno cargada */ this.config = environmentConfig.getConfig();  /** @type {express.Application} Aplicaci√≥n Express principal */ this.app = express();  /** @type {http.Server|null} Servidor HTTP/HTTPS */ this.server = null;  /** @type {SocketIOServer|null} Instancia de Socket.IO para WebSockets */ this.io = null;  /** @type {Object|null} Conexi√≥n a la base de datos */ this.db = null;  /** @type {EventBus} EventBus como n√∫cleo de comunicaci√≥n entre componentes */ this.eventBus = new EventBus();  /** @type {ServiceManager} Gestor centralizado de servicios del sistema */ this.serviceManager = serviceManager;  /** @type {HealthCheckService|null} Servicio de monitoreo de salud del sistema */ this.healthCheckService = null;  /** @type {NotificationService|null} Servicio de notificaciones en tiempo real */ this.notificationService = null;  /** @type {AuditService|null} Servicio de auditor√≠a y logging de operaciones */ this.auditService = null;  /** @type {boolean} Indica si el servidor est√° ejecut√°ndose */ this.isStarted = false;  /** @type {number|null} Timestamp de inicio del servidor para m√©tricas de uptime */ this.startTime = null;  // Configurar listeners de eventos del servidor this.setupEventListeners(); }  /** Configura los listeners de eventos para comunicaci√≥n desacoplada  Establece los manejadores de eventos para la comunicaci√≥n entre componentes usando el EventBus. Incluye eventos para: - Conexi√≥n y errores de base de datos - Inicio y errores de servicios - Detecci√≥n de amenazas de seguridad - Estados del sistema (startup, ready) <br><strong>@method:</strong> setupEventListeners<br><strong>@memberof:</strong> Server<br><strong>@private:</strong>  
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Server.js</div>
                <div class="item-description">Inicializa el servidor completo usando arquitectura orientada a eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupBasicMiddleware</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Server.js</div>
                <div class="item-description">Configura middleware b√°sico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupSecurity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Server.js</div>
                <div class="item-description">Configura seguridad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeDatabase</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Server.js</div>
                <div class="item-description">Inicializa la base de datos y emite eventos correspondientes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupSocketIO</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Server.js</div>
                <div class="item-description">Configura Socket.IO</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeServices</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Server.js</div>
                <div class="item-description">Inicializar servicios usando ServiceManager</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupRoutes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Server.js</div>
                <div class="item-description">Configura todas las rutas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupDashboardRoutes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Server.js</div>
                <div class="item-description">Configura rutas de dashboards</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupLegacyRoutes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Server.js</div>
                <div class="item-description">Configura rutas legacy para compatibilidad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupStaticFiles</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Server.js</div>
                <div class="item-description">Configura archivos est√°ticos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupErrorHandling</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Server.js</div>
                <div class="item-description">Configura manejo de errores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Server.js</div>
                <div class="item-description">Inicia el servidor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Server.js</div>
                <div class="item-description">Detiene el servidor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Server.js</div>
                <div class="item-description">Obtiene informaci√≥n del servidor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getApp</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Server.js</div>
                <div class="item-description">Obtiene la instancia de Express</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getIO</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Server.js</div>
                <div class="item-description">Obtiene la instancia de Socket.IO</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getDatabase</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Server.js</div>
                <div class="item-description">Obtiene la instancia de la base de datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getActiveServices</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Server.js</div>
                <div class="item-description">Obtiene informaci√≥n de servicios activos para eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerService</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ServiceManager.js</div>
                <div class="item-description">Gestor centralizado de servicios Maneja el ciclo de vida de todos los servicios del sistema / class ServiceManager { constructor() { this.logger = createLogger('SERVICE_MANAGER'); this.services = new Map(); this.serviceOrder = []; this.isInitialized = false; this.healthCheckInterval = null; this.healthCheckIntervalMs = 30000; // 30 segundos } /** Registrar un servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getService</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ServiceManager.js</div>
                <div class="item-description">Obtener un servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">hasService</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ServiceManager.js</div>
                <div class="item-description">Verificar si un servicio existe</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateInitializationOrder</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ServiceManager.js</div>
                <div class="item-description">Calcular orden de inicializaci√≥n basado en dependencias</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeAll</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ServiceManager.js</div>
                <div class="item-description">Inicializar todos los servicios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startAll</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ServiceManager.js</div>
                <div class="item-description">Iniciar todos los servicios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopAll</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ServiceManager.js</div>
                <div class="item-description">Detener todos los servicios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">restartService</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ServiceManager.js</div>
                <div class="item-description">Reiniciar un servicio espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAllStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ServiceManager.js</div>
                <div class="item-description">Obtener estado de todos los servicios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAllHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ServiceManager.js</div>
                <div class="item-description">Obtener salud de todos los servicios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startHealthChecks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ServiceManager.js</div>
                <div class="item-description">Iniciar health checks peri√≥dicos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopHealthChecks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ServiceManager.js</div>
                <div class="item-description">Detener health checks</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ServiceManager.js</div>
                <div class="item-description">Log de m√©tricas de todos los servicios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getServicesByType</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ServiceManager.js</div>
                <div class="item-description">Obtener servicio por tipo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkServiceDependencies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/ServiceManager.js</div>
                <div class="item-description">Verificar dependencias de un servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventListeners</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">STATS AGENT - Agente Evolutivo de M√©tricas y Estad√≠sticas Funcionalidades evolutivas: - M√©tricas de interacci√≥n y conversaci√≥n en tiempo real - Estados de conversaci√≥n y detecci√≥n de intenciones - C√°lculo de efectividad y tasas de conversi√≥n - Reportes agregados por per√≠odo - Persistencia at√≥mica en JSON - An√°lisis de patrones de uso - M√©tricas de rendimiento del sistema - Auto-optimizaci√≥n de m√©tricas - Detecci√≥n de anomal√≠as en tiempo real</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Sistema Event-Driven Evolutivo<br><strong>@version:</strong> 2.0.0 /  import fs from 'fs/promises'; import path from 'path'; import { fileURLToPath } from 'url'; import { v4 as uuidv4 } from 'uuid'; import { createLogger } from '../core/evolutive-logger.js';  const __filename = fileURLToPath(import.meta.url); const __dirname = path.dirname(__filename);  class StatsAgent { constructor(eventHub) { this.id = uuidv4(); this.name = 'StatsAgent'; this.eventHub = eventHub; this.logger = createLogger('StatsAgent');  // Configuraci√≥n del agente this.config = { // Estado del agente isActive: true, autoOptimize: true, learningEnabled: true,  // Persistencia autoSave: process.env.STATS_AUTO_SAVE !== 'false', saveInterval: parseInt(process.env.STATS_SAVE_INTERVAL) || 300,  // Retenci√≥n de datos retentionDays: parseInt(process.env.STATS_RETENTION_DAYS) || 90, aggregationLevels: ['hourly', 'daily', 'weekly', 'monthly'],  // M√©tricas trackDetailedMetrics: process.env.TRACK_DETAILED_METRICS !== 'false', trackPerformance: process.env.TRACK_PERFORMANCE !== 'false', trackUserBehavior: process.env.TRACK_USER_BEHAVIOR !== 'false',  // Alertas y anomal√≠as enableAlerts: process.env.STATS_ALERTS !== 'false', errorThreshold: parseInt(process.env.ERROR_THRESHOLD) || 10, responseTimeThreshold: parseInt(process.env.RESPONSE_TIME_THRESHOLD) || 5000, anomalyDetectionEnabled: true, anomalyThreshold: 2.5 // Desviaciones est√°ndar };  // Rutas de almacenamiento this.dataDir = process.env.DATA_DIR || path.join(__dirname, '../../data'); this.statsFile = path.join(this.dataDir, 'stats.json'); this.agentStateFile = path.join(this.dataDir, 'stats-agent-state.json');  // Estado del agente this.agentState = { isInitialized: false, lastOptimization: null, optimizationCount: 0, anomaliesDetected: 0, performanceBaseline: {}, learningData: { patterns: {}, trends: {}, predictions: {} } };  // Sistema de mutex para operaciones cr√≠ticas this.operationMutex = false; this.operationQueue = [];  // Estado en memoria de estad√≠sticas this.stats = { // M√©tricas b√°sicas totalMessages: 0, totalContacts: 0, totalConversations: 0, totalErrors: 0,  // M√©tricas de tiempo systemStartTime: new Date().toISOString(), lastActivity: null, uptime: 0,  // M√©tricas de interacci√≥n interactions: { total: 0, successful: 0, failed: 0, averageResponseTime: 0, totalResponseTime: 0 },  // Estados de conversaci√≥n conversationStates: { active: 0, completed: 0, abandoned: 0, escalated: 0 },  // Intenciones detectadas intentions: {},  // M√©tricas por per√≠odo periods: { current: { hour: this.getCurrentHour(), day: this.getCurrentDay(), week: this.getCurrentWeek(), month: this.getCurrentMonth() }, hourly: {}, daily: {}, weekly: {}, monthly: {} },  // Distribuci√≥n de tiempos de respuesta responseTimeDistribution: { '0-1s': 0, '1-3s': 0, '3-5s': 0, '5-10s': 0, '10s+': 0 },  // Comportamiento de usuarios userBehavior: {},  // M√©tricas de efectividad effectiveness: { averageConversationDuration: 0, resolutionRate: 0, satisfactionScore: 0, escalationRate: 0 },  // M√©tricas de rendimiento del sistema performance: { memoryUsage: 0, cpuUsage: 0, responseTime: 0, throughput: 0, errorRate: 0 } };  // M√©tricas evolutivas this.evolutiveMetrics = { adaptationRate: 0, learningEfficiency: 0, predictionAccuracy: 0, optimizationImpact: 0, anomalyDetectionRate: 0 };  this.setupEventListeners(); this.logger.info('üî¢ StatsAgent inicializado', { agentId: this.id }); }  /** Configurar listeners de eventos 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Inicializar el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setActive</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Activar/desactivar el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleSystemStarted</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Manejar inicio del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleMessageReceived</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Manejar mensaje recibido</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleContactCreated</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Manejar contacto creado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleAIResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Manejar respuesta de IA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleIntentionDetected</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Manejar intenci√≥n detectada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleSystemError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Manejar error del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleStatsRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Manejar solicitud de estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Registrar mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordContact</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Registrar contacto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordInteraction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Registrar interacci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Registrar error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordPerformanceMetric</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Registrar m√©trica de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectPerformanceAnomaly</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Detectar anomal√≠as de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updatePerformanceBaseline</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Actualizar baseline de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">learnIntentionPattern</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Aprender patr√≥n de intenci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateIntentionPredictions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Generar predicciones de intenciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Obtener estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeWithMutex</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Ejecutar operaci√≥n con mutex</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processQueue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Procesar cola de operaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ensureDataDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Asegurar directorio de datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Cargar estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadAgentState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Cargar estado del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Guardar estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveAgentState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Guardar estado del agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">mergeStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Fusionar estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startAutoSave</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Iniciar auto-guardado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startPerformanceMonitoring</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Iniciar monitoreo de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startAnomalyDetection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Iniciar detecci√≥n de anomal√≠as</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">runAnomalyDetection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Ejecutar detecci√≥n de anomal√≠as</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updatePerformanceMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Actualizar m√©tricas de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateUptime</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Actualizar tiempo de actividad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getUptime</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Obtener tiempo de actividad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkErrorThresholds</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Verificar umbrales de error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRecentErrors</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Obtener errores recientes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updatePeriodMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Actualizar m√©tricas por per√≠odo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updatePeriodMetric</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Actualizar m√©trica de per√≠odo espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateResponseTimeDistribution</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Actualizar distribuci√≥n de tiempos de respuesta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateUserBehavior</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Actualizar comportamiento de usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startCleanupScheduler</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Iniciar programador de limpieza</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Limpiar datos antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">parsePeriodDate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Parsear fecha de per√≠odo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCurrentHour</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Obtener hora actual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCurrentDay</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Obtener d√≠a actual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCurrentWeek</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Obtener semana actual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCurrentMonth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Obtener mes actual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getWeekNumber</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Obtener n√∫mero de semana</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shutdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/StatsAgent.js</div>
                <div class="item-description">Apagar el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerEventListeners</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SupportAgent.js</div>
                <div class="item-description">Agente especializado en soporte al cliente Reacciona a preguntas de usuarios y confusi√≥n de IA para brindar asistencia / class SupportAgent extends BaseAgent { constructor(eventBus, config = {}) { super('SupportAgent', eventBus, { priority: 'high', maxConcurrentTasks: 15, retryAttempts: 2, timeout: 20000, ...config }); this.supportConfig = { responseTime: config.responseTime || 'fast', // fast, normal, detailed escalationThreshold: config.escalationThreshold || 3, // Intentos antes de escalar knowledgeBaseEnabled: config.knowledgeBaseEnabled !== false, autoResolutionEnabled: config.autoResolutionEnabled !== false, sentimentAnalysisEnabled: config.sentimentAnalysisEnabled !== false, priorityKeywords: config.priorityKeywords || ['urgent', 'emergency', 'critical', 'broken', 'error'] }; this.knowledgeBase = new Map(); this.activeTickets = new Map(); this.userSessions = new Map(); this.escalationQueue = []; this.supportStats = { ticketsCreated: 0, ticketsResolved: 0, ticketsEscalated: 0, averageResolutionTime: 0, customerSatisfactionScore: 0, commonIssues: new Map(), responseTimeMetrics: { fast: 0, normal: 0, slow: 0 } }; this.initializeKnowledgeBase(); } /** Registra los listeners espec√≠ficos del agente de soporte</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleUserQuestion</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SupportAgent.js</div>
                <div class="item-description">Maneja preguntas de usuarios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleUserComplaint</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SupportAgent.js</div>
                <div class="item-description">Maneja quejas de usuarios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleTechnicalIssue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SupportAgent.js</div>
                <div class="item-description">Maneja problemas t√©cnicos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleAIConfusion</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SupportAgent.js</div>
                <div class="item-description">Maneja confusi√≥n de IA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleAIError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SupportAgent.js</div>
                <div class="item-description">Maneja errores de IA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handlePaymentIssue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SupportAgent.js</div>
                <div class="item-description">Maneja problemas de pago</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createSupportTicket</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SupportAgent.js</div>
                <div class="item-description">Crea un ticket de soporte</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeQuestion</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SupportAgent.js</div>
                <div class="item-description">Analiza una pregunta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">searchKnowledgeBase</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SupportAgent.js</div>
                <div class="item-description">Busca en la base de conocimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateSupportResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SupportAgent.js</div>
                <div class="item-description">Genera respuesta de soporte</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendAutomaticResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SupportAgent.js</div>
                <div class="item-description">Env√≠a respuesta autom√°tica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">escalateTicket</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SupportAgent.js</div>
                <div class="item-description">Escala un ticket</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeKnowledgeBase</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SupportAgent.js</div>
                <div class="item-description">Inicializa la base de conocimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateUserSession</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SupportAgent.js</div>
                <div class="item-description">Actualiza sesi√≥n de usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractKeywords</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SupportAgent.js</div>
                <div class="item-description">Extrae palabras clave</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">determinePriority</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SupportAgent.js</div>
                <div class="item-description">Determina prioridad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">categorizeQuestion</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SupportAgent.js</div>
                <div class="item-description">Categoriza pregunta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateRelevanceScore</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SupportAgent.js</div>
                <div class="item-description">Calcula puntuaci√≥n de relevancia</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateCommonIssues</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SupportAgent.js</div>
                <div class="item-description">Actualiza problemas comunes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateResolutionTime</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SupportAgent.js</div>
                <div class="item-description">Actualiza tiempo de resoluci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSupportStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SupportAgent.js</div>
                <div class="item-description">Obtiene estad√≠sticas de soporte</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">onStop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/SupportAgent.js</div>
                <div class="item-description">Limpieza al detener el agente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeDatabase</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/TwoFactorAuthService.js</div>
                <div class="item-description">Two-Factor Authentication Service Servicio de autenticaci√≥n de dos factores (2FA) con TOTP Recomendaci√≥n #19: A√±adir autenticaci√≥n de dos factores (2FA) / import crypto from 'crypto'; import speakeasy from 'speakeasy'; import QRCode from 'qrcode'; import logger from './logger.js'; import DatabaseManager from '../../../config/database/DatabaseManager.js'; class TwoFactorAuthService { constructor() { this.appName = process.env.APP_NAME || 'ChatBot App'; this.issuer = process.env.APP_ISSUER || 'ChatBot'; this.backupCodesCount = 10; this.backupCodeLength = 8; this.totpWindow = 2; // Ventana de tiempo para TOTP (¬±2 per√≠odos) this.initializeDatabase(); } /** Inicializar tablas de 2FA en la base de datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateSecret</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/TwoFactorAuthService.js</div>
                <div class="item-description">Generar secreto para TOTP</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateQRCode</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/TwoFactorAuthService.js</div>
                <div class="item-description">Generar c√≥digo QR para configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateBackupCodes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/TwoFactorAuthService.js</div>
                <div class="item-description">Generar c√≥digos de respaldo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setup2FA</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/TwoFactorAuthService.js</div>
                <div class="item-description">Configurar 2FA para un usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">verify2FASetup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/TwoFactorAuthService.js</div>
                <div class="item-description">Verificar c√≥digo TOTP y habilitar 2FA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">verify2FA</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/TwoFactorAuthService.js</div>
                <div class="item-description">Verificar c√≥digo 2FA durante el login</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">verifyBackupCode</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/TwoFactorAuthService.js</div>
                <div class="item-description">Verificar c√≥digo de respaldo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">disable2FA</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/TwoFactorAuthService.js</div>
                <div class="item-description">Deshabilitar 2FA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">regenerateBackupCodes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/TwoFactorAuthService.js</div>
                <div class="item-description">Regenerar c√≥digos de respaldo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">get2FAStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/TwoFactorAuthService.js</div>
                <div class="item-description">Obtener estado de 2FA para un usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkRateLimit</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/TwoFactorAuthService.js</div>
                <div class="item-description">Verificar rate limiting para intentos 2FA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logAttempt</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/TwoFactorAuthService.js</div>
                <div class="item-description">Registrar intento de 2FA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldAttempts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/TwoFactorAuthService.js</div>
                <div class="item-description">Limpiar intentos antiguos de 2FA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">get2FAStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/TwoFactorAuthService.js</div>
                <div class="item-description">Obtener estad√≠sticas de 2FA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">require2FA</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/TwoFactorAuthService.js</div>
                <div class="item-description">Middleware para verificar 2FA requerido</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeService</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">Unified 360Dialog Service - Estilo Manychat Mejorado Servicio unificado que consolida todas las funcionalidades de 360Dialog Elimina duplicidades y proporciona una interfaz coherente y eficiente / import axios from 'axios'; import crypto from 'crypto'; import logger from './logger.js'; import EventBus from '../EventBus.js'; import { EventTypes } from './EventTypes.js'; import { CONFIG } from '../../../../apps/api/src/core/config.js'; import contextManager from '../../../managers/context_manager.js'; import { intelligentAI } from '../../../../apps/api/src/services/IntelligentAIService.js'; /** Clase de error personalizada para 360Dialog / class Dialog360Error extends Error { constructor(message, code = 'DIALOG360_ERROR', statusCode = null, details = null) { super(message); this.name = 'Dialog360Error'; this.code = code; this.statusCode = statusCode; this.details = details; } } /** Servicio Unificado de 360Dialog con estilo Manychat Combina env√≠o de mensajes, procesamiento de webhooks y gesti√≥n de IA / class Unified360DialogService { constructor() { // Configuraci√≥n de API this.baseUrl = process.env.WABA_API_BASE || 'https://waba-v2.360dialog.io'; this.apiKey = process.env.DIALOG360_API_KEY || CONFIG.D360_API_KEY; this.clientId = process.env.DIALOG360_CLIENT_ID; this.partnerId = process.env.DIALOG360_PARTNER_ID; this.namespace = process.env.DIALOG360_NAMESPACE; this.webhookSecret = process.env.DIALOG360_WEBHOOK_SECRET; // Servicios internos this.logger = logger; this.eventBus = new EventBus(); this.rateLimiter = new Map(); this.messageQueue = []; this.isProcessingQueue = false; this.isEnabled = true; // Se deshabilitar√° si no hay credenciales // Configuraci√≥n de reintentos estilo Manychat this.retryConfig = { maxRetries: 3, baseDelay: 1000, maxDelay: 10000, backoffFactor: 2, jitter: true }; // M√©tricas de rendimiento this.metrics = { messagesSent: 0, messagesReceived: 0, webhooksProcessed: 0, errors: 0, avgResponseTime: 0, lastActivity: null, aiInteractions: 0 }; // Palabras clave para detecci√≥n de intenci√≥n (estilo Manychat) this.intentKeywords = { purchase: [ 'quiero participar', 'como se paga', 'c√≥mo se paga', 'me interesa', 'mandame la info', 'm√°ndame la info', 'env√≠ame la info', 'enviame la info', 'quiero comprar', 'participar', 'inscribirme', 'registrarme' ], rejection: [ 'no me interesa', 'no gracias', 'no quiero', 'd√©jame en paz', 'no molestar', 'stop', 'basta', 'cancelar' ] }; this.initializeService(); } /** Inicializar el servicio unificado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">healthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">Verificaci√≥n de salud del servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendTextMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">Enviar mensaje de texto (estilo Manychat mejorado)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendThankYouMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">Enviar mensaje de agradecimiento personalizado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendPaymentInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">Enviar informaci√≥n de pago</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendInteractiveButtons</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">Enviar mensaje con botones interactivos (estilo Manychat)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendInteractiveList</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">Enviar lista interactiva (estilo Manychat)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">M√©todo principal para enviar mensajes (unificado)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processWebhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">Procesar webhook unificado (estilo Manychat con IA)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processWebhookChange</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">Procesar cambio individual del webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processIncomingMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">Procesar mensaje entrante con IA (estilo Manychat mejorado)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeIntent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">Analizar intenci√≥n del mensaje (estilo Manychat)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handlePurchaseIntent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">Manejar intenci√≥n de compra</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleRejection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">Manejar rechazo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractMessageContent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">Extraer contenido del mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processMessageStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">Procesar estado del mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">makeRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">Realizar petici√≥n HTTP con reintentos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldRetry</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">Verificar si se debe reintentar</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateRetryDelay</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">Calcular delay de reintento con jitter</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkRateLimit</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">Verificar rate limiting - DESACTIVADO</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">verifyWebhookSignature</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">Verificar firma del webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">normalizePhoneNumber</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">Normalizar n√∫mero de tel√©fono</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">Actualizar m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">Obtener m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sleep</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">Dormir por ms milisegundos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startQueueProcessor</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">Iniciar procesador de cola</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processQueue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">Procesar cola de mensajes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">queueMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">Agregar mensaje a la cola</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/Unified360DialogService.js</div>
                <div class="item-description">Detener el servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setSocketIO</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/UnifiedWebhookService.js</div>
                <div class="item-description">Unified Webhook Service - Servicio Unificado de Webhooks Consolida toda la l√≥gica de procesamiento de webhooks Estilo Manychat unificado y mejorado / import { unified360DialogService } from '../core/Unified360DialogService.js'; import { messageUtils } from '../../../shared/utils/helpers/helpers/MessageUtils.js'; import logger from './logger.js'; import { Persuader } from '../../../../apps/api/src/ai/persuader.js'; import crypto from 'crypto'; /** Servicio unificado de webhooks / export class UnifiedWebhookService { constructor() { this.dialog360Service = unified360DialogService; this.messageUtils = messageUtils; this.persuader = null; this.io = null; // Socket.IO instance this.localMessagingService = null; // Local messaging service this.processingQueue = new Map(); this.rateLimiter = new Map(); this.metrics = { totalProcessed: 0, successfulProcessed: 0, failedProcessed: 0, averageProcessingTime: 0, lastProcessedAt: null }; } /** Configurar Socket.IO</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setLocalMessagingService</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/UnifiedWebhookService.js</div>
                <div class="item-description">Configurar Local Messaging Service</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/UnifiedWebhookService.js</div>
                <div class="item-description">Inicializar el servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processWebhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/UnifiedWebhookService.js</div>
                <div class="item-description">Procesar webhook de 360dialog Reemplaza: procesarWebhook360dialog()</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">process360DialogWebhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/UnifiedWebhookService.js</div>
                <div class="item-description">Procesar webhook de 360dialog</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processIncomingMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/UnifiedWebhookService.js</div>
                <div class="item-description">Procesar mensaje entrante</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processTextMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/UnifiedWebhookService.js</div>
                <div class="item-description">Procesar mensaje de texto con IA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processButtonReply</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/UnifiedWebhookService.js</div>
                <div class="item-description">Procesar respuesta de bot√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processListReply</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/UnifiedWebhookService.js</div>
                <div class="item-description">Procesar respuesta de lista</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processMediaMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/UnifiedWebhookService.js</div>
                <div class="item-description">Procesar mensaje multimedia</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processUnsupportedMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/UnifiedWebhookService.js</div>
                <div class="item-description">Procesar mensaje no soportado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processMessageStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/UnifiedWebhookService.js</div>
                <div class="item-description">Procesar estado de mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processManychatWebhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/UnifiedWebhookService.js</div>
                <div class="item-description">Procesar webhook de Manychat</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processGenericWebhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/UnifiedWebhookService.js</div>
                <div class="item-description">Procesar webhook gen√©rico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateDefaultResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/UnifiedWebhookService.js</div>
                <div class="item-description">Generar respuesta por defecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateSignature</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/UnifiedWebhookService.js</div>
                <div class="item-description">Validar firma del webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">is360DialogWebhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/UnifiedWebhookService.js</div>
                <div class="item-description">Verificar si es webhook de 360dialog</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isManychatWebhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/UnifiedWebhookService.js</div>
                <div class="item-description">Verificar si es webhook de Manychat</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkRateLimit</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/UnifiedWebhookService.js</div>
                <div class="item-description">Verificar rate limiting - DESACTIVADO</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateWebhookId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/UnifiedWebhookService.js</div>
                <div class="item-description">Generar ID √∫nico para webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateRateLimitKey</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/UnifiedWebhookService.js</div>
                <div class="item-description">Generar clave para rate limiting</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/UnifiedWebhookService.js</div>
                <div class="item-description">Actualizar m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/UnifiedWebhookService.js</div>
                <div class="item-description">Obtener m√©tricas del servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">healthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/UnifiedWebhookService.js</div>
                <div class="item-description">Verificar estado del servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/UnifiedWebhookService.js</div>
                <div class="item-description">Limpiar recursos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getGlobalLimiter</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AdvancedRateLimiter.js</div>
                <div class="item-description">Advanced Rate Limiting System - COMPLETAMENTE DESACTIVADO Provides intelligent rate limiting with endpoint differentiation, brute force protection, and adaptive security measures / class AdvancedRateLimiter { constructor(options = {}) { this.config = { // Global rate limiting - DESACTIVADO global: { windowMs: options.globalWindow || 15 * 60 * 1000, // 15 minutes max: options.globalMax || 999999, // l√≠mite muy alto para desactivar message: 'Too many requests from this IP, please try again later' }, // Authentication endpoints (more restrictive) - DESACTIVADO auth: { windowMs: options.authWindow || 15 * 60 * 1000, // 15 minutes max: options.authMax || 999999, // l√≠mite muy alto para desactivar message: 'Too many authentication attempts, please try again later', skipSuccessfulRequests: true, skipFailedRequests: false }, // API endpoints (moderate) - DESACTIVADO api: { windowMs: options.apiWindow || 15 * 60 * 1000, // 15 minutes max: options.apiMax || 999999, // l√≠mite muy alto para desactivar message: 'API rate limit exceeded, please try again later' }, // Static content (lenient) - DESACTIVADO static: { windowMs: options.staticWindow || 15 * 60 * 1000, // 15 minutes max: options.staticMax || 999999, // l√≠mite muy alto para desactivar message: 'Too many requests for static content' }, // Brute force protection - DESACTIVADO bruteForce: { freeRetries: options.bruteForceRetries || 999999, minWait: options.bruteForceMinWait || 0, // sin espera maxWait: options.bruteForceMaxWait || 0, // sin espera lifetime: options.bruteForceLifetime || 24 * 60 * 60 * 1000, // 24 hours failuresBeforeBan: options.failuresBeforeBan || 999999 }, // Progressive slow down - DESACTIVADO slowDown: { windowMs: options.slowDownWindow || 15 * 60 * 1000, // 15 minutes delayAfter: options.slowDownDelayAfter || 999999, // nunca ralentizar delayMs: options.slowDownDelayMs || 0, // sin delay maxDelayMs: options.slowDownMaxDelay || 0 // sin delay m√°ximo } }; // In-memory stores for tracking this.bruteForceAttempts = new Map(); this.suspiciousIPs = new Map(); this.bannedIPs = new Set(); this.geoBlacklist = new Set(); // Statistics this.stats = { totalRequests: 0, blockedRequests: 0, slowedRequests: 0, bruteForceBlocks: 0, suspiciousActivity: 0, lastReset: Date.now() }; this.initialize(); } initialize() { // Cleanup interval for expired entries setInterval(() => { this.cleanupExpiredEntries(); }, 60 * 60 * 1000); // Every hour logger.info('‚úÖ AdvancedRateLimiter initialized'); } /** Get global rate limiter (lenient) - DESACTIVADO</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAuthLimiter</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AdvancedRateLimiter.js</div>
                <div class="item-description">Get authentication rate limiter (strict) - DESACTIVADO</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAPILimiter</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AdvancedRateLimiter.js</div>
                <div class="item-description">Get API rate limiter - DESACTIVADO</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStaticLimiter</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AdvancedRateLimiter.js</div>
                <div class="item-description">Get static content rate limiter - DESACTIVADO</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSlowDownMiddleware</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AdvancedRateLimiter.js</div>
                <div class="item-description">Get slow down middleware - DESACTIVADO</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getBruteForceProtection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AdvancedRateLimiter.js</div>
                <div class="item-description">Brute force protection middleware - DESACTIVADO</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordFailedAttempt</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AdvancedRateLimiter.js</div>
                <div class="item-description">Record a failed authentication attempt - DESACTIVADO</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordSuccessfulAttempt</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AdvancedRateLimiter.js</div>
                <div class="item-description">Record successful authentication (reset attempts) - DESACTIVADO</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isBruteForceBlocked</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AdvancedRateLimiter.js</div>
                <div class="item-description">Check if IP is currently blocked by brute force protection - DESACTIVADO</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateWaitTime</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AdvancedRateLimiter.js</div>
                <div class="item-description">Calculate wait time based on attempts - DESACTIVADO</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">banIP</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AdvancedRateLimiter.js</div>
                <div class="item-description">Ban an IP address - DESACTIVADO</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unbanIP</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AdvancedRateLimiter.js</div>
                <div class="item-description">Unban an IP address - DESACTIVADO</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordSuspiciousActivity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AdvancedRateLimiter.js</div>
                <div class="item-description">Record suspicious activity - DESACTIVADO</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateSuspicionScore</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AdvancedRateLimiter.js</div>
                <div class="item-description">Calculate suspicion score based on activities</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldSkipRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AdvancedRateLimiter.js</div>
                <div class="item-description">Should skip rate limiting for this request - SIEMPRE SALTAR</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordBlock</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AdvancedRateLimiter.js</div>
                <div class="item-description">Record a blocked request</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordSlowDown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AdvancedRateLimiter.js</div>
                <div class="item-description">Record a slowed down request</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupExpiredEntries</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AdvancedRateLimiter.js</div>
                <div class="item-description">Clean up expired entries</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AdvancedRateLimiter.js</div>
                <div class="item-description">Get current statistics</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">resetStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AdvancedRateLimiter.js</div>
                <div class="item-description">Reset statistics</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSecurityReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AdvancedRateLimiter.js</div>
                <div class="item-description">Get security report</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthenticationManager.js</div>
                <div class="item-description">Gestor de autenticaci√≥n para el sistema de seguridad Maneja la autenticaci√≥n de usuarios con m√∫ltiples estrategias / class AuthenticationManager extends EventEmitter { constructor(config = {}) { super(); this.logger = createLogger('AUTHENTICATION_MANAGER'); this.config = { enabled: true, // Configuraci√≥n de JWT jwt: { secret: config.jwt?.secret || crypto.randomBytes(64).toString('hex'), algorithm: 'HS256', expiresIn: '24h', refreshExpiresIn: '7d', issuer: 'chatbot-system', audience: 'chatbot-users' }, // Configuraci√≥n de sesiones session: { enabled: true, secret: config.session?.secret || crypto.randomBytes(64).toString('hex'), maxAge: 24 * 60 * 60 * 1000, // 24 horas secure: false, httpOnly: true, sameSite: 'strict', rolling: true }, // Configuraci√≥n de contrase√±as password: { minLength: 8, maxLength: 128, requireUppercase: true, requireLowercase: true, requireNumbers: true, requireSpecialChars: true, saltRounds: 12, maxAttempts: 5, lockoutDuration: 15 * 60 * 1000 // 15 minutos }, // Configuraci√≥n de autenticaci√≥n multifactor mfa: { enabled: false, methods: ['totp', 'sms', 'email'], totpWindow: 1, totpStep: 30, backupCodes: 10 }, // Configuraci√≥n de OAuth oauth: { enabled: false, providers: { google: { clientId: '', clientSecret: '', scope: ['profile', 'email'] }, github: { clientId: '', clientSecret: '', scope: ['user:email'] } } }, // Configuraci√≥n de rate limiting rateLimit: { enabled: true, maxAttempts: 10, windowMs: 15 * 60 * 1000, // 15 minutos blockDuration: 60 * 60 * 1000 // 1 hora }, // Configuraci√≥n de logging logging: { enabled: true, logSuccessfulLogins: true, logFailedAttempts: true, logPasswordChanges: true, logMfaEvents: true }, ...config }; this.state = 'initialized'; this.users = new Map(); this.sessions = new Map(); this.refreshTokens = new Map(); this.loginAttempts = new Map(); this.blockedIPs = new Map(); this.mfaTokens = new Map(); this.oauthStates = new Map(); this.statistics = { totalLogins: 0, successfulLogins: 0, failedLogins: 0, blockedAttempts: 0, passwordResets: 0, mfaVerifications: 0, oauthLogins: 0, sessionsCreated: 0, sessionsDestroyed: 0, tokensIssued: 0, tokensRevoked: 0 }; this.loginHistory = []; this.securityEvents = []; this._initializeCleanupTimers(); } /** Inicializa el gestor de autenticaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerUser</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthenticationManager.js</div>
                <div class="item-description">Registra un nuevo usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">authenticateUser</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthenticationManager.js</div>
                <div class="item-description">Autentica un usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">verifyToken</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthenticationManager.js</div>
                <div class="item-description">Verifica un token JWT</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">refreshToken</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthenticationManager.js</div>
                <div class="item-description">Refresca un token de acceso</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logout</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthenticationManager.js</div>
                <div class="item-description">Cierra sesi√≥n de un usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">changePassword</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthenticationManager.js</div>
                <div class="item-description">Cambia la contrase√±a de un usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">enableMfa</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthenticationManager.js</div>
                <div class="item-description">Habilita la autenticaci√≥n multifactor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStatistics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthenticationManager.js</div>
                <div class="item-description">Obtiene estad√≠sticas del gestor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getLoginHistory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthenticationManager.js</div>
                <div class="item-description">Obtiene el historial de logins</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSecurityEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthenticationManager.js</div>
                <div class="item-description">Obtiene eventos de seguridad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthenticationManager.js</div>
                <div class="item-description">Limpia datos expirados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setEnabled</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthenticationManager.js</div>
                <div class="item-description">Habilita o deshabilita el gestor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthenticationManager.js</div>
                <div class="item-description">Destruye el gestor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthorizationManager.js</div>
                <div class="item-description">Gestor de autorizaci√≥n para el sistema de seguridad Maneja el control de acceso basado en roles (RBAC) y permisos / class AuthorizationManager extends EventEmitter { constructor(config = {}) { super(); this.config = { enabled: true, // Configuraci√≥n de roles roles: { hierarchical: true, inheritance: true, maxDepth: 5, defaultRole: 'user', adminRole: 'admin', superAdminRole: 'superadmin' }, // Configuraci√≥n de permisos permissions: { granular: true, wildcards: true, negation: true, caching: true, cacheTtl: 300000 // 5 minutos }, // Configuraci√≥n de pol√≠ticas policies: { enabled: true, dynamic: true, contextual: true, timeBasedAccess: true, locationBasedAccess: false, deviceBasedAccess: false }, // Configuraci√≥n de auditor√≠a audit: { enabled: true, logAccess: true, logDenials: true, logRoleChanges: true, logPermissionChanges: true, retentionDays: 90 }, // Configuraci√≥n de cach√© cache: { enabled: true, ttl: 300000, // 5 minutos maxSize: 10000, strategy: 'lru' }, ...config }; this.state = 'initialized'; this.logger = createLogger('AUTHORIZATION_MANAGER'); // Almacenamiento de datos this.roles = new Map(); this.permissions = new Map(); this.policies = new Map(); this.userRoles = new Map(); this.userPermissions = new Map(); this.roleHierarchy = new Map(); this.permissionCache = new Map(); this.accessLog = []; // Estad√≠sticas this.statistics = { totalRoles: 0, totalPermissions: 0, totalPolicies: 0, accessChecks: 0, accessGranted: 0, accessDenied: 0, cacheHits: 0, cacheMisses: 0, roleAssignments: 0, permissionGrants: 0 }; this._initializeDefaultRoles(); this._initializeDefaultPermissions(); this._initializeCleanupTimers(); } /** Inicializa el gestor de autorizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createRole</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthorizationManager.js</div>
                <div class="item-description">Crea un nuevo rol</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createPermission</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthorizationManager.js</div>
                <div class="item-description">Crea un nuevo permiso</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createPolicy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthorizationManager.js</div>
                <div class="item-description">Crea una nueva pol√≠tica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">assignRole</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthorizationManager.js</div>
                <div class="item-description">Asigna un rol a un usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">revokeRole</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthorizationManager.js</div>
                <div class="item-description">Revoca un rol de un usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">grantPermission</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthorizationManager.js</div>
                <div class="item-description">Otorga un permiso directo a un usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">hasPermission</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthorizationManager.js</div>
                <div class="item-description">Verifica si un usuario tiene un permiso espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">hasRole</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthorizationManager.js</div>
                <div class="item-description">Verifica si un usuario tiene un rol espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getUserRoles</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthorizationManager.js</div>
                <div class="item-description">Obtiene todos los roles de un usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getUserPermissions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthorizationManager.js</div>
                <div class="item-description">Obtiene todos los permisos efectivos de un usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStatistics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthorizationManager.js</div>
                <div class="item-description">Obtiene estad√≠sticas del gestor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAccessLog</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthorizationManager.js</div>
                <div class="item-description">Obtiene el log de acceso</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthorizationManager.js</div>
                <div class="item-description">Limpia datos expirados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setEnabled</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthorizationManager.js</div>
                <div class="item-description">Habilita o deshabilita el gestor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/AuthorizationManager.js</div>
                <div class="item-description">Destruye el gestor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/EncryptionManager.js</div>
                <div class="item-description">Gestor de encriptaci√≥n para el sistema de seguridad Maneja la encriptaci√≥n de datos, hashing y operaciones criptogr√°ficas / class EncryptionManager extends EventEmitter { constructor(config = {}) { super(); this.config = { enabled: true, // Configuraci√≥n de encriptaci√≥n sim√©trica symmetric: { algorithm: 'aes-256-gcm', keyLength: 32, ivLength: 16, tagLength: 16, encoding: 'hex' }, // Configuraci√≥n de encriptaci√≥n asim√©trica asymmetric: { algorithm: 'rsa', keySize: 2048, padding: crypto.constants.RSA_PKCS1_OAEP_PADDING, hashAlgorithm: 'sha256', mgf: crypto.constants.RSA_MGF1 }, // Configuraci√≥n de hashing hashing: { algorithm: 'sha256', saltLength: 32, iterations: 100000, keyLength: 64, encoding: 'hex' }, // Configuraci√≥n de bcrypt bcrypt: { saltRounds: 12, maxLength: 72 }, // Configuraci√≥n de derivaci√≥n de claves keyDerivation: { algorithm: 'pbkdf2', hashFunction: 'sha512', iterations: 100000, keyLength: 32, saltLength: 32 }, // Configuraci√≥n de firma digital signing: { algorithm: 'rsa-sha256', keySize: 2048, encoding: 'hex' }, // Configuraci√≥n de tokens seguros tokens: { length: 32, encoding: 'hex', alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789' }, // Configuraci√≥n de cach√© de claves keyCache: { enabled: true, ttl: 3600000, // 1 hora maxSize: 1000 }, // Configuraci√≥n de auditor√≠a audit: { enabled: true, logOperations: true, logKeyGeneration: true, logEncryption: false, // Por seguridad logDecryption: false  // Por seguridad }, ...config }; this.state = 'initialized'; // Almacenamiento de claves this.masterKey = null; this.keyPairs = new Map(); this.symmetricKeys = new Map(); this.keyCache = new Map(); this.keyDerivationCache = new Map(); // Estad√≠sticas this.statistics = { encryptionOperations: 0, decryptionOperations: 0, hashingOperations: 0, signingOperations: 0, verificationOperations: 0, keyGenerations: 0, keyDerivations: 0, tokenGenerations: 0, cacheHits: 0, cacheMisses: 0, errors: 0 }; this.operationLog = []; this.logger = createLogger('ENCRYPTION_MANAGER'); this._initializeCleanupTimers(); } /** Inicializa el gestor de encriptaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateSecureKey</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/EncryptionManager.js</div>
                <div class="item-description">Genera una clave segura</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateKeyPair</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/EncryptionManager.js</div>
                <div class="item-description">Genera un par de claves asim√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deriveKey</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/EncryptionManager.js</div>
                <div class="item-description">Deriva una clave a partir de una contrase√±a</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">encrypt</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/EncryptionManager.js</div>
                <div class="item-description">Encripta datos usando encriptaci√≥n sim√©trica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">decrypt</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/EncryptionManager.js</div>
                <div class="item-description">Desencripta datos usando encriptaci√≥n sim√©trica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">encryptAsymmetric</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/EncryptionManager.js</div>
                <div class="item-description">Encripta datos usando encriptaci√≥n asim√©trica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">decryptAsymmetric</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/EncryptionManager.js</div>
                <div class="item-description">Desencripta datos usando encriptaci√≥n asim√©trica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">hash</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/EncryptionManager.js</div>
                <div class="item-description">Genera un hash de datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">verifyHash</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/EncryptionManager.js</div>
                <div class="item-description">Verifica un hash</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">hashPassword</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/EncryptionManager.js</div>
                <div class="item-description">Genera un hash usando bcrypt</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">verifyPassword</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/EncryptionManager.js</div>
                <div class="item-description">Verifica una contrase√±a con bcrypt</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sign</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/EncryptionManager.js</div>
                <div class="item-description">Firma datos digitalmente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">verify</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/EncryptionManager.js</div>
                <div class="item-description">Verifica una firma digital</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateSecureToken</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/EncryptionManager.js</div>
                <div class="item-description">Genera un token seguro</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateSecureUUID</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/EncryptionManager.js</div>
                <div class="item-description">Genera un UUID seguro</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateHMAC</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/EncryptionManager.js</div>
                <div class="item-description">Genera un HMAC</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">verifyHMAC</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/EncryptionManager.js</div>
                <div class="item-description">Verifica un HMAC</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStatistics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/EncryptionManager.js</div>
                <div class="item-description">Obtiene estad√≠sticas del gestor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getOperationLog</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/EncryptionManager.js</div>
                <div class="item-description">Obtiene el log de operaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/EncryptionManager.js</div>
                <div class="item-description">Limpia datos expirados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setEnabled</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/EncryptionManager.js</div>
                <div class="item-description">Habilita o deshabilita el gestor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/EncryptionManager.js</div>
                <div class="item-description">Destruye el gestor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getLocationFromMaxMind</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/GeoLocation.js</div>
                <div class="item-description">Get location data from MaxMind GeoIP2 service Supports both database and web service approaches</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} ip - IP address to lookup<br><strong>@returns:</strong> {Promise<Object>} Location data<br><strong>@throws:</strong> {Error} If MaxMind service fails or is not configured 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_getLocationFromMaxMindWebService</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/GeoLocation.js</div>
                <div class="item-description">Get location from MaxMind Web Service</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong>  
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_getLocationFromMaxMindDatabase</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/GeoLocation.js</div>
                <div class="item-description">Get location from MaxMind Database (requires maxmind npm package)</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong>  
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_parseMaxMindResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/GeoLocation.js</div>
                <div class="item-description">Parse MaxMind web service response</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong>  
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_parseMaxMindDatabaseResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/GeoLocation.js</div>
                <div class="item-description">Parse MaxMind database response</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong>  
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sanitizeString</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/InputSanitizationService.js</div>
                <div class="item-description">Servicio de Sanitizaci√≥n de Entrada Proporciona funcionalidades avanzadas de sanitizaci√≥n y validaci√≥n de datos de entrada / import DOMPurify from 'isomorphic-dompurify'; import validator from 'validator'; import xss from 'xss'; class InputSanitizationService { constructor() { this.stats = { totalRequests: 0, sanitizedInputs: 0, blockedInputs: 0, xssAttempts: 0, sqlInjectionAttempts: 0, lastReset: new Date() }; // Configuraci√≥n de XSS this.xssOptions = { whiteList: { p: [], br: [], strong: [], em: [], u: [], i: [], b: [] }, stripIgnoreTag: true, stripIgnoreTagBody: ['script', 'style'] }; // Patrones de detecci√≥n this.sqlPatterns = [ /(\b(SELECT|INSERT|UPDATE|DELETE|DROP|CREATE|ALTER|EXEC|UNION|SCRIPT)\b)/gi, /(\b(OR|AND)\s+\d+\s*=\s*\d+)/gi, /(--|\/\*|\*\/|;)/g, /(\b(INFORMATION_SCHEMA|SYSOBJECTS|SYSCOLUMNS)\b)/gi ]; this.xssPatterns = [ /<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, /javascript:/gi, /on\w+\s*=/gi, /<iframe\b[^<]*(?:(?!<\/iframe>)<[^<]*)*<\/iframe>/gi, /<object\b[^<]*(?:(?!<\/object>)<[^<]*)*<\/object>/gi ]; } /** Sanitiza una cadena de texto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sanitizeObject</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/InputSanitizationService.js</div>
                <div class="item-description">Sanitiza un objeto recursivamente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectSQLInjection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/InputSanitizationService.js</div>
                <div class="item-description">Detecta intentos de SQL injection</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectXSS</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/InputSanitizationService.js</div>
                <div class="item-description">Detecta intentos de XSS</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateEmail</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/InputSanitizationService.js</div>
                <div class="item-description">Valida email</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateURL</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/InputSanitizationService.js</div>
                <div class="item-description">Valida URL</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sanitizeQueryParams</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/InputSanitizationService.js</div>
                <div class="item-description">Sanitiza par√°metros de consulta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/InputSanitizationService.js</div>
                <div class="item-description">Obtiene estad√≠sticas del servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">resetStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/InputSanitizationService.js</div>
                <div class="item-description">Reinicia estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/SecretManager.js</div>
                <div class="item-description">Centralized Secret Management System Provides secure generation, validation, and persistence of secrets / class SecretManager { constructor(options = {}) { this.secretsPath = options.secretsPath || path.join(process.cwd(), '.secrets'); this.encryptionKey = options.encryptionKey || this.deriveEncryptionKey(); this.secrets = new Map(); this.initialized = false; } /** Initialize the secret manager</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateSecret</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/SecretManager.js</div>
                <div class="item-description">Generate a cryptographically secure secret</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateSecret</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/SecretManager.js</div>
                <div class="item-description">Validate secret strength</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSecret</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/SecretManager.js</div>
                <div class="item-description">Get or generate a secret</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setSecret</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/SecretManager.js</div>
                <div class="item-description">Set a custom secret</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">removeSecret</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/SecretManager.js</div>
                <div class="item-description">Remove a secret</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">listSecrets</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/SecretManager.js</div>
                <div class="item-description">List all secret names (not values)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">rotateSecret</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/SecretManager.js</div>
                <div class="item-description">Rotate a secret (generate new value)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateEntropy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/SecretManager.js</div>
                <div class="item-description">Calculate entropy of a string</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">hasCommonPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/SecretManager.js</div>
                <div class="item-description">Check for common patterns</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deriveEncryptionKey</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/SecretManager.js</div>
                <div class="item-description">Derive encryption key from environment or generate</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">encrypt</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/SecretManager.js</div>
                <div class="item-description">Encrypt data</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">decrypt</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/SecretManager.js</div>
                <div class="item-description">Decrypt data</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveSecrets</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/SecretManager.js</div>
                <div class="item-description">Save secrets to encrypted file</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadSecrets</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/SecretManager.js</div>
                <div class="item-description">Load secrets from encrypted file</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">healthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/SecretManager.js</div>
                <div class="item-description">Health check</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">trackRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/ThreatDetection.js</div>
                <div class="item-description">Rastrear solicitudes - DESACTIVADO</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createAuthenticationManager</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/index.js</div>
                <div class="item-description">Configuraci√≥n por defecto del sistema de seguridad / const DEFAULT_SECURITY_CONFIG = { enabled: true, // Configuraci√≥n de autenticaci√≥n authentication: { enabled: true, jwt: { secret: process.env.JWT_SECRET || 'default-jwt-secret-change-in-production', algorithm: 'HS256', expiresIn: '24h', issuer: 'chatbot-system', audience: 'chatbot-users' }, session: { secret: process.env.SESSION_SECRET || 'default-session-secret-change-in-production', maxAge: 24 * 60 * 60 * 1000, // 24 horas secure: process.env.NODE_ENV === 'production', httpOnly: true, sameSite: 'strict' }, password: { minLength: 8, maxLength: 128, requireUppercase: true, requireLowercase: true, requireNumbers: true, requireSpecialChars: true, saltRounds: 12, maxAttempts: 5, lockoutDuration: 15 * 60 * 1000 // 15 minutos }, mfa: { enabled: false, methods: ['totp', 'backup_codes'], totp: { issuer: 'ChatBot System', window: 1, step: 30 }, backupCodes: { count: 10, length: 8 } }, oauth: { enabled: false, providers: {} }, rateLimit: { maxAttempts: 5, windowMs: 15 * 60 * 1000, // 15 minutos blockDuration: 15 * 60 * 1000 // 15 minutos } }, // Configuraci√≥n de autorizaci√≥n authorization: { enabled: true, roles: { hierarchy: true, inheritance: true, maxDepth: 5, defaultRoles: ['user'] }, permissions: { granular: true, wildcards: true, negation: true, cache: { enabled: true, ttl: 300000 // 5 minutos } }, policies: { dynamic: true, contextual: true, timeBasedAccess: false, locationBasedAccess: false, deviceBasedAccess: false }, audit: { enabled: true, logAccess: true, logDenials: true, logRoleChanges: true, logPermissionChanges: true } }, // Configuraci√≥n de encriptaci√≥n encryption: { enabled: true, symmetric: { algorithm: 'aes-256-gcm', keyLength: 32, ivLength: 16, tagLength: 16, encoding: 'hex' }, asymmetric: { algorithm: 'rsa', keySize: 2048, padding: 'oaep', hashAlgorithm: 'sha256' }, hashing: { algorithm: 'sha256', saltLength: 32, iterations: 100000, keyLength: 64, encoding: 'hex' }, bcrypt: { saltRounds: 12, maxLength: 72 }, keyDerivation: { algorithm: 'pbkdf2', hashFunction: 'sha512', iterations: 100000, keyLength: 32, saltLength: 32 }, signing: { algorithm: 'rsa-sha256', keySize: 2048, encoding: 'hex' }, tokens: { length: 32, encoding: 'hex' } }, // Configuraci√≥n general de seguridad security: { cors: { enabled: true, origin: process.env.ALLOWED_ORIGINS ? process.env.ALLOWED_ORIGINS.split(',') : ['http://localhost:3000'], credentials: true, methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS'], allowedHeaders: ['Content-Type', 'Authorization', 'X-Requested-With'] }, helmet: { enabled: true, contentSecurityPolicy: { directives: { defaultSrc: ['\'self\''], styleSrc: ['\'self\'', '\'unsafe-inline\''], scriptSrc: ['\'self\''], imgSrc: ['\'self\'', 'data:', 'https:'], connectSrc: ['\'self\''], fontSrc: ['\'self\''], objectSrc: ['\'none\''], mediaSrc: ['\'self\''], frameSrc: ['\'none\''] } }, hsts: { maxAge: 31536000, includeSubDomains: true, preload: true } }, rateLimit: { windowMs: 15 * 60 * 1000, // 15 minutos max: 100, // l√≠mite de 100 requests por ventana por IP message: 'Too many requests from this IP, please try again later.', standardHeaders: true, legacyHeaders: false } } }; /** Eventos del sistema de seguridad / const SECURITY_EVENTS = { // Eventos de autenticaci√≥n USER_REGISTERED: 'user:registered', USER_LOGIN: 'user:login', USER_LOGIN_FAILED: 'user:login:failed', USER_LOGOUT: 'user:logout', USER_LOCKED: 'user:locked', USER_UNLOCKED: 'user:unlocked', PASSWORD_CHANGED: 'user:password:changed', MFA_ENABLED: 'user:mfa:enabled', MFA_DISABLED: 'user:mfa:disabled', TOKEN_GENERATED: 'token:generated', TOKEN_REFRESHED: 'token:refreshed', TOKEN_REVOKED: 'token:revoked', // Eventos de autorizaci√≥n ROLE_ASSIGNED: 'role:assigned', ROLE_REVOKED: 'role:revoked', PERMISSION_GRANTED: 'permission:granted', PERMISSION_REVOKED: 'permission:revoked', ACCESS_GRANTED: 'access:granted', ACCESS_DENIED: 'access:denied', POLICY_EVALUATED: 'policy:evaluated', // Eventos de encriptaci√≥n KEY_GENERATED: 'key:generated', KEY_DERIVED: 'key:derived', DATA_ENCRYPTED: 'data:encrypted', DATA_DECRYPTED: 'data:decrypted', DATA_SIGNED: 'data:signed', SIGNATURE_VERIFIED: 'signature:verified', TOKEN_CREATED: 'token:created', // Eventos de seguridad general SECURITY_VIOLATION: 'security:violation', RATE_LIMIT_EXCEEDED: 'security:rate_limit_exceeded', SUSPICIOUS_ACTIVITY: 'security:suspicious_activity', SECURITY_AUDIT: 'security:audit' }; /** Estados de seguridad / const SECURITY_STATES = { INITIALIZED: 'initialized', READY: 'ready', ACTIVE: 'active', SUSPENDED: 'suspended', ERROR: 'error', DESTROYED: 'destroyed' }; /** Niveles de seguridad / const SECURITY_LEVELS = { LOW: 'low', MEDIUM: 'medium', HIGH: 'high', CRITICAL: 'critical' }; /** Tipos de amenazas de seguridad / const THREAT_TYPES = { BRUTE_FORCE: 'brute_force', SQL_INJECTION: 'sql_injection', XSS: 'xss', CSRF: 'csrf', UNAUTHORIZED_ACCESS: 'unauthorized_access', DATA_BREACH: 'data_breach', MALWARE: 'malware', PHISHING: 'phishing', DOS: 'dos', DDOS: 'ddos' }; /** Crea una instancia del gestor de autenticaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createAuthorizationManager</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/index.js</div>
                <div class="item-description">Crea una instancia del gestor de autorizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createEncryptionManager</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/index.js</div>
                <div class="item-description">Crea una instancia del gestor de encriptaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createSecuritySystem</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/index.js</div>
                <div class="item-description">Crea un sistema de seguridad completo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/index.js</div>
                <div class="item-description">Utilidades del sistema de seguridad / const SecurityUtils = { /** Valida una configuraci√≥n de seguridad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createDevelopmentConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/index.js</div>
                <div class="item-description">Crea una configuraci√≥n optimizada para desarrollo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createProductionConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/index.js</div>
                <div class="item-description">Crea una configuraci√≥n optimizada para producci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSystemInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/index.js</div>
                <div class="item-description">Obtiene informaci√≥n del sistema de seguridad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">formatStatistics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/index.js</div>
                <div class="item-description">Formatea estad√≠sticas de seguridad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">constructor</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Advanced Cache Management System  Sistema avanzado de gesti√≥n de cach√© con m√∫ltiples estrategias, TTL configurable, invalidaci√≥n inteligente, compresi√≥n y m√©tricas detalladas para optimizaci√≥n de rendimiento. <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0<br><strong>@since:</strong> 5.0.0 /  import { BaseError, ErrorType, ErrorSeverity } from '../errors/ErrorHandler.js'; import { systemObservable } from '../Observer.js'; import logger from '../logger.js';  /** Estrategias de cach√© <br><strong>@enum:</strong> {string} / export const CacheStrategy = { LRU: 'lru',           // Least Recently Used LFU: 'lfu',           // Least Frequently Used FIFO: 'fifo',         // First In, First Out TTL: 'ttl',           // Time To Live ADAPTIVE: 'adaptive'   // Adaptativo basado en patrones };  /** Tipos de invalidaci√≥n , {string} / export const InvalidationType = { MANUAL: 'manual', TTL: 'ttl', DEPENDENCY: 'dependency', PATTERN: 'pattern', MEMORY_PRESSURE: 'memory_pressure' };  /** Configuraci√≥n de cach√© <br><strong>@typedef:</strong> {Object} CacheConfig, {Object} CacheEntry, {Object} CacheMetrics<br><strong>@property:</strong> {number} maxSize - Tama√±o m√°ximo del cach√©, {number} defaultTTL - TTL por defecto en ms, {CacheStrategy} strategy - Estrategia de cach√©, {boolean} enableCompression - Habilitar compresi√≥n, {boolean} enableMetrics - Habilitar m√©tricas, {boolean} enablePersistence - Habilitar persistencia, {number} cleanupInterval - Intervalo de limpieza en ms, {number} memoryThreshold - Umbral de memoria en % /  /** Entrada de cach√© , {*} value - Valor almacenado, {number} timestamp - Timestamp de creaci√≥n, {number} ttl - Time to live en ms, {number} accessCount - N√∫mero de accesos, {number} lastAccess - √öltimo acceso, {number} size - Tama√±o en bytes, {Array<string>} dependencies - Dependencias, {Object} metadata - Metadatos adicionales /  /** M√©tricas de cach√© , {number} hits - N√∫mero de hits, {number} misses - N√∫mero de misses, {number} sets - N√∫mero de sets, {number} deletes - N√∫mero de deletes, {number} evictions - N√∫mero de evictions, {number} size - Tama√±o actual, {number} memoryUsage - Uso de memoria en bytes, {number} hitRate - Tasa de hits, {number} averageAccessTime - Tiempo promedio de acceso /  /** Gestor de cach√© avanzado <br><strong>@class:</strong> CacheManager / export class CacheManager { /** Constructor del gestor de cach√© <br><strong>@param:</strong> {CacheConfig} config - Configuraci√≥n del cach√© 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupObservers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Configura observadores del sistema</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong>  
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupCleanupTimer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Configura el timer de limpieza autom√°tica</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong>  
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">get</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Obtiene un valor del cach√©</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} key - Clave del cach√©<br><strong>@returns:</strong> {*} Valor almacenado o undefined 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">set</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Almacena un valor en el cach√©</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} key - Clave del cach√©, {*} value - Valor a almacenar, {Object} options - Opciones de almacenamiento, {number} options.ttl - TTL espec√≠fico en ms, {Array<string>} options.dependencies - Dependencias, {Object} options.metadata - Metadatos adicionales<br><strong>@returns:</strong> {boolean} True si se almacen√≥ exitosamente 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">delete</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Elimina una entrada del cach√©</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} key - Clave a eliminar, {InvalidationType} reason - Raz√≥n de la eliminaci√≥n<br><strong>@returns:</strong> {boolean} True si se elimin√≥ 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">has</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Verifica si una clave existe en el cach√©</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} key - Clave a verificar<br><strong>@returns:</strong> {boolean} True si existe y no ha expirado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clear</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Limpia todo el cach√©</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {number} N√∫mero de entradas eliminadas 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">invalidateByPattern</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Invalida entradas por patr√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {RegExp|string} pattern - Patr√≥n de invalidaci√≥n<br><strong>@returns:</strong> {number} N√∫mero de entradas invalidadas 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">invalidateByDependency</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Invalida entradas por dependencia</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} dependency - Dependencia a invalidar<br><strong>@returns:</strong> {number} N√∫mero de entradas invalidadas 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Ejecuta limpieza autom√°tica</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong>  
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isExpired</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Verifica si una entrada ha expirado</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {CacheEntry} entry - Entrada a verificar<br><strong>@returns:</strong> {boolean} True si ha expirado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateAccessStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Actualiza estad√≠sticas de acceso</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {string} key - Clave accedida, {CacheEntry} entry - Entrada accedida 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordHit</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Registra un hit en el cach√©</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {string} key - Clave del hit, {number} startTime - Tiempo de inicio 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordMiss</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Registra un miss en el cach√©</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {string} key - Clave del miss, {number} startTime - Tiempo de inicio 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">needsEviction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Verifica si necesita eviction</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {number} newEntrySize - Tama√±o de la nueva entrada<br><strong>@returns:</strong> {boolean} True si necesita eviction 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evictEntries</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Ejecuta eviction de entradas</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {number} requiredSpace - Espacio requerido<br><strong>@returns:</strong> {number} N√∫mero de entradas evicted 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evictLRU</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Eviction LRU (Least Recently Used)</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@returns:</strong> {number} N√∫mero de entradas evicted 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evictLFU</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Eviction LFU (Least Frequently Used)</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@returns:</strong> {number} N√∫mero de entradas evicted 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evictFIFO</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Eviction FIFO (First In, First Out)</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@returns:</strong> {number} N√∫mero de entradas evicted 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evictByTTL</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Eviction por TTL</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@returns:</strong> {number} N√∫mero de entradas evicted 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evictAdaptive</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Eviction adaptativo</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@returns:</strong> {number} N√∫mero de entradas evicted 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evictByMemoryPressure</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Eviction por presi√≥n de memoria</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@returns:</strong> {number} N√∫mero de entradas evicted 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateStrategyData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Actualiza datos para estrategias</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {string} key - Clave, {CacheEntry} entry - Entrada 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerDependencies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Registra dependencias</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {string} key - Clave, {Array<string>} deps - Dependencias 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupDependencies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Limpia dependencias</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {string} key - Clave 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">serializeValue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Serializa un valor</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {*} value - Valor a serializar<br><strong>@returns:</strong> {*} Valor serializado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deserializeValue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Deserializa un valor</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {*} value - Valor a deserializar<br><strong>@returns:</strong> {*} Valor deserializado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateSize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Calcula el tama√±o de un valor</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {*} value - Valor a medir<br><strong>@returns:</strong> {number} Tama√±o en bytes 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMemoryUsagePercent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Obtiene el porcentaje de uso de memoria</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@returns:</strong> {number} Porcentaje de uso 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Actualiza m√©tricas</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Object} data - Datos de la operaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Obtiene m√©tricas del cach√©</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {CacheMetrics} M√©tricas del cach√© 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Obtiene informaci√≥n del cach√©</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Object} Informaci√≥n del cach√© 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/cache/CacheManager.js</div>
                <div class="item-description">Destruye el gestor de cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">constructor</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/errors/ErrorHandler.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Advanced Error Handling System  Sistema avanzado de manejo de errores con clasificaci√≥n autom√°tica, recuperaci√≥n inteligente, retry con backoff exponencial y logging detallado. <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0<br><strong>@since:</strong> 5.0.0 /  import logger from '../logger.js'; import { systemObservable } from '../Observer.js';  /** Enumeraci√≥n de tipos de error <br><strong>@enum:</strong> {string} / export const ErrorType = { VALIDATION: 'validation', NETWORK: 'network', DATABASE: 'database', AUTHENTICATION: 'authentication', AUTHORIZATION: 'authorization', BUSINESS_LOGIC: 'business_logic', EXTERNAL_SERVICE: 'external_service', SYSTEM: 'system', UNKNOWN: 'unknown' };  /** Enumeraci√≥n de severidad de errores , {string} / export const ErrorSeverity = { LOW: 'low', MEDIUM: 'medium', HIGH: 'high', CRITICAL: 'critical' };  /** Enumeraci√≥n de estrategias de recuperaci√≥n , {string} / export const RecoveryStrategy = { RETRY: 'retry', FALLBACK: 'fallback', CIRCUIT_BREAKER: 'circuit_breaker', GRACEFUL_DEGRADATION: 'graceful_degradation', FAIL_FAST: 'fail_fast', IGNORE: 'ignore' };  /** Clase base para errores del sistema <br><strong>@class:</strong> BaseError<br><strong>@extends:</strong> Error / export class BaseError extends Error { /** Constructor del error base <br><strong>@param:</strong> {string} message - Mensaje del error, {Object} config - Configuraci√≥n del error, {ErrorType} config.type - Tipo de error, {ErrorSeverity} config.severity - Severidad del error, {string} config.code - C√≥digo de error, {Object} config.context - Contexto adicional, {Error} config.originalError - Error original si existe 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">toJSON</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/errors/ErrorHandler.js</div>
                <div class="item-description">Convierte el error a objeto JSON</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Object} Representaci√≥n JSON del error 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">constructor</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/errors/ErrorHandler.js</div>
                <div class="item-description">Error de validaci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@class:</strong> ValidationError, NetworkError, DatabaseError, ExternalServiceError, ErrorHandler / export class ErrorHandler { /** Constructor del manejador de errores <br><strong>@extends:</strong> BaseError / export class ValidationError extends BaseError { constructor(message, field = null, value = null, context = {}) { super(message, { type: ErrorType.VALIDATION, severity: ErrorSeverity.LOW, code: 'VALIDATION_ERROR', context: { field, value, ...context } }); } }  /** Error de red , BaseError / export class NetworkError extends BaseError { constructor(message, statusCode = null, url = null, context = {}) { super(message, { type: ErrorType.NETWORK, severity: ErrorSeverity.MEDIUM, code: 'NETWORK_ERROR', context: { statusCode, url, ...context } }); } }  /** Error de base de datos , BaseError / export class DatabaseError extends BaseError { constructor(message, operation = null, table = null, context = {}) { super(message, { type: ErrorType.DATABASE, severity: ErrorSeverity.HIGH, code: 'DATABASE_ERROR', context: { operation, table, ...context } }); } }  /** Error de servicio externo , BaseError / export class ExternalServiceError extends BaseError { constructor(message, service = null, endpoint = null, context = {}) { super(message, { type: ErrorType.EXTERNAL_SERVICE, severity: ErrorSeverity.MEDIUM, code: 'EXTERNAL_SERVICE_ERROR', context: { service, endpoint, ...context } }); } }  /** Configuraci√≥n de retry <br><strong>@typedef:</strong> {Object} RetryConfig<br><strong>@property:</strong> {number} maxAttempts - M√°ximo n√∫mero de intentos, {number} baseDelay - Delay base en ms, {number} maxDelay - Delay m√°ximo en ms, {number} backoffMultiplier - Multiplicador para backoff exponencial, {Function} shouldRetry - Funci√≥n que determina si debe reintentar /  /** Manejador avanzado de errores <br><strong>@param:</strong> {Object} config - Configuraci√≥n del manejador, {boolean} config.enableLogging - Habilitar logging, {boolean} config.enableMetrics - Habilitar m√©tricas, {boolean} config.enableRecovery - Habilitar recuperaci√≥n autom√°tica, {Object} config.retryDefaults - Configuraci√≥n por defecto de retry 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupDefaultRecoveryStrategies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/errors/ErrorHandler.js</div>
                <div class="item-description">Configura estrategias de recuperaci√≥n por defecto</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong>  
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/errors/ErrorHandler.js</div>
                <div class="item-description">Maneja un error con recuperaci√≥n autom√°tica</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {Error|BaseError} error - Error a manejar, {Object} context - Contexto adicional<br><strong>@returns:</strong> {Promise<Object>} Resultado del manejo del error 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">normalizeError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/errors/ErrorHandler.js</div>
                <div class="item-description">Normaliza un error a BaseError</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Error|BaseError} error - Error a normalizar, {Object} context - Contexto adicional<br><strong>@returns:</strong> {BaseError} Error normalizado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">classifyError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/errors/ErrorHandler.js</div>
                <div class="item-description">Clasifica autom√°ticamente un error</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Error} error - Error a clasificar<br><strong>@returns:</strong> {ErrorType} Tipo de error 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">determineSeverity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/errors/ErrorHandler.js</div>
                <div class="item-description">Determina la severidad de un error</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Error} error - Error a evaluar, {ErrorType} type - Tipo de error<br><strong>@returns:</strong> {ErrorSeverity} Severidad del error 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">attemptRecovery</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/errors/ErrorHandler.js</div>
                <div class="item-description">Intenta recuperaci√≥n autom√°tica del error</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {BaseError} error - Error a recuperar, {Object} context - Contexto de recuperaci√≥n<br><strong>@returns:</strong> {Promise<Object>} Resultado de la recuperaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">retryOperation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/errors/ErrorHandler.js</div>
                <div class="item-description">Ejecuta operaci√≥n con retry y backoff exponencial</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {Function} operation - Operaci√≥n a ejecutar, {RetryConfig} config - Configuraci√≥n de retry<br><strong>@returns:</strong> {Promise<Object>} Resultado de la operaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isRetryableError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/errors/ErrorHandler.js</div>
                <div class="item-description">Determina si un error es reintentable</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Error} error - Error a evaluar<br><strong>@returns:</strong> {boolean} True si es reintentable 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeFallback</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/errors/ErrorHandler.js</div>
                <div class="item-description">Ejecuta fallback</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Function} fallback - Funci√≥n de fallback, {Object} config - Configuraci√≥n<br><strong>@returns:</strong> {Promise<Object>} Resultado del fallback 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleCircuitBreaker</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/errors/ErrorHandler.js</div>
                <div class="item-description">Maneja circuit breaker</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {BaseError} error - Error que activ√≥ el circuit breaker, {Object} config - Configuraci√≥n del circuit breaker<br><strong>@returns:</strong> {Promise<Object>} Resultado del manejo 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">gracefulDegradation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/errors/ErrorHandler.js</div>
                <div class="item-description">Implementa degradaci√≥n graceful</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Object} config - Configuraci√≥n de degradaci√≥n<br><strong>@returns:</strong> {Promise<Object>} Resultado de la degradaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/errors/ErrorHandler.js</div>
                <div class="item-description">Actualiza estad√≠sticas de errores</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {BaseError} error - Error procesado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/errors/ErrorHandler.js</div>
                <div class="item-description">Registra error en logs</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {BaseError} error - Error a registrar, {Object} context - Contexto adicional 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/errors/ErrorHandler.js</div>
                <div class="item-description">Obtiene estad√≠sticas de errores</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Object} Estad√≠sticas de errores 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">delay</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/errors/ErrorHandler.js</div>
                <div class="item-description">Delay helper</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {number} ms - Milisegundos a esperar<br><strong>@returns:</strong> {Promise<void>} 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ensureEventLogDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/evolutive-logger.js</div>
                <div class="item-description">Logger evolutivo que extiende el sistema Winston existente con capacidades espec√≠ficas para el sistema de eventos / class EvolutiveLogger { constructor(component, options = {}) { this.component = component; this.winstonLogger = createWinstonLogger(component); this.enableEventTracking = options.enableEventTracking !== false; this.eventLogDir = options.eventLogDir || path.join(process.cwd(), 'storage', 'event-logs'); // Emojis para mejor visualizaci√≥n en consola this.emojis = { error: '‚ùå', warn: '‚ö†Ô∏è', info: '‚ÑπÔ∏è', debug: 'üîç', trace: 'üìù' }; this.ensureEventLogDirectory(); } /** Asegurar que el directorio de logs de eventos existe</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">info</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/evolutive-logger.js</div>
                <div class="item-description">Log con emoji y tracking de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">error</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/evolutive-logger.js</div>
                <div class="item-description">Log de error con emoji</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">warn</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/evolutive-logger.js</div>
                <div class="item-description">Log de warning con emoji</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">debug</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/evolutive-logger.js</div>
                <div class="item-description">Log de debug con emoji</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">trackEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/evolutive-logger.js</div>
                <div class="item-description">Tracking espec√≠fico de eventos para an√°lisis posterior</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getEventStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/evolutive-logger.js</div>
                <div class="item-description">Obtener estad√≠sticas de eventos del componente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">constructor</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/logger.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Sistema de Logging Centralizado del ChatBot Enterprise  Este archivo implementa un sistema de logging robusto y escalable basado en Winston que proporciona: - Logging unificado para toda la aplicaci√≥n - M√∫ltiples niveles de log (error, warn, info, debug, verbose) - Transportes configurables (consola, archivos) - Rotaci√≥n autom√°tica de archivos de log - Contexto espec√≠fico por m√≥dulo - Middleware para logging de requests HTTP - Manejo centralizado de errores <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0<br><strong>@since:</strong> 2024 /  import winston from 'winston'; import path from 'path'; import fs from 'fs-extra'; import { LOGGING_CONFIG } from '../../../config/environments/index.js';  // Asegurar que el directorio de logs existe const logsDir = path.dirname(LOGGING_CONFIG.FILE); // Usar sync para evitar problemas con await en top-level fs.ensureDirSync(logsDir);  /** Formato personalizado para los logs  Combina timestamp, manejo de errores y formato personalizado para crear logs legibles y estructurados. <br><strong>@constant:</strong> {winston.Format} customFormat / const customFormat = winston.format.combine( winston.format.timestamp({ format: 'YYYY-MM-DD HH:mm:ss' }), winston.format.errors({ stack: true }), winston.format.printf(({ level, message, timestamp, stack, ...meta }) => { let log = `${timestamp} [${level.toUpperCase()}]: ${message}`;  // Agregar stack trace si existe if (stack) { log += `\n${stack}`; }  // Agregar metadata si existe if (Object.keys(meta).length > 0) { log += `\n${JSON.stringify(meta, null, 2)}`; }  return log; }) );  /** Configuraci√≥n de transportes / const transports = [];  // Transporte de consola if (LOGGING_CONFIG.CONSOLE) { transports.push( new winston.transports.Console({ format: winston.format.combine( winston.format.colorize(), customFormat ) }) ); }  // Transporte de archivo if (LOGGING_CONFIG.FILE_LOGGING) { transports.push( new winston.transports.File({ filename: LOGGING_CONFIG.FILE, format: customFormat, maxsize: LOGGING_CONFIG.MAX_SIZE, maxFiles: LOGGING_CONFIG.MAX_FILES, tailable: true }) );  // Archivo separado para errores transports.push( new winston.transports.File({ filename: path.join(logsDir, 'error.log'), level: 'error', format: customFormat, maxsize: LOGGING_CONFIG.MAX_SIZE, maxFiles: LOGGING_CONFIG.MAX_FILES, tailable: true }) ); }  /** Logger principal de Winston  Instancia configurada de Winston con todos los transportes y formatos definidos seg√∫n la configuraci√≥n del sistema. , {winston.Logger} logger / const logger = winston.createLogger({ level: LOGGING_CONFIG.LEVEL, format: customFormat, transports, exitOnError: false });  /** Wrapper para logging con contexto espec√≠fico  Proporciona una interfaz simplificada para logging que autom√°ticamente incluye el contexto del m√≥dulo en todos los mensajes de log, facilitando el debugging y monitoreo. <br><strong>@class:</strong> ContextLogger<br><strong>@example:</strong>  ```javascript const logger = new ContextLogger('AUTH'); logger.info('Usuario autenticado', { userId: 123 }); logger.error('Error de autenticaci√≥n', error, { attempt: 3 }); ``` / class ContextLogger { /** Constructor del ContextLogger <br><strong>@constructor:</strong> <br><strong>@param:</strong> {string} [context='APP'] - Contexto del m√≥dulo para identificar logs 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">info</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/logger.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@type:</strong> {string} Contexto del m√≥dulo para identificaci√≥n en logs */ this.context = context; }  /** Registra un mensaje de informaci√≥n <br><strong>@method:</strong> info<br><strong>@param:</strong> {string} message - Mensaje a registrar, {Object} [meta={}] - Metadata adicional<br><strong>@example:</strong>  ```javascript logger.info('Servidor iniciado', { port: 3000, env: 'production' }); ``` 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">warn</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/logger.js</div>
                <div class="item-description">Registra un mensaje de advertencia</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@method:</strong> warn<br><strong>@param:</strong> {string} message - Mensaje de advertencia, {Object} [meta={}] - Metadata adicional<br><strong>@example:</strong>  ```javascript logger.warn('Rate limit alcanzado', { ip: '192.168.1.1', attempts: 10 }); ``` 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">error</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/logger.js</div>
                <div class="item-description">Registra un mensaje de error</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@method:</strong> error<br><strong>@param:</strong> {string} message - Mensaje de error, {Error|null} [error=null] - Objeto Error para incluir stack trace, {Object} [meta={}] - Metadata adicional<br><strong>@example:</strong>  ```javascript logger.error('Error de base de datos', dbError, { query: 'SELECT * FROM users' }); ``` 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">debug</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/logger.js</div>
                <div class="item-description">Registra un mensaje de debug</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@method:</strong> debug<br><strong>@param:</strong> {string} message - Mensaje de debug, {Object} [meta={}] - Metadata adicional<br><strong>@example:</strong>  ```javascript logger.debug('Cache hit', { key: 'user:123', ttl: 300 }); ``` 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">verbose</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/logger.js</div>
                <div class="item-description">Log de nivel verbose</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">constructor</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Factory.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Factory Pattern Implementation  Implementa el patr√≥n Factory para la creaci√≥n centralizada de servicios, eliminando duplicaci√≥n de c√≥digo y proporcionando una interfaz consistente para la instanciaci√≥n de objetos complejos. <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0<br><strong>@since:</strong> 5.0.0 /  import logger from '../logger.js';  /** Clase base para implementar el patr√≥n Factory  Proporciona una interfaz com√∫n para la creaci√≥n de objetos, con soporte para configuraci√≥n, validaci√≥n y logging. <br><strong>@abstract:</strong> <br><strong>@class:</strong> BaseFactory / export class BaseFactory { /** Constructor de la factory base <br><strong>@param:</strong> {Object} config - Configuraci√≥n de la factory, {string} config.name - Nombre de la factory, {Object} config.defaultOptions - Opciones por defecto, {boolean} config.enableLogging - Habilitar logging 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">register</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Factory.js</div>
                <div class="item-description">Registra un tipo de objeto en la factory</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} type - Tipo de objeto, {Function} constructor - Constructor del objeto, {Object} options - Opciones espec√≠ficas del tipo<br><strong>@throws:</strong> {Error} Si el tipo ya est√° registrado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">create</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Factory.js</div>
                <div class="item-description">Crea una instancia del tipo especificado</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} type - Tipo de objeto a crear, {Object} config - Configuraci√≥n espec√≠fica, {boolean} singleton - Si debe ser singleton<br><strong>@returns:</strong> {Object} Instancia creada<br><strong>@throws:</strong> {Error} Si el tipo no est√° registrado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRegisteredTypes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Factory.js</div>
                <div class="item-description">Obtiene todos los tipos registrados</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {string[]} Array de tipos registrados 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isRegistered</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Factory.js</div>
                <div class="item-description">Verifica si un tipo est√° registrado</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} type - Tipo a verificar<br><strong>@returns:</strong> {boolean} True si est√° registrado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clearInstances</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Factory.js</div>
                <div class="item-description">Limpia todas las instancias singleton</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Factory.js</div>
                <div class="item-description">Obtiene estad√≠sticas de la factory</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Object} Estad√≠sticas de uso 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createMessagingService</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Factory.js</div>
                <div class="item-description">Factory espec√≠fica para servicios de mensajer√≠a Centraliza la creaci√≥n de todos los servicios de mensajer√≠a, eliminando la duplicaci√≥n de c√≥digo encontrada en el an√°lisis.</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@class:</strong> MessagingServiceFactory<br><strong>@extends:</strong> BaseFactory / export class MessagingServiceFactory extends BaseFactory { constructor() { super({ name: 'MessagingServiceFactory', defaultOptions: { timeout: 30000, retries: 3, enableLogging: true } }); }  /** Crea un servicio de mensajer√≠a configurado <br><strong>@param:</strong> {string} provider - Proveedor (whatsapp, sms, email), {Object} config - Configuraci√≥n del servicio<br><strong>@returns:</strong> {Object} Servicio de mensajer√≠a 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">constructor</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Observer.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Observer Pattern Implementation  Implementa el patr√≥n Observer para crear un sistema de notificaciones robusto y desacoplado, mejorando el EventBus existente con funcionalidades avanzadas como prioridades, filtros y manejo de errores. <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0<br><strong>@since:</strong> 5.0.0 /  import logger from '../logger.js'; import { EventEmitter } from 'events';  /** Interfaz base para observadores  Define el contrato que deben cumplir todos los observadores, proporcionando una interfaz consistente para recibir notificaciones. <br><strong>@abstract:</strong> <br><strong>@class:</strong> BaseObserver / export class BaseObserver { /** Constructor del observador base <br><strong>@param:</strong> {Object} config - Configuraci√≥n del observador, {string} config.id - ID √∫nico del observador, {number} config.priority - Prioridad de ejecuci√≥n (mayor = primero), {boolean} config.enabled - Si est√° habilitado, {Function} config.filter - Funci√≥n de filtro para eventos 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">notify</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Observer.js</div>
                <div class="item-description">Maneja una notificaci√≥n (m√©todo abstracto)</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@abstract:</strong> <br><strong>@param:</strong> {*} data - Datos de la notificaci√≥n, {Object} context - Contexto de la notificaci√≥n<br><strong>@returns:</strong> {Promise<*>} Resultado del procesamiento<br><strong>@throws:</strong> {Error} Si no est√° implementado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">canHandle</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Observer.js</div>
                <div class="item-description">Verifica si el observador puede procesar la notificaci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {*} data - Datos de la notificaci√≥n, {Object} context - Contexto de la notificaci√≥n<br><strong>@returns:</strong> {boolean} True si puede procesar 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Observer.js</div>
                <div class="item-description">Actualiza las estad√≠sticas del observador</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {boolean} processed - Si se proces√≥ exitosamente, {Error} error - Error si ocurri√≥ 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Observer.js</div>
                <div class="item-description">Obtiene informaci√≥n del observador</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Object} Informaci√≥n del observador 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">constructor</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Observer.js</div>
                <div class="item-description">Sujeto observable que maneja observadores Implementa el patr√≥n Observer con funcionalidades avanzadas como prioridades, filtros, manejo de errores y estad√≠sticas.</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@class:</strong> Observable<br><strong>@extends:</strong> EventEmitter / export class Observable extends EventEmitter { /** Constructor del observable <br><strong>@param:</strong> {Object} config - Configuraci√≥n del observable, {string} config.name - Nombre del observable, {boolean} config.enableLogging - Habilitar logging, {number} config.maxObservers - M√°ximo n√∫mero de observadores, {boolean} config.enableStats - Habilitar estad√≠sticas 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addObserver</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Observer.js</div>
                <div class="item-description">Agrega un observador</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {BaseObserver} observer - Observador a agregar, {string[]} events - Eventos a observar (opcional)<br><strong>@throws:</strong> {Error} Si el observador no es v√°lido o se excede el l√≠mite 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">removeObserver</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Observer.js</div>
                <div class="item-description">Remueve un observador</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} observerId - ID del observador a remover<br><strong>@returns:</strong> {boolean} True si se removi√≥ exitosamente 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">notifyObservers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Observer.js</div>
                <div class="item-description">Notifica a todos los observadores relevantes</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} event - Nombre del evento, {*} data - Datos de la notificaci√≥n, {Object} context - Contexto adicional<br><strong>@returns:</strong> {Promise<Object>} Resultado de las notificaciones 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRelevantObservers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Observer.js</div>
                <div class="item-description">Obtiene observadores relevantes para un evento</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {string} event - Nombre del evento<br><strong>@returns:</strong> {Array} Array de observadores relevantes 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getObservers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Observer.js</div>
                <div class="item-description">Obtiene todos los observadores</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Object[]} Array de informaci√≥n de observadores 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Observer.js</div>
                <div class="item-description">Obtiene estad√≠sticas del observable</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Object} Estad√≠sticas del observable 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clearObservers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Observer.js</div>
                <div class="item-description">Limpia todos los observadores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">constructor</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Strategy.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Strategy Pattern Implementation  Implementa el patr√≥n Strategy para encapsular algoritmos intercambiables, eliminando c√≥digo condicional complejo y mejorando la mantenibilidad. <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0<br><strong>@since:</strong> 5.0.0 /  import logger from '../logger.js';  /** Interfaz base para estrategias  Define el contrato que deben cumplir todas las estrategias, proporcionando una interfaz consistente para su ejecuci√≥n. <br><strong>@abstract:</strong> <br><strong>@class:</strong> BaseStrategy / export class BaseStrategy { /** Constructor de la estrategia base <br><strong>@param:</strong> {Object} config - Configuraci√≥n de la estrategia, {string} config.name - Nombre de la estrategia, {number} config.priority - Prioridad de ejecuci√≥n, {boolean} config.enabled - Si est√° habilitada 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">execute</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Strategy.js</div>
                <div class="item-description">Ejecuta la estrategia (m√©todo abstracto)</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@abstract:</strong> <br><strong>@param:</strong> {*} context - Contexto de ejecuci√≥n<br><strong>@returns:</strong> {Promise<*>} Resultado de la estrategia<br><strong>@throws:</strong> {Error} Si no est√° implementado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">canExecute</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Strategy.js</div>
                <div class="item-description">Valida si la estrategia puede ejecutarse</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {*} context - Contexto de ejecuci√≥n<br><strong>@returns:</strong> {boolean} True si puede ejecutarse 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Strategy.js</div>
                <div class="item-description">Obtiene informaci√≥n de la estrategia</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Object} Informaci√≥n de la estrategia 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">constructor</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Strategy.js</div>
                <div class="item-description">Contexto que maneja las estrategias Gestiona la selecci√≥n y ejecuci√≥n de estrategias basado en el contexto, proporcionando flexibilidad en el comportamiento del sistema.</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@class:</strong> StrategyContext / export class StrategyContext { /** Constructor del contexto de estrategias <br><strong>@param:</strong> {Object} config - Configuraci√≥n del contexto, {string} config.name - Nombre del contexto, {boolean} config.enableLogging - Habilitar logging 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerStrategy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Strategy.js</div>
                <div class="item-description">Registra una estrategia</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} key - Clave de la estrategia, {BaseStrategy} strategy - Instancia de la estrategia<br><strong>@throws:</strong> {Error} Si la estrategia no es v√°lida 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setDefaultStrategy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Strategy.js</div>
                <div class="item-description">Establece la estrategia por defecto</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} key - Clave de la estrategia por defecto<br><strong>@throws:</strong> {Error} Si la estrategia no existe 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeStrategy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Strategy.js</div>
                <div class="item-description">Ejecuta una estrategia espec√≠fica</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} key - Clave de la estrategia, {*} context - Contexto de ejecuci√≥n<br><strong>@returns:</strong> {Promise<*>} Resultado de la estrategia<br><strong>@throws:</strong> {Error} Si la estrategia no existe o falla 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeDefault</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Strategy.js</div>
                <div class="item-description">Ejecuta la estrategia por defecto</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {*} context - Contexto de ejecuci√≥n<br><strong>@returns:</strong> {Promise<*>} Resultado de la estrategia<br><strong>@throws:</strong> {Error} Si no hay estrategia por defecto 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeBest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Strategy.js</div>
                <div class="item-description">Ejecuta la mejor estrategia basada en prioridad</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {*} context - Contexto de ejecuci√≥n<br><strong>@returns:</strong> {Promise<*>} Resultado de la estrategia<br><strong>@throws:</strong> {Error} Si no hay estrategias disponibles 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStrategies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Strategy.js</div>
                <div class="item-description">Obtiene todas las estrategias registradas</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Object[]} Array de informaci√≥n de estrategias 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/patterns/Strategy.js</div>
                <div class="item-description">Obtiene estad√≠sticas del contexto</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Object} Estad√≠sticas del contexto 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">constructor</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Performance Optimization System  Sistema avanzado de optimizaci√≥n de rendimiento que incluye an√°lisis de complejidad algor√≠tmica, minimizaci√≥n de operaciones I/O, profiling autom√°tico, m√©tricas de rendimiento y optimizaciones adaptativas. <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0<br><strong>@since:</strong> 5.0.0 /  import { BaseError, ErrorType, ErrorSeverity } from '../errors/ErrorHandler.js'; import { systemObservable } from '../Observer.js'; import { globalCacheManager } from '../config/environments/cache/CacheManager.js'; import logger from '../logger.js';  /** Tipos de optimizaci√≥n <br><strong>@enum:</strong> {string} / export const OptimizationType = { ALGORITHM: 'algorithm', IO: 'io', MEMORY: 'memory', NETWORK: 'network', DATABASE: 'database', CACHE: 'cache', ASYNC: 'async' };  /** Niveles de prioridad , {string} / export const PriorityLevel = { CRITICAL: 'critical', HIGH: 'high', MEDIUM: 'medium', LOW: 'low' };  /** M√©tricas de rendimiento <br><strong>@typedef:</strong> {Object} PerformanceMetrics, {Object} OptimizationConfig, {Object} OptimizationResult<br><strong>@property:</strong> {number} executionTime - Tiempo de ejecuci√≥n en ms, {number} memoryUsage - Uso de memoria en bytes, {number} cpuUsage - Uso de CPU en %, {number} ioOperations - N√∫mero de operaciones I/O, {number} networkRequests - N√∫mero de requests de red, {number} databaseQueries - N√∫mero de queries de BD, {number} cacheHits - Hits de cach√©, {number} cacheMisses - Misses de cach√©, {Object} customMetrics - M√©tricas personalizadas /  /** Configuraci√≥n de optimizaci√≥n , {boolean} enableProfiling - Habilitar profiling, {boolean} enableCaching - Habilitar cach√©, {boolean} enableBatching - Habilitar batching, {boolean} enableCompression - Habilitar compresi√≥n, {number} batchSize - Tama√±o de batch, {number} maxConcurrency - M√°xima concurrencia, {number} timeoutMs - Timeout en ms, {Array<OptimizationType>} enabledOptimizations - Optimizaciones habilitadas /  /** Resultado de optimizaci√≥n , {boolean} success - Si fue exitosa, {PerformanceMetrics} beforeMetrics - M√©tricas antes, {PerformanceMetrics} afterMetrics - M√©tricas despu√©s, {number} improvementPercent - Porcentaje de mejora, {Array<string>} appliedOptimizations - Optimizaciones aplicadas, {string} recommendation - Recomendaci√≥n /  /** Optimizador de rendimiento <br><strong>@class:</strong> PerformanceOptimizer / export class PerformanceOptimizer { /** Constructor del optimizador <br><strong>@param:</strong> {OptimizationConfig} config - Configuraci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupObservers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Configura observadores del sistema</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong>  
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupOptimizations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Configura optimizaciones disponibles</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong>  
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">profile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Ejecuta una funci√≥n con profiling de rendimiento</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} name - Nombre del profile, {Function} fn - Funci√≥n a ejecutar, {...any} args - Argumentos de la funci√≥n<br><strong>@returns:</strong> {Promise<any>} Resultado de la funci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Optimiza una funci√≥n autom√°ticamente</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} name - Nombre de la funci√≥n, {Function} fn - Funci√≥n a optimizar, {OptimizationConfig} options - Opciones de optimizaci√≥n<br><strong>@returns:</strong> {Function} Funci√≥n optimizada 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">batch</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Ejecuta operaciones en batch para optimizar I/O</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {Array<Function>} operations - Operaciones a ejecutar, {Object} options - Opciones de batching<br><strong>@returns:</strong> {Promise<Array>} Resultados de las operaciones 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyze</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Analiza el rendimiento de una funci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} name - Nombre de la funci√≥n, {Function} fn - Funci√≥n a analizar, {Array} testCases - Casos de prueba<br><strong>@returns:</strong> {Promise<Object>} An√°lisis de rendimiento 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeAlgorithm</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Optimiza algoritmos basado en complejidad</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Function} fn - Funci√≥n a optimizar, {Object} analysis - An√°lisis previo<br><strong>@returns:</strong> {Function} Funci√≥n optimizada 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createMemoizedFunction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Crea una funci√≥n memoizada para optimizar funciones costosas</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Function} fn - Funci√≥n original, {Object} analysis - An√°lisis de la funci√≥n<br><strong>@returns:</strong> {Function} Funci√≥n memoizada 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createDebouncedFunction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Crea una funci√≥n con debouncing para reducir llamadas frecuentes</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Function} fn - Funci√≥n original, {number} delay - Delay en ms<br><strong>@returns:</strong> {Function} Funci√≥n con debouncing 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createThrottledFunction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Crea una funci√≥n con throttling para limitar frecuencia de ejecuci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Function} fn - Funci√≥n original, {number} interval - Intervalo en ms<br><strong>@returns:</strong> {Function} Funci√≥n con throttling 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createPredictiveCachedFunction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Crea una funci√≥n con cache predictivo basado en patrones</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Function} fn - Funci√≥n original, {Object} patterns - Patrones detectados<br><strong>@returns:</strong> {Function} Funci√≥n con cache predictivo 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">predictNextCalls</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Predice y pre-calcula pr√≥ximas llamadas basado en patrones</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Function} fn - Funci√≥n original, {Array} currentArgs - Argumentos actuales, {Array} sequence - Secuencia de patrones, {Map} cache - Cache para almacenar resultados 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generatePredictedArgs</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Genera argumentos predichos basado en patrones</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Array} currentArgs - Argumentos actuales, {Object} pattern - Patr√≥n a aplicar<br><strong>@returns:</strong> {Array} Argumentos predichos 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeIO</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Optimiza operaciones I/O</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Function} fn - Funci√≥n a optimizar, {Object} analysis - An√°lisis previo<br><strong>@returns:</strong> {Function} Funci√≥n optimizada 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeMemory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Optimiza uso de memoria</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Function} fn - Funci√≥n a optimizar, {Object} analysis - An√°lisis previo<br><strong>@returns:</strong> {Function} Funci√≥n optimizada 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeNetwork</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Optimiza operaciones de red</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Function} fn - Funci√≥n a optimizar, {Object} analysis - An√°lisis previo<br><strong>@returns:</strong> {Function} Funci√≥n optimizada 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeDatabase</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Optimiza queries de base de datos</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Function} fn - Funci√≥n a optimizar, {Object} analysis - An√°lisis previo<br><strong>@returns:</strong> {Function} Funci√≥n optimizada 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Optimiza uso de cach√©</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Function} fn - Funci√≥n a optimizar, {Object} analysis - An√°lisis previo<br><strong>@returns:</strong> {Function} Funci√≥n optimizada 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeAsync</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Optimiza operaciones as√≠ncronas</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Function} fn - Funci√≥n a optimizar, {Object} analysis - An√°lisis previo<br><strong>@returns:</strong> {Function} Funci√≥n optimizada 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeAlgorithmComplexity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Analiza complejidad algor√≠tmica</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Function} fn - Funci√≥n a analizar<br><strong>@returns:</strong> {Object} An√°lisis de complejidad 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeIOPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Analiza patrones de I/O</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Function} fn - Funci√≥n a analizar<br><strong>@returns:</strong> {Object} An√°lisis de I/O 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeMemoryUsage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Analiza uso de memoria</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Function} fn - Funci√≥n a analizar<br><strong>@returns:</strong> {Object} An√°lisis de memoria 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeNetworkPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Analiza patrones de red</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Function} fn - Funci√≥n a analizar<br><strong>@returns:</strong> {Object} An√°lisis de red 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeDatabaseQueries</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Analiza queries de base de datos</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Function} fn - Funci√≥n a analizar<br><strong>@returns:</strong> {Object} An√°lisis de BD 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeCachePatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Analiza patrones de cach√©</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Function} fn - Funci√≥n a analizar<br><strong>@returns:</strong> {Object} An√°lisis de cach√© 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeAsyncPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Analiza patrones as√≠ncronos</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Function} fn - Funci√≥n a analizar<br><strong>@returns:</strong> {Object} An√°lisis async 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">estimateComplexity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Estima complejidad algor√≠tmica</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Array<number>} executionTimes - Tiempos de ejecuci√≥n, {Array} testCases - Casos de prueba<br><strong>@returns:</strong> {string} Complejidad estimada 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateRecommendations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Genera recomendaciones de optimizaci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Object} analysis - An√°lisis de rendimiento<br><strong>@returns:</strong> {Array<string>} Recomendaciones 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateCacheKey</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Genera clave de cach√©</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {string} name - Nombre de la funci√≥n, {Array} args - Argumentos<br><strong>@returns:</strong> {string} Clave de cach√© 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateDynamicTTL</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Calcula TTL din√°mico</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {string} key - Clave de cach√©, {Object} analysis - An√°lisis<br><strong>@returns:</strong> {number} TTL en ms 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createBatches</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Crea batches de operaciones</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Array} operations - Operaciones, {number} batchSize - Tama√±o del batch<br><strong>@returns:</strong> {Array<Array>} Batches 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">limitConcurrency</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Limita concurrencia de promesas</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Array<Promise>} promises - Promesas, {number} limit - L√≠mite de concurrencia<br><strong>@returns:</strong> {Promise<Array>} Resultados 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isRetryableError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Verifica si un error es reintentable</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Error} error - Error a verificar<br><strong>@returns:</strong> {boolean} True si es reintentable 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createTimeout</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Crea un timeout</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {number} ms - Milisegundos<br><strong>@returns:</strong> {Promise} Promesa que se rechaza despu√©s del timeout 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">delay</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Delay as√≠ncrono</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {number} ms - Milisegundos<br><strong>@returns:</strong> {Promise} Promesa que se resuelve despu√©s del delay 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordMetric</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Registra una m√©trica</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {string} name - Nombre de la m√©trica, {Object} data - Datos de la m√©trica 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordProfile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Registra un profile</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {string} name - Nombre del profile, {Object} metrics - M√©tricas del profile 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Obtiene m√©tricas de rendimiento</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Object} M√©tricas de rendimiento 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getProfiles</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Obtiene profiles de rendimiento</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Object} Profiles de rendimiento 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Genera reporte de rendimiento</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Object} Reporte completo 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateGlobalRecommendations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/performance/PerformanceOptimizer.js</div>
                <div class="item-description">Genera recomendaciones globales</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@returns:</strong> {Array<string>} Recomendaciones 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">constructor</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/services/BaseService.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Base Service Class  Clase base para todos los servicios del sistema que proporciona funcionalidad com√∫n como manejo de errores, validaci√≥n, logging, m√©tricas y patrones de dise√±o consistentes. <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0<br><strong>@since:</strong> 5.0.0 /  import { globalErrorHandler, BaseError, ErrorType, ErrorSeverity } from '../errors/ErrorHandler.js'; import { globalValidator } from '../validation/DataValidator.js'; import { systemObservable } from '../Observer.js'; import logger from '../logger.js';  /** Estados del servicio <br><strong>@enum:</strong> {string} / export const ServiceState = { INITIALIZING: 'initializing', READY: 'ready', BUSY: 'busy', ERROR: 'error', STOPPED: 'stopped' };  /** Configuraci√≥n base del servicio <br><strong>@typedef:</strong> {Object} ServiceConfig<br><strong>@property:</strong> {string} name - Nombre del servicio, {string} version - Versi√≥n del servicio, {boolean} enableMetrics - Habilitar m√©tricas, {boolean} enableValidation - Habilitar validaci√≥n, {boolean} enableCaching - Habilitar cach√©, {number} timeout - Timeout por defecto en ms, {number} retryAttempts - Intentos de retry por defecto, {Object} dependencies - Dependencias del servicio /  /** Clase base para servicios <br><strong>@abstract:</strong> <br><strong>@class:</strong> BaseService / export class BaseService { /** Constructor del servicio base <br><strong>@param:</strong> {ServiceConfig} config - Configuraci√≥n del servicio 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupObservers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/services/BaseService.js</div>
                <div class="item-description">Configura observadores del servicio</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong>  
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/services/BaseService.js</div>
                <div class="item-description">Inicializa el servicio</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@abstract:</strong> <br><strong>@returns:</strong> {Promise<void>} 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/services/BaseService.js</div>
                <div class="item-description">Detiene el servicio</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@abstract:</strong> <br><strong>@returns:</strong> {Promise<void>} 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">healthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/services/BaseService.js</div>
                <div class="item-description">Verifica el estado de salud del servicio</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Promise<Object>} Estado de salud 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeOperation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/services/BaseService.js</div>
                <div class="item-description">Ejecuta una operaci√≥n con manejo de errores y m√©tricas</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@protected:</strong> <br><strong>@param:</strong> {string} operationName - Nombre de la operaci√≥n, {Function} operation - Funci√≥n a ejecutar, {Object} options - Opciones de ejecuci√≥n<br><strong>@returns:</strong> {Promise<*>} Resultado de la operaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeWithTimeout</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/services/BaseService.js</div>
                <div class="item-description">Ejecuta una funci√≥n con timeout</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Function} operation - Operaci√≥n a ejecutar, {number} timeout - Timeout en ms<br><strong>@returns:</strong> {Promise<*>} Resultado de la operaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateOperationMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/services/BaseService.js</div>
                <div class="item-description">Actualiza m√©tricas de operaci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {string} operationName - Nombre de la operaci√≥n, {boolean} success - Si fue exitosa, {number} responseTime - Tiempo de respuesta, {Error} error - Error si ocurri√≥ 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/services/BaseService.js</div>
                <div class="item-description">Actualiza m√©tricas generales</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Object} data - Datos de la operaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isCacheExpired</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/services/BaseService.js</div>
                <div class="item-description">Verifica si un elemento del cach√© ha expirado</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {Object} cacheItem - Elemento del cach√©<br><strong>@returns:</strong> {boolean} True si ha expirado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanExpiredCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/services/BaseService.js</div>
                <div class="item-description">Limpia el cach√© expirado</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@protected:</strong>  
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerDependency</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/services/BaseService.js</div>
                <div class="item-description">Registra una dependencia</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@protected:</strong> <br><strong>@param:</strong> {string} name - Nombre de la dependencia, {*} dependency - Instancia de la dependencia 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getDependency</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/services/BaseService.js</div>
                <div class="item-description">Obtiene una dependencia</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@protected:</strong> <br><strong>@param:</strong> {string} name - Nombre de la dependencia<br><strong>@returns:</strong> {*} Instancia de la dependencia 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateDependencies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/services/BaseService.js</div>
                <div class="item-description">Valida que todas las dependencias est√©n disponibles</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@protected:</strong> <br><strong>@returns:</strong> {Promise<boolean>} True si todas las dependencias est√°n disponibles 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/services/BaseService.js</div>
                <div class="item-description">Obtiene informaci√≥n del servicio</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Object} Informaci√≥n del servicio 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">restart</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/services/BaseService.js</div>
                <div class="item-description">Reinicia el servicio</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Promise<void>} 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/services/BaseService.js</div>
                <div class="item-description">Limpia recursos del servicio</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@protected:</strong>  
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sanitizeXSS</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/validation/DataValidator.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Advanced Data Validation System  Sistema avanzado de validaci√≥n de datos con esquemas flexibles, sanitizaci√≥n autom√°tica, verificaci√≥n de tipos y validaci√≥n personalizada. <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0<br><strong>@since:</strong> 5.0.0 /  import { ValidationError } from '../../../../utils/error_manager.js'; import logger from '../logger.js';  /** Configuraci√≥n de seguridad para validaci√≥n / const SECURITY_LIMITS = { MAX_JSON_SIZE: 1024 * 1024, // 1MB m√°ximo para JSON MAX_STRING_LENGTH: 10000,   // 10KB m√°ximo para strings MAX_OBJECT_DEPTH: 10,       // M√°xima profundidad de objetos anidados MAX_ARRAY_LENGTH: 1000      // M√°ximo elementos en array };  /** Tipos de datos soportados <br><strong>@enum:</strong> {string} / export const DataType = { STRING: 'string', NUMBER: 'number', INTEGER: 'integer', BOOLEAN: 'boolean', ARRAY: 'array', OBJECT: 'object', EMAIL: 'email', URL: 'url', UUID: 'uuid', DATE: 'date', PHONE: 'phone', JSON: 'json' };  /** Reglas de validaci√≥n predefinidas , {RegExp} / export const ValidationRules = { EMAIL: /^[^\s@]+@[^\s@]+\.[^\s@]+$/, URL: /^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)$/, UUID: /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i, PHONE: /^\+?[\d\s\-\(\)]{10,}$/, ALPHANUMERIC: /^[a-zA-Z0-9]+$/, ALPHA: /^[a-zA-Z]+$/, NUMERIC: /^[0-9]+$/, PASSWORD_STRONG: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/ };  /** Sanitiza strings para prevenir ataques XSS <br><strong>@param:</strong> {string} str - String a sanitizar<br><strong>@returns:</strong> {string} String sanitizado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateStringSize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/validation/DataValidator.js</div>
                <div class="item-description">Valida el tama√±o de un string para prevenir ataques DoS</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} str - String a validar, {number} maxSize - Tama√±o m√°ximo permitido<br><strong>@returns:</strong> {boolean} True si el tama√±o es v√°lido 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">constructor</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/validation/DataValidator.js</div>
                <div class="item-description">Esquema de validaci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@typedef:</strong> {Object} ValidationSchema, {Object} ValidationResult<br><strong>@property:</strong> {DataType} type - Tipo de dato, {boolean} required - Si es requerido, {*} default - Valor por defecto, {number} min - Valor/longitud m√≠nima, {number} max - Valor/longitud m√°xima, {RegExp|Function} pattern - Patr√≥n o funci√≥n de validaci√≥n, {Array} enum - Valores permitidos, {ValidationSchema} items - Esquema para elementos de array, {Object<string, ValidationSchema>} properties - Propiedades de objeto, {Function} custom - Validador personalizado, {boolean} sanitize - Si debe sanitizar, {string} message - Mensaje de error personalizado /  /** Resultado de validaci√≥n , {boolean} valid - Si es v√°lido, {*} data - Datos validados/sanitizados, {Array<Object>} errors - Lista de errores, {Array<string>} warnings - Lista de advertencias /  /** Validador de datos avanzado <br><strong>@class:</strong> DataValidator / export class DataValidator { /** Constructor del validador <br><strong>@param:</strong> {Object} config - Configuraci√≥n del validador, {boolean} config.strictMode - Modo estricto, {boolean} config.autoSanitize - Sanitizaci√≥n autom√°tica, {boolean} config.throwOnError - Lanzar excepci√≥n en error, {Object} config.customTypes - Tipos personalizados 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/validation/DataValidator.js</div>
                <div class="item-description">Valida datos contra un esquema</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {*} data - Datos a validar, {ValidationSchema|Object} schema - Esquema de validaci√≥n, {Object} options - Opciones de validaci√≥n<br><strong>@returns:</strong> {ValidationResult} Resultado de la validaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateValue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/validation/DataValidator.js</div>
                <div class="item-description">Valida un valor individual</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {*} value - Valor a validar, {ValidationSchema} schema - Esquema de validaci√≥n, {Object} context - Contexto de validaci√≥n<br><strong>@returns:</strong> {ValidationResult} Resultado de la validaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateType</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/validation/DataValidator.js</div>
                <div class="item-description">Valida el tipo de dato</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {*} value - Valor a validar, {ValidationSchema} schema - Esquema de validaci√≥n, {Object} context - Contexto de validaci√≥n<br><strong>@returns:</strong> {ValidationResult} Resultado de la validaci√≥n de tipo 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateConstraints</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/validation/DataValidator.js</div>
                <div class="item-description">Valida restricciones adicionales</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {*} value - Valor a validar, {ValidationSchema} schema - Esquema de validaci√≥n, {Object} context - Contexto de validaci√≥n<br><strong>@returns:</strong> {Object} Errores y advertencias 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sanitizeValue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/validation/DataValidator.js</div>
                <div class="item-description">Sanitiza un valor seg√∫n su tipo</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {*} value - Valor a sanitizar, {DataType} type - Tipo de dato<br><strong>@returns:</strong> {*} Valor sanitizado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/validation/DataValidator.js</div>
                <div class="item-description">Obtiene el tama√±o de un valor</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {*} value - Valor a medir<br><strong>@returns:</strong> {number} Tama√±o del valor 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/validation/DataValidator.js</div>
                <div class="item-description">Actualiza estad√≠sticas de validaci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {DataType} type - Tipo de dato, {string} field - Campo validado, {boolean} valid - Si fue v√°lido 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerCustomType</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/validation/DataValidator.js</div>
                <div class="item-description">Registra un tipo personalizado</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} name - Nombre del tipo, {Function} validator - Funci√≥n validadora 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/validation/DataValidator.js</div>
                <div class="item-description">Obtiene estad√≠sticas de validaci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Object} Estad√≠sticas de validaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateMultiple</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/validation/DataValidator.js</div>
                <div class="item-description">Valida m√∫ltiples valores</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {Object} data - Datos a validar, {Object} schemas - Esquemas de validaci√≥n<br><strong>@returns:</strong> {ValidationResult} Resultado de la validaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Gestor de APIs para integraciones con servicios externos Maneja autenticaci√≥n, rate limiting, caching y manejo de errores / class APIManager extends EventEmitter { constructor(config = {}) { super(); this.config = { // Configuraci√≥n general enabled: config.enabled !== false, maxConnections: config.maxConnections || 100, defaultTimeout: config.defaultTimeout || 30000, // Configuraci√≥n de autenticaci√≥n auth: { enabled: config.auth?.enabled !== false, defaultType: config.auth?.defaultType || 'none', // none, bearer, basic, apikey, oauth2, custom storage: config.auth?.storage || 'memory', // memory, file, database encryption: config.auth?.encryption !== false, refreshTokens: config.auth?.refreshTokens !== false }, // Configuraci√≥n de rate limiting rateLimit: { enabled: config.rateLimit?.enabled !== false, defaultLimits: { requests: config.rateLimit?.defaultLimits?.requests || 100, window: config.rateLimit?.defaultLimits?.window || 60000 // 1 minuto }, strategy: config.rateLimit?.strategy || 'sliding', // fixed, sliding storage: config.rateLimit?.storage || 'memory' }, // Configuraci√≥n de cach√© cache: { enabled: config.cache?.enabled !== false, defaultTTL: config.cache?.defaultTTL || 300000, // 5 minutos maxSize: config.cache?.maxSize || 1000, storage: config.cache?.storage || 'memory', compression: config.cache?.compression !== false }, // Configuraci√≥n de reintentos retry: { enabled: config.retry?.enabled !== false, maxAttempts: config.retry?.maxAttempts || 3, baseDelay: config.retry?.baseDelay || 1000, maxDelay: config.retry?.maxDelay || 30000, backoffFactor: config.retry?.backoffFactor || 2, retryableStatusCodes: config.retry?.retryableStatusCodes || [408, 429, 500, 502, 503, 504] }, // Configuraci√≥n de circuit breaker circuitBreaker: { enabled: config.circuitBreaker?.enabled !== false, failureThreshold: config.circuitBreaker?.failureThreshold || 5, resetTimeout: config.circuitBreaker?.resetTimeout || 60000, monitoringPeriod: config.circuitBreaker?.monitoringPeriod || 10000 }, // Configuraci√≥n de transformaci√≥n transform: { enabled: config.transform?.enabled !== false, requestTransformers: config.transform?.requestTransformers || [], responseTransformers: config.transform?.responseTransformers || [] }, // Configuraci√≥n de validaci√≥n validation: { enabled: config.validation?.enabled !== false, schemas: config.validation?.schemas || {}, strict: config.validation?.strict !== false }, // Configuraci√≥n de logging logging: { enabled: config.logging?.enabled !== false, level: config.logging?.level || 'info', includeHeaders: config.logging?.includeHeaders !== false, includeBody: config.logging?.includeBody !== false, maxBodySize: config.logging?.maxBodySize || 1024, maxLogs: config.logging?.maxLogs || 10000 }, // Configuraci√≥n de m√©tricas metrics: { enabled: config.metrics?.enabled !== false, retention: config.metrics?.retention || 86400000, // 24 horas aggregation: config.metrics?.aggregation !== false } }; // Estado interno this.connections = new Map(); this.authTokens = new Map(); this.rateLimiters = new Map(); this.cache = new Map(); this.circuitBreakers = new Map(); this.logs = []; this.metrics = { totalRequests: 0, successfulRequests: 0, failedRequests: 0, cachedRequests: 0, rateLimitedRequests: 0, averageResponseTime: 0, totalResponseTime: 0, requestsByAPI: new Map(), errorsByAPI: new Map(), responseTimesByAPI: new Map() }; // Timers this.cleanupTimer = null; this.metricsTimer = null; this.initialized = false; } /** Inicializa el gestor de APIs</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerAPI</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Registra una nueva conexi√≥n de API</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">makeRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Realiza una petici√≥n a una API</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_makeRequestWithRetry</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Realiza petici√≥n con reintentos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_isRetryableError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Verifica si un error es reintentable</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_createHTTPClient</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Crea cliente HTTP para una API</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupAuthentication</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Configura autenticaci√≥n para una API</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupOAuth2</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Configura OAuth2</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_addAuthentication</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Agrega autenticaci√≥n a la petici√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_refreshOAuth2Token</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Renueva token OAuth2</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_handleAuthError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Maneja errores de autenticaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupRateLimiter</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Configura rate limiter para una API - DESACTIVADO</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_checkRateLimit</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Verifica rate limit - DESACTIVADO</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupCircuitBreaker</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Configura circuit breaker para una API</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_checkCircuitBreaker</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Verifica circuit breaker</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_recordCircuitBreakerSuccess</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Registra √©xito en circuit breaker</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_recordCircuitBreakerFailure</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Registra fallo en circuit breaker</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_prepareRequestConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Prepara configuraci√≥n de petici√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_generateCacheKey</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Genera clave de cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_shouldCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Verifica si debe cachear</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_getFromCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Obtiene del cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_saveToCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Guarda en cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_applyRequestTransformers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Aplica transformadores de petici√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_applyResponseTransformers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Aplica transformadores de respuesta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_validateRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Valida petici√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_validateResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Valida respuesta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_updateAPIStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Actualiza estad√≠sticas de API</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_updateMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Actualiza m√©tricas globales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performHealthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Realiza health check de una API</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAPI</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Obtiene una API por ID</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">listAPIs</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Lista todas las APIs</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateAPI</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Actualiza una API</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deleteAPI</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Elimina una API</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Obtiene estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_calculateAverageResponseTime</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Calcula tiempo promedio de respuesta para una API</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_calculateCacheHitRate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Calcula tasa de aciertos de cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getHealthStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Obtiene estado de salud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupTimers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Configura timers del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_cleanupCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Limpia cach√© expirado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupEventHandlers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Configura manejadores de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_validateAPIConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Valida configuraci√≥n de API</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_validateConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Valida configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_hash</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Genera hash simple</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_log</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Registra un log</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/APIManager.js</div>
                <div class="item-description">Destruye el gestor de APIs</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Gestor de integraciones que coordina APIs y webhooks Proporciona una interfaz unificada para todas las integraciones externas / class IntegrationManager extends EventEmitter { constructor(config = {}) { super(); this.config = { // Configuraci√≥n general enabled: config.enabled !== false, maxIntegrations: config.maxIntegrations || 500, // Configuraci√≥n de APIs apis: { enabled: config.apis?.enabled !== false, config: config.apis?.config || {} }, // Configuraci√≥n de webhooks webhooks: { enabled: config.webhooks?.enabled !== false, config: config.webhooks?.config || {} }, // Configuraci√≥n de sincronizaci√≥n sync: { enabled: config.sync?.enabled !== false, interval: config.sync?.interval || 300000, // 5 minutos batchSize: config.sync?.batchSize || 50, maxRetries: config.sync?.maxRetries || 3 }, // Configuraci√≥n de mapeo de datos mapping: { enabled: config.mapping?.enabled !== false, defaultMappings: config.mapping?.defaultMappings || {}, transformers: config.mapping?.transformers || [] }, // Configuraci√≥n de eventos events: { enabled: config.events?.enabled !== false, maxHistory: config.events?.maxHistory || 10000, retention: config.events?.retention || 86400000, // 24 horas propagation: config.events?.propagation !== false }, // Configuraci√≥n de monitoreo monitoring: { enabled: config.monitoring?.enabled !== false, healthCheckInterval: config.monitoring?.healthCheckInterval || 60000, // 1 minuto alertThresholds: { errorRate: config.monitoring?.alertThresholds?.errorRate || 0.1, // 10% responseTime: config.monitoring?.alertThresholds?.responseTime || 5000, // 5 segundos availability: config.monitoring?.alertThresholds?.availability || 0.95 // 95% } }, // Configuraci√≥n de cach√© cache: { enabled: config.cache?.enabled !== false, ttl: config.cache?.ttl || 300000, // 5 minutos maxSize: config.cache?.maxSize || 1000 }, // Configuraci√≥n de logging logging: { enabled: config.logging?.enabled !== false, level: config.logging?.level || 'info', maxLogs: config.logging?.maxLogs || 10000 }, // Configuraci√≥n de m√©tricas metrics: { enabled: config.metrics?.enabled !== false, retention: config.metrics?.retention || 86400000, // 24 horas aggregation: config.metrics?.aggregation !== false } }; // Estado interno this.integrations = new Map(); // Integraciones registradas this.syncJobs = new Map(); // Trabajos de sincronizaci√≥n this.events = []; // Historial de eventos this.cache = new Map(); // Cach√© de datos this.logs = []; this.metrics = { totalIntegrations: 0, activeIntegrations: 0, totalRequests: 0, successfulRequests: 0, failedRequests: 0, averageResponseTime: 0, totalResponseTime: 0, syncJobs: { total: 0, successful: 0, failed: 0 }, integrationsByType: new Map(), errorsByIntegration: new Map() }; // Componentes this.apiManager = null; this.webhookManager = null; this.dialog360Service = null; // Timers this.syncTimer = null; this.healthCheckTimer = null; this.cleanupTimer = null; this.metricsTimer = null; this.initialized = false; } /** Inicializa el gestor de integraciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerIntegration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Registra una nueva integraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupIntegration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Configura una integraci√≥n seg√∫n su tipo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_handleWebhookEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Maneja eventos de webhook para una integraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">makeRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Realiza una petici√≥n a trav√©s de una integraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Env√≠a un evento a trav√©s de una integraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">syncIntegration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Ejecuta sincronizaci√≥n para una integraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_syncInbound</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Sincronizaci√≥n entrante</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_syncOutbound</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Sincronizaci√≥n saliente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_processInboundRecord</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Procesa un registro entrante</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_getLocalDataForSync</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Obtiene datos locales para sincronizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_applyMapping</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Aplica mapeo de datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_applyTransform</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Aplica transformaci√≥n a un valor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_formatValue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Formatea un valor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_convertValue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Convierte un valor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_applyTransformers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Aplica transformadores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_getNestedValue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Obtiene valor anidado de un objeto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_scheduleSyncJob</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Programa trabajo de sincronizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">activateIntegration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Activa una integraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deactivateIntegration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Desactiva una integraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getIntegration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Obtiene una integraci√≥n por ID</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">listIntegrations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Lista todas las integraciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateIntegration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Actualiza una integraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deleteIntegration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Elimina una integraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performHealthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Realiza health check de todas las integraciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Obtiene estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getHealthStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Obtiene estado de salud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_addEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Agrega evento al historial</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupAPIManagerEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Configura eventos del API Manager</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupWebhookManagerEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Configura eventos del Webhook Manager</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupTimers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Configura timers del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Limpia datos antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupEventHandlers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Configura manejadores de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_validateIntegrationConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Valida configuraci√≥n de integraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_validateConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Valida configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_log</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Registra un log</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendWhatsAppMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">M√©todos espec√≠ficos para 360Dialog / /** Env√≠a un mensaje de WhatsApp a trav√©s de 360Dialog</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendWhatsAppTemplate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Env√≠a una plantilla de WhatsApp a trav√©s de 360Dialog</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processDialog360Webhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Procesa webhook de 360Dialog</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getDialog360Status</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Obtiene el estado de 360Dialog</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">configureDialog360</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Configura 360Dialog con nuevas credenciales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/IntegrationManager.js</div>
                <div class="item-description">Destruye el gestor de integraciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Gestor de webhooks para manejar webhooks entrantes y salientes Incluye validaci√≥n, autenticaci√≥n, procesamiento de eventos y delivery / class WebhookManager extends EventEmitter { constructor(config = {}) { super(); this.config = { // Configuraci√≥n general enabled: config.enabled !== false, maxWebhooks: config.maxWebhooks || 1000, // Configuraci√≥n del servidor server: { enabled: config.server?.enabled !== false, port: config.server?.port || 3001, host: config.server?.host || '0.0.0.0', basePath: config.server?.basePath || '/webhooks', maxPayloadSize: config.server?.maxPayloadSize || '10mb', timeout: config.server?.timeout || 30000, cors: config.server?.cors !== false, helmet: config.server?.helmet !== false }, // Configuraci√≥n de seguridad security: { enabled: config.security?.enabled !== false, requireSignature: config.security?.requireSignature !== false, algorithms: config.security?.algorithms || ['sha256', 'sha1'], headerName: config.security?.headerName || 'X-Webhook-Signature', timestampHeader: config.security?.timestampHeader || 'X-Webhook-Timestamp', timestampTolerance: config.security?.timestampTolerance || 300000, // 5 minutos ipWhitelist: config.security?.ipWhitelist || [], userAgentWhitelist: config.security?.userAgentWhitelist || [] }, // Configuraci√≥n de delivery (webhooks salientes) delivery: { enabled: config.delivery?.enabled !== false, timeout: config.delivery?.timeout || 30000, retries: config.delivery?.retries || 3, retryDelay: config.delivery?.retryDelay || 1000, retryBackoff: config.delivery?.retryBackoff || 2, maxRetryDelay: config.delivery?.maxRetryDelay || 30000, batchSize: config.delivery?.batchSize || 10, concurrency: config.delivery?.concurrency || 5 }, // Configuraci√≥n de eventos events: { enabled: config.events?.enabled !== false, maxHistory: config.events?.maxHistory || 10000, retention: config.events?.retention || 86400000, // 24 horas compression: config.events?.compression !== false }, // Configuraci√≥n de filtros filters: { enabled: config.filters?.enabled !== false, maxFilters: config.filters?.maxFilters || 100, allowedOperators: config.filters?.allowedOperators || ['eq', 'ne', 'gt', 'lt', 'in', 'contains', 'regex'] }, // Configuraci√≥n de transformaci√≥n transform: { enabled: config.transform?.enabled !== false, maxTransformers: config.transform?.maxTransformers || 50, timeout: config.transform?.timeout || 5000 }, // Configuraci√≥n de rate limiting rateLimit: { enabled: config.rateLimit?.enabled !== false, windowMs: config.rateLimit?.windowMs || 60000, // 1 minuto maxRequests: config.rateLimit?.maxRequests || 100, skipSuccessfulRequests: config.rateLimit?.skipSuccessfulRequests !== false }, // Configuraci√≥n de logging logging: { enabled: config.logging?.enabled !== false, level: config.logging?.level || 'info', includePayload: config.logging?.includePayload !== false, maxPayloadSize: config.logging?.maxPayloadSize || 1024, maxLogs: config.logging?.maxLogs || 10000 }, // Configuraci√≥n de m√©tricas metrics: { enabled: config.metrics?.enabled !== false, retention: config.metrics?.retention || 86400000, // 24 horas aggregation: config.metrics?.aggregation !== false } }; // Estado interno this.webhooks = new Map(); // Webhooks registrados this.endpoints = new Map(); // Endpoints activos this.events = []; // Historial de eventos this.deliveryQueue = []; // Cola de delivery this.rateLimiters = new Map(); // Rate limiters por IP this.logs = []; this.metrics = { totalReceived: 0, totalDelivered: 0, totalFailed: 0, averageProcessingTime: 0, totalProcessingTime: 0, receivedByEndpoint: new Map(), deliveredByWebhook: new Map(), errorsByType: new Map() }; // Componentes this.server = null; this.app = null; // Timers this.cleanupTimer = null; this.deliveryTimer = null; this.metricsTimer = null; this.initialized = false; } /** Inicializa el gestor de webhooks</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerWebhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Registra un nuevo webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerEndpoint</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Registra un endpoint para recibir webhooks</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Env√≠a un evento a todos los webhooks suscritos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_processDeliveryQueue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Procesa la cola de delivery</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_deliverWebhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Entrega un webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_isRetryableError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Verifica si un error es reintentable</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_calculateRetryDelay</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Calcula delay para reintentos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_getSubscribedWebhooks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Obtiene webhooks suscritos a un evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_passesFilters</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Verifica si un evento pasa los filtros</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_evaluateFilter</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Eval√∫a un filtro</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_getNestedValue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Obtiene valor anidado de un objeto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_applyTransformers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Aplica transformadores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_applyJQTransform</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Aplica transformaci√≥n JQ b√°sica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_addAuthentication</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Agrega autenticaci√≥n a headers</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_generateSignature</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Genera firma para webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupServer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Configura servidor Express</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_registerRoute</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Registra una ruta en Express</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_verifySignature</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Verifica firma de webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_validatePayload</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Valida payload</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_updateWebhookStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Actualiza estad√≠sticas de webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_updateEndpointStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Actualiza estad√≠sticas de endpoint</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_addEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Agrega evento al historial</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_removeFromDeliveryQueue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Remueve delivery de la cola</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_chunkArray</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Divide array en chunks</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getWebhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Obtiene un webhook por ID</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">listWebhooks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Lista todos los webhooks</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getEndpoint</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Obtiene un endpoint por ID</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">listEndpoints</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Lista todos los endpoints</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateWebhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Actualiza un webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateEndpoint</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Actualiza un endpoint</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deleteWebhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Elimina un webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deleteEndpoint</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Elimina un endpoint</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Obtiene estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getHealthStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Obtiene estado de salud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupTimers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Configura timers del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Limpia datos antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupEventHandlers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Configura manejadores de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_validateWebhookConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Valida configuraci√≥n de webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_validateEndpointConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Valida configuraci√≥n de endpoint</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_validateConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Valida configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_log</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Registra un log</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/WebhookManager.js</div>
                <div class="item-description">Destruye el gestor de webhooks</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createAPIManager</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/index.js</div>
                <div class="item-description">Configuraci√≥n por defecto para el sistema de integraciones / const DEFAULT_INTEGRATION_CONFIG = { // Configuraci√≥n general enabled: true, maxIntegrations: 500, // Configuraci√≥n de APIs apis: { enabled: true, config: { enabled: true, maxConnections: 100, defaultTimeout: 30000, auth: { enabled: true, types: ['bearer', 'basic', 'apikey', 'oauth2', 'custom'], storage: 'memory', encryption: false, tokenRefresh: true }, rateLimit: { enabled: true, defaultLimit: 1000, window: 3600000, strategy: 'sliding-window', storage: 'memory' }, cache: { enabled: true, defaultTTL: 300000, maxSize: 1000, compression: false }, retry: { enabled: true, maxAttempts: 3, baseDelay: 1000, maxDelay: 30000, statusCodes: [408, 429, 500, 502, 503, 504] }, circuitBreaker: { enabled: true, failureThreshold: 5, resetTimeout: 60000, monitoringPeriod: 10000 }, logging: { enabled: true, level: 'info', includeHeaders: false, includeBody: false, maxBodySize: 1024 }, metrics: { enabled: true, retention: 86400000, aggregation: true } } }, // Configuraci√≥n de webhooks webhooks: { enabled: true, config: { server: { enabled: true, port: 3001, host: '0.0.0.0', basePath: '/webhooks', maxPayloadSize: '10mb', timeout: 30000, cors: { enabled: true, origin: '*', methods: ['GET', 'POST', 'PUT', 'DELETE'], headers: ['Content-Type', 'Authorization', 'X-Webhook-Signature'] }, helmet: { enabled: true, contentSecurityPolicy: false } }, security: { signature: { enabled: true, algorithm: 'sha256', header: 'X-Webhook-Signature', timestampTolerance: 300000 }, ipWhitelist: { enabled: false, ips: [] }, userAgentWhitelist: { enabled: false, agents: [] } }, delivery: { timeout: 30000, maxRetries: 3, retryBackoff: 'exponential', batchSize: 10, maxConcurrency: 5 }, events: { maxHistory: 10000, retention: 86400000, compression: false }, rateLimit: { enabled: true, window: 60000, maxRequests: 100 }, logging: { enabled: true, level: 'info', includePayload: false, maxPayloadSize: 1024 }, metrics: { enabled: true, retention: 86400000, aggregation: true } } }, // Configuraci√≥n de sincronizaci√≥n sync: { enabled: true, interval: 300000, batchSize: 50, maxRetries: 3 }, // Configuraci√≥n de mapeo mapping: { enabled: true, defaultMappings: {}, transformers: [] }, // Configuraci√≥n de eventos events: { enabled: true, maxHistory: 10000, retention: 86400000, propagation: true }, // Configuraci√≥n de monitoreo monitoring: { enabled: true, healthCheckInterval: 60000, alertThresholds: { errorRate: 0.1, responseTime: 5000, availability: 0.95 } }, // Configuraci√≥n de cach√© cache: { enabled: true, ttl: 300000, maxSize: 1000 }, // Configuraci√≥n de logging logging: { enabled: true, level: 'info', maxLogs: 10000 }, // Configuraci√≥n de m√©tricas metrics: { enabled: true, retention: 86400000, aggregation: true } }; /** Constantes del sistema de integraciones / const INTEGRATION_CONSTANTS = { // Tipos de integraci√≥n INTEGRATION_TYPES: { API: 'api', WEBHOOK: 'webhook', HYBRID: 'hybrid' }, // Estados de integraci√≥n INTEGRATION_STATUS: { INACTIVE: 'inactive', ACTIVE: 'active', ERROR: 'error', SUSPENDED: 'suspended' }, // Direcciones de sincronizaci√≥n SYNC_DIRECTIONS: { INBOUND: 'inbound', OUTBOUND: 'outbound', BIDIRECTIONAL: 'bidirectional' }, // Estados de trabajos de sincronizaci√≥n SYNC_JOB_STATUS: { PENDING: 'pending', RUNNING: 'running', COMPLETED: 'completed', FAILED: 'failed', CANCELLED: 'cancelled' }, // Tipos de eventos EVENT_TYPES: { INTEGRATION_REGISTERED: 'integration.registered', INTEGRATION_ACTIVATED: 'integration.activated', INTEGRATION_DEACTIVATED: 'integration.deactivated', INTEGRATION_UPDATED: 'integration.updated', INTEGRATION_DELETED: 'integration.deleted', REQUEST_COMPLETED: 'integration.request.completed', REQUEST_FAILED: 'integration.request.failed', EVENT_SENT: 'integration.event.sent', EVENT_FAILED: 'integration.event.failed', WEBHOOK_RECEIVED: 'integration.webhook.received', SYNC_STARTED: 'integration.sync.started', SYNC_COMPLETED: 'integration.sync.completed', SYNC_FAILED: 'integration.sync.failed', HEALTH_CHECK_COMPLETED: 'integration.health.completed', METRICS_UPDATE: 'integration.metrics.update' }, // M√©todos HTTP HTTP_METHODS: { GET: 'GET', POST: 'POST', PUT: 'PUT', PATCH: 'PATCH', DELETE: 'DELETE', HEAD: 'HEAD', OPTIONS: 'OPTIONS' }, // Tipos de autenticaci√≥n AUTH_TYPES: { BEARER: 'bearer', BASIC: 'basic', API_KEY: 'apikey', OAUTH2: 'oauth2', CUSTOM: 'custom' }, // Algoritmos de firma SIGNATURE_ALGORITHMS: { SHA256: 'sha256', SHA1: 'sha1', MD5: 'md5' }, // Estrategias de rate limiting RATE_LIMIT_STRATEGIES: { FIXED_WINDOW: 'fixed-window', SLIDING_WINDOW: 'sliding-window', TOKEN_BUCKET: 'token-bucket' }, // Tipos de transformaci√≥n TRANSFORM_TYPES: { FORMAT: 'format', CONVERT: 'convert', DEFAULT: 'default', CUSTOM: 'custom' }, // Formatos de datos DATA_FORMATS: { JSON: 'json', XML: 'xml', FORM: 'form', TEXT: 'text', BINARY: 'binary' } }; /** Utilidades para el sistema de integraciones / class IntegrationUtils { /** Valida configuraci√≥n de integraci√≥n / static validateConfig(config) { if (!config || typeof config !== 'object') { throw new Error('Configuration must be an object'); } return true; } /** Combina configuraciones / static mergeConfigs(defaultConfig, userConfig) { const merged = JSON.parse(JSON.stringify(defaultConfig)); function deepMerge(target, source) { for (const key in source) { if (source[key] && typeof source[key] === 'object' && !Array.isArray(source[key])) { if (!target[key]) target[key] = {}; deepMerge(target[key], source[key]); } else { target[key] = source[key]; } } } deepMerge(merged, userConfig); return merged; } /** Crea configuraci√≥n optimizada para desarrollo / static createDevelopmentConfig(overrides = {}) { const devConfig = { logging: { enabled: true, level: 'debug' }, metrics: { enabled: true, retention: 3600000 // 1 hora }, apis: { config: { retry: { maxAttempts: 1 }, circuitBreaker: { enabled: false } } }, webhooks: { config: { server: { port: 3001 }, delivery: { maxRetries: 1 } } } }; return this.mergeConfigs(DEFAULT_INTEGRATION_CONFIG, this.mergeConfigs(devConfig, overrides)); } /** Crea configuraci√≥n optimizada para producci√≥n / static createProductionConfig(overrides = {}) { const prodConfig = { logging: { enabled: true, level: 'warn' }, metrics: { enabled: true, retention: 604800000 // 7 d√≠as }, apis: { config: { retry: { maxAttempts: 5 }, circuitBreaker: { enabled: true }, rateLimit: { enabled: true } } }, webhooks: { config: { security: { signature: { enabled: true } }, delivery: { maxRetries: 5 } } } }; return this.mergeConfigs(DEFAULT_INTEGRATION_CONFIG, this.mergeConfigs(prodConfig, overrides)); } /** Obtiene informaci√≥n del sistema / static getSystemInfo() { return { version: '1.0.0', node: process.version, platform: process.platform, arch: process.arch, memory: process.memoryUsage(), uptime: process.uptime() }; } /** Formatea estad√≠sticas para visualizaci√≥n / static formatStats(stats) { return { summary: { totalIntegrations: stats.totalIntegrations, activeIntegrations: stats.activeIntegrations, totalRequests: stats.totalRequests, successRate: stats.totalRequests > 0 ? ((stats.successfulRequests / stats.totalRequests) * 100).toFixed(2) + '%' : '0%', averageResponseTime: stats.averageResponseTime ? stats.averageResponseTime.toFixed(2) + 'ms' : '0ms' }, sync: { totalJobs: stats.syncJobs.total, successfulJobs: stats.syncJobs.successful, failedJobs: stats.syncJobs.failed, successRate: stats.syncJobs.total > 0 ? ((stats.syncJobs.successful / stats.syncJobs.total) * 100).toFixed(2) + '%' : '0%' }, integrations: stats.integrations, components: stats.components }; } /** Genera configuraci√≥n de mapeo b√°sica / static generateBasicMapping(sourceFields, targetFields) { const mapping = {}; sourceFields.forEach((sourceField, index) => { if (targetFields[index]) { mapping[targetFields[index]] = sourceField; } }); return mapping; } /** Valida URL de webhook / static validateWebhookURL(url) { try { const parsed = new URL(url); return parsed.protocol === 'http:' || parsed.protocol === 'https:'; } catch { return false; } } /** Genera firma de webhook / static generateWebhookSignature(payload, secret, algorithm = 'sha256') { const hmac = crypto.createHmac(algorithm, secret); hmac.update(payload); return hmac.digest('hex'); } /** Verifica firma de webhook / static verifyWebhookSignature(payload, signature, secret, algorithm = 'sha256') { const expectedSignature = this.generateWebhookSignature(payload, secret, algorithm); return signature === expectedSignature; } } /** Funciones de f√°brica para crear instancias / /** Crea una instancia de APIManager</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getUnifiedWebhookService</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/index.js</div>
                <div class="item-description">Obtiene la instancia del servicio unificado de webhooks</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createIntegrationManager</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/index.js</div>
                <div class="item-description">Crea una instancia de IntegrationManager</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createIntegrationSystem</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/index.js</div>
                <div class="item-description">Crea un sistema completo de integraciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">init</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/logger.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Core Logger Service Sistema de logging centralizado para el chatbot empresarial <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 6.0.0<br><strong>@since:</strong> 1.0.0 /  import winston from 'winston'; import path from 'path'; import fs from 'fs/promises';  /** Configuraci√≥n del logger / const LOG_LEVELS = { error: 0, warn: 1, info: 2, http: 3, verbose: 4, debug: 5, silly: 6 };  const LOG_COLORS = { error: 'red', warn: 'yellow', info: 'green', http: 'magenta', verbose: 'grey', debug: 'white', silly: 'rainbow' };  /** Clase Logger centralizada / class Logger { constructor(options = {}) { this.options = { level: process.env.LOG_LEVEL || 'info', logDir: process.env.LOG_DIR || 'logs', maxFiles: 5, maxSize: '20m', enableConsole: process.env.NODE_ENV !== 'production', enableFile: true, enableRotation: true, ...options };  this.logger = null; this.initialized = false; this.init(); }  /** Inicializa el logger 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ensureLogDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/logger.js</div>
                <div class="item-description">Asegura que el directorio de logs existe</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createFormats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/logger.js</div>
                <div class="item-description">Crea los formatos de logging</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createTransports</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/logger.js</div>
                <div class="item-description">Crea los transportes de logging</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">error</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/logger.js</div>
                <div class="item-description">M√©todos de logging</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">formatMeta</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/logger.js</div>
                <div class="item-description">Formatea los metadatos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">child</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/logger.js</div>
                <div class="item-description">Crea un logger hijo con contexto espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/logger.js</div>
                <div class="item-description">Obtiene estad√≠sticas del logger</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setLevel</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/logger.js</div>
                <div class="item-description">Cambia el nivel de logging din√°micamente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldLogs</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/logger.js</div>
                <div class="item-description">Limpia logs antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">close</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/logger.js</div>
                <div class="item-description">Cierra el logger</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">constructor</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/MessagingServiceFactory.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Messaging Service Factory  Factory centralizado para la creaci√≥n y gesti√≥n de servicios de mensajer√≠a, eliminando la duplicaci√≥n de c√≥digo y proporcionando una interfaz unificada para WhatsApp, SMS, Email, Push Notifications y otros canales. <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0<br><strong>@since:</strong> 5.0.0 /  import { MessagingServiceFactory } from '../core/Factory.js'; import BaseService from '../core/BaseService.js'; import { globalValidator, DataType, CommonSchemas } from '../core/DataValidator.js'; import { BaseError, ErrorType, ErrorSeverity } from '../core/ErrorHandler.js'; import logger from '../core/logger.js';  /** Tipos de servicios de mensajer√≠a <br><strong>@enum:</strong> {string} / export const MessagingServiceType = { WHATSAPP: 'whatsapp', SMS: 'sms', EMAIL: 'email', PUSH: 'push', TELEGRAM: 'telegram', SLACK: 'slack', DISCORD: 'discord', TEAMS: 'teams' };  /** Tipos de mensajes , {string} / export const MessageType = { TEXT: 'text', MEDIA: 'media', TEMPLATE: 'template', INTERACTIVE: 'interactive', DOCUMENT: 'document', LOCATION: 'location', CONTACT: 'contact' };  /** Estados de mensaje , {string} / export const MessageStatus = { PENDING: 'pending', SENT: 'sent', DELIVERED: 'delivered', READ: 'read', FAILED: 'failed', EXPIRED: 'expired' };  /** Esquemas de validaci√≥n para mensajer√≠a / export const MessagingSchemas = { message: { type: DataType.OBJECT, required: true, properties: { to: { ...CommonSchemas.nonEmptyString, message: 'Destinatario requerido' }, type: { type: DataType.STRING, enum: Object.values(MessageType), required: true }, content: { type: DataType.OBJECT, required: true }, metadata: { type: DataType.OBJECT, required: false, default: {} } } },  textMessage: { type: DataType.OBJECT, required: true, properties: { text: { ...CommonSchemas.nonEmptyString, max: 4096 } } },  mediaMessage: { type: DataType.OBJECT, required: true, properties: { url: CommonSchemas.url, caption: { type: DataType.STRING, max: 1024, required: false }, filename: { type: DataType.STRING, required: false } } },  templateMessage: { type: DataType.OBJECT, required: true, properties: { templateId: CommonSchemas.nonEmptyString, parameters: { type: DataType.ARRAY, required: false, default: [] } } } };  /** Interfaz base para servicios de mensajer√≠a <br><strong>@abstract:</strong> <br><strong>@class:</strong> BaseMessagingService<br><strong>@extends:</strong> BaseService / export class BaseMessagingService extends BaseService { /** Constructor del servicio base de mensajer√≠a <br><strong>@param:</strong> {Object} config - Configuraci√≥n del servicio 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/MessagingServiceFactory.js</div>
                <div class="item-description">Env√≠a un mensaje</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@abstract:</strong> <br><strong>@param:</strong> {Object} message - Mensaje a enviar<br><strong>@returns:</strong> {Promise<Object>} Resultado del env√≠o 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMessageStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/MessagingServiceFactory.js</div>
                <div class="item-description">Obtiene el estado de un mensaje</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@abstract:</strong> <br><strong>@param:</strong> {string} messageId - ID del mensaje<br><strong>@returns:</strong> {Promise<Object>} Estado del mensaje 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/MessagingServiceFactory.js</div>
                <div class="item-description">Valida un mensaje antes del env√≠o</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@protected:</strong> <br><strong>@param:</strong> {Object} message - Mensaje a validar<br><strong>@returns:</strong> {Object} Mensaje validado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/MessagingServiceFactory.js</div>
                <div class="item-description">Procesa un mensaje antes del env√≠o</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@protected:</strong> <br><strong>@param:</strong> {Object} message - Mensaje a procesar<br><strong>@returns:</strong> {Promise<Object>} Mensaje procesado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateMessageId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/MessagingServiceFactory.js</div>
                <div class="item-description">Genera un ID √∫nico para el mensaje</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@protected:</strong> <br><strong>@returns:</strong> {string} ID del mensaje 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkRateLimits</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/MessagingServiceFactory.js</div>
                <div class="item-description">Verifica los l√≠mites de velocidad</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@protected:</strong> <br><strong>@param:</strong> {string} recipient - Destinatario<br><strong>@returns:</strong> {Promise<void>} 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerDeliveryCallback</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/MessagingServiceFactory.js</div>
                <div class="item-description">Registra callback de entrega</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@protected:</strong> <br><strong>@param:</strong> {string} messageId - ID del mensaje, {Function} callback - Callback a ejecutar 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeDeliveryCallback</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/MessagingServiceFactory.js</div>
                <div class="item-description">Ejecuta callback de entrega</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@protected:</strong> <br><strong>@param:</strong> {string} messageId - ID del mensaje, {Object} status - Estado de entrega 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerService</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/MessagingServiceFactory.js</div>
                <div class="item-description">Servicio de WhatsApp</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@class:</strong> WhatsAppService, SMSService, ConcreteMessagingServiceFactory, MessagingManager / export class MessagingManager { constructor() { this.services = new Map(); this.defaultService = null; this.messageHistory = []; this.deliveryStats = { total: 0, sent: 0, delivered: 0, failed: 0, byService: new Map() }; }  /** Registra un servicio de mensajer√≠a <br><strong>@extends:</strong> BaseMessagingService / export class WhatsAppService extends BaseMessagingService { constructor(config = {}) { super({ type: MessagingServiceType.WHATSAPP, provider: config.provider || 'whatsapp-business-api', rateLimits: { enabled: true, maxPerMinute: 80, maxPerDay: 1000, ...config.rateLimits }, ...config });  this.apiUrl = config.apiUrl || 'https://graph.facebook.com/v18.0'; this.phoneNumberId = config.phoneNumberId; this.accessToken = config.accessToken; }  async initialize() { if (!this.phoneNumberId || !this.accessToken) { throw new BaseError('Configuraci√≥n de WhatsApp incompleta', { type: ErrorType.SYSTEM, severity: ErrorSeverity.HIGH, code: 'WHATSAPP_CONFIG_MISSING' }); }  this.state = 'ready'; logger.info('üì± WhatsApp Service inicializado'); }  async stop() { this.cleanup(); logger.info('üì± WhatsApp Service detenido'); }  async sendMessage(message) { return await this.executeOperation('sendMessage', async () => { const processedMessage = await this.processMessage(message);  const payload = this.buildWhatsAppPayload(processedMessage);  const response = await fetch(`${this.apiUrl}/${this.phoneNumberId}/messages`, { method: 'POST', headers: { 'Authorization': `Bearer ${this.accessToken}`, 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });  if (!response.ok) { const error = await response.json(); throw new BaseError(`Error enviando mensaje WhatsApp: ${error.error?.message || 'Unknown error'}`, { type: ErrorType.EXTERNAL_SERVICE, severity: ErrorSeverity.MEDIUM, code: 'WHATSAPP_SEND_FAILED', context: { statusCode: response.status, error } }); }  const result = await response.json();  return { messageId: result.messages[0].id, status: MessageStatus.SENT, provider: this.provider, timestamp: new Date().toISOString(), metadata: processedMessage.metadata }; }); }  async getMessageStatus(messageId) { return await this.executeOperation('getMessageStatus', async () => { // Implementar consulta de estado espec√≠fica de WhatsApp return { messageId, status: MessageStatus.DELIVERED, // Placeholder timestamp: new Date().toISOString() }; }); }  buildWhatsAppPayload(message) { const payload = { messaging_product: 'whatsapp', to: message.to, type: message.type };  switch (message.type) { case MessageType.TEXT: payload.text = { body: message.content.text }; break;  case MessageType.MEDIA: payload.image = { link: message.content.url, caption: message.content.caption }; break;  case MessageType.TEMPLATE: payload.template = { name: message.content.templateId, language: { code: 'es' }, components: message.content.parameters ? [{ type: 'body', parameters: message.content.parameters.map(p => ({ type: 'text', text: p })) }] : [] }; break; }  return payload; } }  /** Servicio de SMS , BaseMessagingService / export class SMSService extends BaseMessagingService { constructor(config = {}) { super({ type: MessagingServiceType.SMS, provider: config.provider || 'twilio', rateLimits: { enabled: true, maxPerMinute: 100, maxPerDay: 2000, ...config.rateLimits }, ...config });  this.accountSid = config.accountSid; this.authToken = config.authToken; this.fromNumber = config.fromNumber; }  async initialize() { if (!this.accountSid || !this.authToken || !this.fromNumber) { throw new BaseError('Configuraci√≥n de SMS incompleta', { type: ErrorType.SYSTEM, severity: ErrorSeverity.HIGH, code: 'SMS_CONFIG_MISSING' }); }  this.state = 'ready'; logger.info('üì® SMS Service inicializado'); }  async stop() { this.cleanup(); logger.info('üì® SMS Service detenido'); }  async sendMessage(message) { return await this.executeOperation('sendMessage', async () => { const processedMessage = await this.processMessage(message);  if (processedMessage.type !== MessageType.TEXT) { throw new BaseError('SMS solo soporta mensajes de texto', { type: ErrorType.VALIDATION, severity: ErrorSeverity.LOW, code: 'SMS_UNSUPPORTED_TYPE' }); }  // Simular env√≠o de SMS (implementar con Twilio, AWS SNS, etc.) const messageId = this.generateMessageId();  return { messageId, status: MessageStatus.SENT, provider: this.provider, timestamp: new Date().toISOString(), metadata: processedMessage.metadata }; }); }  async getMessageStatus(messageId) { return await this.executeOperation('getMessageStatus', async () => { return { messageId, status: MessageStatus.DELIVERED, timestamp: new Date().toISOString() }; }); } }  /** Factory espec√≠fico para servicios de mensajer√≠a , MessagingServiceFactory / export class ConcreteMessagingServiceFactory extends MessagingServiceFactory { constructor() { super(); this.setupDefaultServices(); }  setupDefaultServices() { this.registerService(MessagingServiceType.WHATSAPP, WhatsAppService); this.registerService(MessagingServiceType.SMS, SMSService); }  createService(type, config = {}) { const ServiceClass = this.services.get(type);  if (!ServiceClass) { throw new BaseError(`Tipo de servicio de mensajer√≠a no soportado: ${type}`, { type: ErrorType.VALIDATION, severity: ErrorSeverity.MEDIUM, code: 'UNSUPPORTED_MESSAGING_SERVICE', context: { type, availableTypes: Array.from(this.services.keys()) } }); }  const service = new ServiceClass(config);  logger.info(`üè≠ Servicio de mensajer√≠a creado: ${type}`);  return service; } }  // Instancia global del factory export const messagingServiceFactory = new ConcreteMessagingServiceFactory();  /** Gestor unificado de mensajer√≠a <br><strong>@param:</strong> {MessagingServiceType} type - Tipo de servicio, {Object} config - Configuraci√≥n del servicio<br><strong>@returns:</strong> {Promise<BaseMessagingService>} Servicio creado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/MessagingServiceFactory.js</div>
                <div class="item-description">Env√≠a un mensaje usando el servicio especificado o el por defecto</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {Object} message - Mensaje a enviar, {MessagingServiceType} serviceType - Tipo de servicio (opcional)<br><strong>@returns:</strong> {Promise<Object>} Resultado del env√≠o 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMessageStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/MessagingServiceFactory.js</div>
                <div class="item-description">Obtiene el estado de un mensaje</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} messageId - ID del mensaje, {MessagingServiceType} serviceType - Tipo de servicio<br><strong>@returns:</strong> {Promise<Object>} Estado del mensaje 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateDeliveryStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/MessagingServiceFactory.js</div>
                <div class="item-description">Actualiza estad√≠sticas de entrega</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@private:</strong> <br><strong>@param:</strong> {MessagingServiceType} serviceType - Tipo de servicio, {string} status - Estado del mensaje 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getDeliveryStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/MessagingServiceFactory.js</div>
                <div class="item-description">Obtiene estad√≠sticas de entrega</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Object} Estad√≠sticas de entrega 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getServicesInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/MessagingServiceFactory.js</div>
                <div class="item-description">Obtiene informaci√≥n de todos los servicios</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {Promise<Object>} Informaci√≥n de servicios 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationManager.js</div>
                <div class="item-description">Gestor principal de notificaciones Coordina el env√≠o de notificaciones a trav√©s de m√∫ltiples canales / class NotificationManager extends EventEmitter { constructor(config = {}) { super(); this.config = { // Configuraci√≥n general enabled: true, defaultChannel: 'email', fallbackChannel: 'console', maxRetries: 3, retryDelay: 5000, // Configuraci√≥n de canales channels: { email: { enabled: true, provider: 'smtp', priority: 1, rateLimit: 100, // por minuto config: { host: 'localhost', port: 587, secure: false, auth: { user: '', pass: '' } } }, sms: { enabled: false, provider: 'twilio', priority: 2, rateLimit: 50, config: { accountSid: '', authToken: '', from: '' } }, push: { enabled: false, provider: 'fcm', priority: 3, rateLimit: 200, config: { serverKey: '', projectId: '' } }, webhook: { enabled: true, provider: 'http', priority: 4, rateLimit: 500, config: { timeout: 10000, retries: 3 } }, slack: { enabled: false, provider: 'slack', priority: 5, rateLimit: 100, config: { token: '', defaultChannel: '#general' } }, discord: { enabled: false, provider: 'discord', priority: 6, rateLimit: 100, config: { token: '', defaultChannel: '' } }, console: { enabled: true, provider: 'console', priority: 10, rateLimit: 1000, config: { level: 'info', colors: true } } }, // Configuraci√≥n de plantillas templates: { enabled: true, engine: 'handlebars', directory: './templates', cache: true, defaultLocale: 'es', fallbackLocale: 'en' }, // Configuraci√≥n de programaci√≥n scheduling: { enabled: true, timezone: 'America/Mexico_City', batchSize: 100, batchDelay: 1000 }, // Configuraci√≥n de colas queue: { enabled: true, type: 'memory', // memory, redis, database maxSize: 10000, priority: true, persistence: false, workers: 3 }, // Configuraci√≥n de filtros filters: { enabled: true, duplicates: { enabled: true, window: 300000, // 5 minutos key: ['recipient', 'type', 'subject'] }, rateLimit: { enabled: true, window: 60000, // 1 minuto maxPerRecipient: 10, maxPerChannel: 100 }, blacklist: { enabled: true, recipients: [], domains: [], patterns: [] } }, // Configuraci√≥n de tracking tracking: { enabled: true, delivery: true, opens: true, clicks: true, bounces: true, complaints: true, unsubscribes: true }, // Configuraci√≥n de analytics analytics: { enabled: true, retention: 30, // d√≠as aggregation: ['hourly', 'daily', 'weekly'], metrics: ['sent', 'delivered', 'opened', 'clicked', 'bounced', 'failed'] }, ...config }; this.state = 'initialized'; // Proveedores de canales this.providers = new Map(); // Motor de plantillas this.templateEngine = null; // Cache de plantillas this.templateCache = new Map(); // Cola de notificaciones this.notificationQueue = []; // Workers de procesamiento this.workers = []; // Filtros de notificaciones this.filters = new Map(); // Historial de notificaciones enviadas this.notificationHistory = new Map(); // Estad√≠sticas del gestor this.managerStats = { startTime: Date.now(), totalSent: 0, totalDelivered: 0, totalFailed: 0, byChannel: new Map(), byType: new Map(), averageDeliveryTime: 0, errors: 0, lastNotification: null }; // Rate limiters por canal this.rateLimiters = new Map(); // Timers de programaci√≥n this.scheduledTimers = new Map(); // Logger this.logger = createLogger('NOTIFICATION_MANAGER'); } /** Inicializa el gestor de notificaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">send</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationManager.js</div>
                <div class="item-description">Env√≠a una notificaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendBatch</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationManager.js</div>
                <div class="item-description">Env√≠a m√∫ltiples notificaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scheduleNotification</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationManager.js</div>
                <div class="item-description">Programa una notificaci√≥n para env√≠o futuro</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cancelScheduledNotification</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationManager.js</div>
                <div class="item-description">Cancela una notificaci√≥n programada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">queueNotification</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationManager.js</div>
                <div class="item-description">Agrega una notificaci√≥n a la cola</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processQueue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationManager.js</div>
                <div class="item-description">Procesa la cola de notificaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerProvider</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationManager.js</div>
                <div class="item-description">Registra un proveedor de canal personalizado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerTemplate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationManager.js</div>
                <div class="item-description">Registra una plantilla</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStatistics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationManager.js</div>
                <div class="item-description">Obtiene estad√≠sticas del gestor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getNotificationHistory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationManager.js</div>
                <div class="item-description">Obtiene el historial de notificaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAnalytics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationManager.js</div>
                <div class="item-description">Obtiene m√©tricas de analytics</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationManager.js</div>
                <div class="item-description">Destruye el gestor de notificaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationScheduler.js</div>
                <div class="item-description">Programador de notificaciones Maneja env√≠os diferidos, recurrentes y basados en eventos / class NotificationScheduler extends EventEmitter { constructor(config = {}) { super(); this.config = { // Configuraci√≥n general enabled: true, timezone: 'America/Mexico_City', maxScheduledJobs: 10000, cleanupInterval: 3600000, // 1 hora // Configuraci√≥n de persistencia persistence: { enabled: false, type: 'memory', // memory, file, database file: './scheduled_notifications.json', autoSave: true, saveInterval: 300000 // 5 minutos }, // Configuraci√≥n de ejecuci√≥n execution: { maxConcurrent: 10, retryAttempts: 3, retryDelay: 5000, timeout: 30000 }, // Configuraci√≥n de cron cron: { enabled: true, precision: 'second', // second, minute maxJobs: 1000 }, // Configuraci√≥n de triggers triggers: { enabled: true, maxTriggers: 500, debounce: 1000 }, // Configuraci√≥n de batching batching: { enabled: true, maxBatchSize: 100, batchWindow: 5000, groupBy: ['type', 'channel'] }, // Configuraci√≥n de rate limiting rateLimit: { enabled: true, maxPerSecond: 10, maxPerMinute: 100, maxPerHour: 1000 }, ...config }; this.state = 'initialized'; // Jobs programados this.scheduledJobs = new Map(); // Jobs recurrentes (cron) this.cronJobs = new Map(); // Triggers de eventos this.eventTriggers = new Map(); // Cola de ejecuci√≥n this.executionQueue = []; // Jobs en ejecuci√≥n this.runningJobs = new Set(); // Historial de ejecuciones this.executionHistory = new Map(); // Timers activos this.activeTimers = new Map(); // Intervalos activos this.activeIntervals = new Map(); // Rate limiters this.rateLimiters = { second: { count: 0, resetTime: 0 }, minute: { count: 0, resetTime: 0 }, hour: { count: 0, resetTime: 0 } }; // Estad√≠sticas del programador this.schedulerStats = { startTime: Date.now(), jobsScheduled: 0, jobsExecuted: 0, jobsFailed: 0, jobsCancelled: 0, averageExecutionTime: 0, errors: 0, lastExecution: null }; // Timer de limpieza this.cleanupTimer = null; // Timer de guardado this.saveTimer = null; // Logger this.logger = createLogger('NOTIFICATION_SCHEDULER'); } /** Inicializa el programador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scheduleAt</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationScheduler.js</div>
                <div class="item-description">Programa una notificaci√≥n para una fecha espec√≠fica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scheduleIn</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationScheduler.js</div>
                <div class="item-description">Programa una notificaci√≥n con delay relativo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scheduleCron</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationScheduler.js</div>
                <div class="item-description">Programa una notificaci√≥n recurrente con cron</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scheduleOnEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationScheduler.js</div>
                <div class="item-description">Programa una notificaci√≥n basada en eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scheduleBatch</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationScheduler.js</div>
                <div class="item-description">Programa un lote de notificaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cancelJob</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationScheduler.js</div>
                <div class="item-description">Cancela un job programado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cancelJobs</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationScheduler.js</div>
                <div class="item-description">Cancela m√∫ltiples jobs</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">pauseCronJob</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationScheduler.js</div>
                <div class="item-description">Pausa un job cron</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">resumeCronJob</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationScheduler.js</div>
                <div class="item-description">Reanuda un job cron</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">triggerEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationScheduler.js</div>
                <div class="item-description">Dispara un evento para triggers</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">listJobs</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationScheduler.js</div>
                <div class="item-description">Lista todos los jobs programados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getJob</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationScheduler.js</div>
                <div class="item-description">Obtiene informaci√≥n de un job espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getExecutionHistory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationScheduler.js</div>
                <div class="item-description">Obtiene el historial de ejecuciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStatistics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationScheduler.js</div>
                <div class="item-description">Obtiene estad√≠sticas del programador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/NotificationScheduler.js</div>
                <div class="item-description">Destruye el programador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/TemplateEngine.js</div>
                <div class="item-description">Motor de plantillas para notificaciones Soporta m√∫ltiples formatos y localizaci√≥n / class TemplateEngine extends EventEmitter { constructor(config = {}) { super(); this.config = { // Configuraci√≥n general enabled: true, engine: 'handlebars', // handlebars, mustache, ejs, custom cacheEnabled: true, cacheSize: 1000, // Configuraci√≥n de directorios templatesDir: './templates', partialsDir: './templates/partials', layoutsDir: './templates/layouts', // Configuraci√≥n de localizaci√≥n localization: { enabled: true, defaultLocale: 'es', fallbackLocale: 'en', localesDir: './locales', autoDetect: true }, // Configuraci√≥n de formatos formats: { html: { enabled: true, extension: '.html', contentType: 'text/html' }, text: { enabled: true, extension: '.txt', contentType: 'text/plain' }, markdown: { enabled: true, extension: '.md', contentType: 'text/markdown' }, json: { enabled: true, extension: '.json', contentType: 'application/json' } }, // Configuraci√≥n de helpers helpers: { enabled: true, builtIn: true, custom: {} }, // Configuraci√≥n de validaci√≥n validation: { enabled: true, strict: false, requiredFields: [], allowedTags: ['b', 'i', 'u', 'strong', 'em', 'br', 'p', 'div', 'span'], sanitize: true }, // Configuraci√≥n de compilaci√≥n compilation: { precompile: false, minify: false, compress: false }, // Configuraci√≥n de watch watch: { enabled: false, debounce: 1000 }, ...config }; this.state = 'initialized'; // Cache de plantillas compiladas this.templateCache = new Map(); // Cache de parciales this.partialsCache = new Map(); // Cache de layouts this.layoutsCache = new Map(); // Cache de localizaciones this.localesCache = new Map(); // Helpers registrados this.helpers = new Map(); // Watchers de archivos this.watchers = new Map(); // Estad√≠sticas del motor this.engineStats = { startTime: Date.now(), templatesCompiled: 0, templatesRendered: 0, cacheHits: 0, cacheMisses: 0, errors: 0, averageRenderTime: 0, lastRender: null }; // Motor de plantillas actual this.currentEngine = null; // Logger this.logger = createLogger('TEMPLATE_ENGINE'); } /** Inicializa el motor de plantillas</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@async:</strong> <br><strong>@returns:</strong> {Promise<void>}<br><strong>@throws:</strong> {Error} Si falla la inicializaci√≥n del motor 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">compile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/TemplateEngine.js</div>
                <div class="item-description">Compila una plantilla</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@async:</strong> <br><strong>@param:</strong> {string} templateName - Nombre de la plantilla, {string} source - C√≥digo fuente de la plantilla, {Object} [options={}] - Opciones de compilaci√≥n, {boolean} [options.cache=true] - Si cachear la plantilla compilada, {string} [options.format='html'] - Formato de la plantilla<br><strong>@returns:</strong> {Promise<Function>} Plantilla compilada<br><strong>@throws:</strong> {Error} Si falla la compilaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">render</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/TemplateEngine.js</div>
                <div class="item-description">Renderiza una plantilla con datos</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@async:</strong> <br><strong>@param:</strong> {string} templateName - Nombre de la plantilla a renderizar, {Object} [data={}] - Datos para la plantilla, {Object} [options={}] - Opciones de renderizado, {string} [options.layout] - Layout a aplicar, {string} [options.locale] - Idioma para localizaci√≥n, {string} [options.format='html'] - Formato de salida<br><strong>@returns:</strong> {Promise<string>} Plantilla renderizada<br><strong>@throws:</strong> {Error} Si la plantilla no existe o falla el renderizado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">renderString</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/TemplateEngine.js</div>
                <div class="item-description">Renderiza una plantilla desde string</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerHelper</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/TemplateEngine.js</div>
                <div class="item-description">Registra un helper personalizado</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} name - Nombre del helper, {Function} helperFunction - Funci√≥n del helper<br><strong>@throws:</strong> {Error} Si el nombre ya est√° registrado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerHelpers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/TemplateEngine.js</div>
                <div class="item-description">Registra m√∫ltiples helpers</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerPartial</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/TemplateEngine.js</div>
                <div class="item-description">Registra un partial</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadTemplate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/TemplateEngine.js</div>
                <div class="item-description">Carga una plantilla desde archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveTemplate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/TemplateEngine.js</div>
                <div class="item-description">Guarda una plantilla en archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">listTemplates</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/TemplateEngine.js</div>
                <div class="item-description">Lista todas las plantillas disponibles</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateTemplate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/TemplateEngine.js</div>
                <div class="item-description">Valida una plantilla</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clearCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/TemplateEngine.js</div>
                <div class="item-description">Limpia el cache de plantillas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStatistics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/TemplateEngine.js</div>
                <div class="item-description">Obtiene estad√≠sticas del motor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/TemplateEngine.js</div>
                <div class="item-description">Destruye el motor de plantillas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createNotificationManager</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/index.js</div>
                <div class="item-description">Configuraci√≥n por defecto del sistema de notificaciones / const DEFAULT_NOTIFICATION_CONFIG = { // Configuraci√≥n general enabled: true, environment: process.env.NODE_ENV || 'development', debug: process.env.NODE_ENV !== 'production', // Configuraci√≥n del gestor de notificaciones manager: { maxConcurrentNotifications: 100, defaultPriority: 'medium', enableBatching: true, batchSize: 50, batchTimeout: 5000, enableRetries: true, maxRetries: 3, retryDelay: 1000, enableDeduplication: true, deduplicationWindow: 300000, // 5 minutos enableRateLimiting: true, globalRateLimit: { maxPerSecond: 10, maxPerMinute: 500, maxPerHour: 5000 } }, // Configuraci√≥n de canales channels: { email: { enabled: true, priority: 1, provider: 'EmailProvider', config: { smtp: { host: process.env.SMTP_HOST || 'localhost', port: parseInt(process.env.SMTP_PORT) || 587, secure: process.env.SMTP_SECURE === 'true', auth: { user: process.env.SMTP_USER || '', pass: process.env.SMTP_PASS || '' } }, from: { name: process.env.EMAIL_FROM_NAME || 'Notification System', address: process.env.EMAIL_FROM_ADDRESS || 'noreply@example.com' } } }, sms: { enabled: false, priority: 2, provider: 'SMSProvider', config: { service: 'twilio', twilio: { accountSid: process.env.TWILIO_ACCOUNT_SID || '', authToken: process.env.TWILIO_AUTH_TOKEN || '', from: process.env.TWILIO_FROM_NUMBER || '' } } }, push: { enabled: false, priority: 3, provider: 'PushProvider', config: { fcm: { enabled: true, serverKey: process.env.FCM_SERVER_KEY || '', projectId: process.env.FCM_PROJECT_ID || '' }, apns: { enabled: false, keyId: process.env.APNS_KEY_ID || '', teamId: process.env.APNS_TEAM_ID || '', bundleId: process.env.APNS_BUNDLE_ID || '' } } }, webhook: { enabled: false, priority: 4, provider: 'WebhookProvider', config: { webhooks: { default: { url: process.env.WEBHOOK_URL || '', method: 'POST', auth: { type: 'bearer', token: process.env.WEBHOOK_TOKEN || '' } } } } }, slack: { enabled: false, priority: 5, provider: 'SlackProvider', config: { slack: { botToken: process.env.SLACK_BOT_TOKEN || '', webhookUrl: process.env.SLACK_WEBHOOK_URL || '' }, channels: { default: '#general', alerts: '#alerts', notifications: '#notifications' } } } }, // Configuraci√≥n del motor de plantillas templates: { engine: 'handlebars', directory: './templates', cache: { enabled: true, maxSize: 100, ttl: 3600000 // 1 hora }, localization: { enabled: false, defaultLocale: 'en', directory: './locales' }, formats: ['html', 'text', 'markdown'], helpers: { builtin: true, custom: {} } }, // Configuraci√≥n del programador scheduler: { enabled: true, timezone: process.env.TZ || 'UTC', persistence: { type: 'memory', file: './data/scheduled-jobs.json' }, execution: { maxConcurrency: 10, maxRetries: 3, timeout: 30000 }, cron: { precision: 'second', maxJobs: 1000 } }, // Configuraci√≥n de colas queues: { type: 'memory', // memory, redis, database maxSize: 10000, priority: { enabled: true, levels: ['low', 'medium', 'high', 'urgent'] }, persistence: { enabled: false, interval: 60000 }, workers: { count: 5, concurrency: 10 } }, // Configuraci√≥n de filtros filters: { duplicates: { enabled: true, window: 300000, // 5 minutos fields: ['recipient', 'title', 'message'] }, rateLimit: { enabled: true, perRecipient: { maxPerMinute: 10, maxPerHour: 100, maxPerDay: 500 } }, blacklist: { enabled: false, recipients: [], domains: [] } }, // Configuraci√≥n de tracking tracking: { enabled: true, delivery: { enabled: true, timeout: 300000 // 5 minutos }, opens: { enabled: false, trackingPixel: true }, clicks: { enabled: false, trackingLinks: true }, bounces: { enabled: true, handleBounces: true }, complaints: { enabled: true, handleComplaints: true }, unsubscribes: { enabled: false, handleUnsubscribes: true } }, // Configuraci√≥n de analytics analytics: { enabled: true, retention: { events: 30, // d√≠as metrics: 90, // d√≠as reports: 365 // d√≠as }, aggregation: { enabled: true, intervals: ['hour', 'day', 'week', 'month'] }, metrics: { delivery: true, engagement: true, performance: true, errors: true } } }; /** Utilidades del sistema de notificaciones / class NotificationUtils { /** Valida una configuraci√≥n de notificaci√≥n / static validateConfig(config) { const errors = []; // Validar configuraci√≥n de canales if (!config.channels || Object.keys(config.channels).length === 0) { errors.push('At least one notification channel must be configured'); } // Validar canales habilitados const enabledChannels = Object.entries(config.channels) .filter(([_, channelConfig]) => channelConfig.enabled); if (enabledChannels.length === 0) { errors.push('At least one notification channel must be enabled'); } // Validar configuraci√≥n de proveedores for (const [channelName, channelConfig] of enabledChannels) { if (!channelConfig.provider) { errors.push(`Channel '${channelName}' must specify a provider`); } if (!channelConfig.config) { errors.push(`Channel '${channelName}' must have configuration`); } } if (errors.length > 0) { throw new Error(`Configuration validation failed:\n${errors.join('\n')}`); } return true; } /** Combina configuraciones / static mergeConfigs(defaultConfig, userConfig) { return this._deepMerge(defaultConfig, userConfig); } /** Crea una configuraci√≥n optimizada para desarrollo / static createDevelopmentConfig(overrides = {}) { return this.mergeConfigs(DEFAULT_NOTIFICATION_CONFIG, { environment: 'development', debug: true, manager: { enableRetries: false, enableRateLimiting: false }, channels: { email: { enabled: true, config: { smtp: { host: 'localhost', port: 1025, // MailHog default port secure: false, auth: false } } } }, scheduler: { persistence: { type: 'memory' } }, queues: { type: 'memory', persistence: { enabled: false } }, ...overrides }); } /** Crea una configuraci√≥n optimizada para producci√≥n / static createProductionConfig(overrides = {}) { return this.mergeConfigs(DEFAULT_NOTIFICATION_CONFIG, { environment: 'production', debug: false, manager: { enableRetries: true, enableRateLimiting: true, enableDeduplication: true }, scheduler: { persistence: { type: 'file' } }, queues: { type: 'redis', persistence: { enabled: true } }, tracking: { enabled: true, delivery: { enabled: true }, opens: { enabled: true }, clicks: { enabled: true } }, analytics: { enabled: true, retention: { events: 90, metrics: 365, reports: 1095 // 3 a√±os } }, ...overrides }); } /** Obtiene informaci√≥n del sistema / static getSystemInfo() { return { version: '1.0.0', node: process.version, platform: process.platform, arch: process.arch, memory: process.memoryUsage(), uptime: process.uptime(), environment: process.env.NODE_ENV || 'development' }; } /** Formatea estad√≠sticas para visualizaci√≥n / static formatStats(stats) { return { summary: { total: stats.sent + stats.failed, sent: stats.sent, failed: stats.failed, successRate: stats.sent + stats.failed > 0 ? ((stats.sent / (stats.sent + stats.failed)) * 100).toFixed(2) + '%' : '0%' }, performance: { lastSent: stats.lastSent ? new Date(stats.lastSent).toISOString() : null, errors: stats.errors, averageResponseTime: stats.averageResponseTime || 0 }, details: stats }; } // M√©todo privado para merge profundo static _deepMerge(target, source) { const result = { ...target }; for (const key in source) { if (source[key] && typeof source[key] === 'object' && !Array.isArray(source[key])) { result[key] = this._deepMerge(target[key] || {}, source[key]); } else { result[key] = source[key]; } } return result; } } /** Constantes del sistema de notificaciones / const NOTIFICATION_CONSTANTS = { // Eventos del sistema EVENTS: { INITIALIZED: 'initialized', NOTIFICATION_SENT: 'notification:sent', NOTIFICATION_FAILED: 'notification:failed', NOTIFICATION_DELIVERED: 'notification:delivered', NOTIFICATION_OPENED: 'notification:opened', NOTIFICATION_CLICKED: 'notification:clicked', NOTIFICATION_BOUNCED: 'notification:bounced', NOTIFICATION_COMPLAINED: 'notification:complained', NOTIFICATION_UNSUBSCRIBED: 'notification:unsubscribed', PROVIDER_INITIALIZED: 'provider:initialized', PROVIDER_ERROR: 'provider:error', PROVIDER_HEALTH_CHECK: 'provider:health', SCHEDULER_JOB_SCHEDULED: 'scheduler:job:scheduled', SCHEDULER_JOB_EXECUTED: 'scheduler:job:executed', SCHEDULER_JOB_FAILED: 'scheduler:job:failed', TEMPLATE_COMPILED: 'template:compiled', TEMPLATE_RENDERED: 'template:rendered', TEMPLATE_ERROR: 'template:error', QUEUE_ADDED: 'queue:added', QUEUE_PROCESSED: 'queue:processed', QUEUE_FAILED: 'queue:failed' }, // Estados del sistema STATES: { INITIALIZED: 'initialized', READY: 'ready', PROCESSING: 'processing', ERROR: 'error', DESTROYED: 'destroyed' }, // Prioridades de notificaci√≥n PRIORITIES: { LOW: 'low', MEDIUM: 'medium', HIGH: 'high', URGENT: 'urgent' }, // Tipos de notificaci√≥n TYPES: { INFO: 'info', SUCCESS: 'success', WARNING: 'warning', ERROR: 'error', ALERT: 'alert' }, // Canales de notificaci√≥n CHANNELS: { EMAIL: 'email', SMS: 'sms', PUSH: 'push', WEBHOOK: 'webhook', SLACK: 'slack', DISCORD: 'discord', CONSOLE: 'console' }, // Estados de notificaci√≥n NOTIFICATION_STATES: { PENDING: 'pending', QUEUED: 'queued', PROCESSING: 'processing', SENT: 'sent', DELIVERED: 'delivered', FAILED: 'failed', BOUNCED: 'bounced', COMPLAINED: 'complained', UNSUBSCRIBED: 'unsubscribed' }, // Formatos de plantilla TEMPLATE_FORMATS: { HTML: 'html', TEXT: 'text', MARKDOWN: 'markdown', JSON: 'json' }, // Motores de plantilla TEMPLATE_ENGINES: { HANDLEBARS: 'handlebars', MUSTACHE: 'mustache', EJS: 'ejs', CUSTOM: 'custom' } }; /** Funciones de f√°brica para crear instancias / /** Crea una instancia del gestor de notificaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createTemplateEngine</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/index.js</div>
                <div class="item-description">Crea una instancia del motor de plantillas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createNotificationScheduler</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/index.js</div>
                <div class="item-description">Crea una instancia del programador de notificaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createProvider</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/index.js</div>
                <div class="item-description">Crea un proveedor de notificaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createNotificationSystem</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/index.js</div>
                <div class="item-description">Crea un sistema completo de notificaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/EmailProvider.js</div>
                <div class="item-description">Proveedor de notificaciones por email Soporta m√∫ltiples servicios SMTP y plantillas HTML/texto / class EmailProvider extends EventEmitter { constructor(config = {}) { super(); this.config = { // Configuraci√≥n del proveedor name: 'email', enabled: true, priority: 1, // Configuraci√≥n SMTP smtp: { host: 'smtp.gmail.com', port: 587, secure: false, // true para 465, false para otros puertos auth: { user: process.env.SMTP_USER || '', pass: process.env.SMTP_PASS || '' }, pool: true, maxConnections: 5, maxMessages: 100, rateDelta: 1000, rateLimit: 5 }, // Configuraci√≥n de remitente from: { name: 'Sistema de Notificaciones', email: process.env.FROM_EMAIL || 'noreply@example.com' }, // Configuraci√≥n de plantillas templates: { enabled: true, defaultTemplate: 'default', htmlEnabled: true, textFallback: true }, // Configuraci√≥n de adjuntos attachments: { enabled: true, maxSize: 25 * 1024 * 1024, // 25MB allowedTypes: ['pdf', 'doc', 'docx', 'xls', 'xlsx', 'jpg', 'png', 'gif'] }, // Configuraci√≥n de tracking tracking: { enabled: true, openTracking: true, clickTracking: true, unsubscribeLink: true }, // Configuraci√≥n de retry retry: { attempts: 3, delay: 5000, backoff: 'exponential' }, // Configuraci√≥n de rate limiting rateLimit: { enabled: true, maxPerSecond: 5, maxPerMinute: 100, maxPerHour: 1000 }, ...config }; this.state = 'initialized'; this.transporter = null; // Estad√≠sticas del proveedor this.stats = { sent: 0, failed: 0, bounced: 0, opened: 0, clicked: 0, unsubscribed: 0, lastSent: null, errors: 0 }; // Rate limiter this.rateLimiter = { second: { count: 0, resetTime: 0 }, minute: { count: 0, resetTime: 0 }, hour: { count: 0, resetTime: 0 } }; // Cola de env√≠o this.sendQueue = []; this.processing = false; } /** Inicializa el proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">send</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/EmailProvider.js</div>
                <div class="item-description">Env√≠a una notificaci√≥n por email</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendBatch</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/EmailProvider.js</div>
                <div class="item-description">Env√≠a m√∫ltiples notificaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/EmailProvider.js</div>
                <div class="item-description">Verifica el estado del proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStatistics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/EmailProvider.js</div>
                <div class="item-description">Obtiene estad√≠sticas del proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/EmailProvider.js</div>
                <div class="item-description">Destruye el proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/PushProvider.js</div>
                <div class="item-description">Proveedor de notificaciones push Soporta FCM (Firebase Cloud Messaging) y APNs (Apple Push Notification service) / class PushProvider extends EventEmitter { constructor(config = {}) { super(); this.config = { // Configuraci√≥n del proveedor name: 'push', enabled: true, priority: 3, // Configuraci√≥n de FCM (Firebase Cloud Messaging) fcm: { enabled: true, serverKey: process.env.FCM_SERVER_KEY || '', senderId: process.env.FCM_SENDER_ID || '', projectId: process.env.FCM_PROJECT_ID || '', serviceAccountPath: process.env.FCM_SERVICE_ACCOUNT_PATH || null }, // Configuraci√≥n de APNs (Apple Push Notification service) apns: { enabled: true, keyId: process.env.APNS_KEY_ID || '', teamId: process.env.APNS_TEAM_ID || '', bundleId: process.env.APNS_BUNDLE_ID || '', keyPath: process.env.APNS_KEY_PATH || '', production: process.env.NODE_ENV === 'production' }, // Configuraci√≥n de Web Push webPush: { enabled: true, vapidPublicKey: process.env.VAPID_PUBLIC_KEY || '', vapidPrivateKey: process.env.VAPID_PRIVATE_KEY || '', subject: process.env.VAPID_SUBJECT || 'mailto:admin@example.com' }, // Configuraci√≥n de mensajes message: { defaultTtl: 86400, // 24 horas maxPayloadSize: 4096, collapseKey: null, priority: 'high', // high, normal restrictedPackageName: null }, // Configuraci√≥n de retry retry: { attempts: 3, delay: 1000, backoff: 'exponential' }, // Configuraci√≥n de rate limiting rateLimit: { enabled: true, maxPerSecond: 10, maxPerMinute: 500, maxPerHour: 10000 }, // Configuraci√≥n de tracking tracking: { enabled: true, deliveryReceipts: true, clickTracking: true, customData: true }, // Configuraci√≥n de topics topics: { enabled: true, maxSubscriptions: 1000000, defaultTopic: 'general' }, ...config }; this.state = 'initialized'; this.fcmClient = null; this.apnsClient = null; this.webPushClient = null; // Estad√≠sticas del proveedor this.stats = { sent: 0, failed: 0, delivered: 0, clicked: 0, dismissed: 0, lastSent: null, errors: 0, byPlatform: { android: { sent: 0, failed: 0 }, ios: { sent: 0, failed: 0 }, web: { sent: 0, failed: 0 } } }; // Rate limiter this.rateLimiter = { second: { count: 0, resetTime: 0 }, minute: { count: 0, resetTime: 0 }, hour: { count: 0, resetTime: 0 } }; // Cache de tokens v√°lidos this.tokenCache = new Map(); } /** Inicializa el proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">send</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/PushProvider.js</div>
                <div class="item-description">Env√≠a una notificaci√≥n push</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendToTopic</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/PushProvider.js</div>
                <div class="item-description">Env√≠a notificaci√≥n a un topic</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">subscribeToTopic</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/PushProvider.js</div>
                <div class="item-description">Suscribe un token a un topic</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unsubscribeFromTopic</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/PushProvider.js</div>
                <div class="item-description">Desuscribe un token de un topic</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendBatch</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/PushProvider.js</div>
                <div class="item-description">Env√≠a m√∫ltiples notificaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/PushProvider.js</div>
                <div class="item-description">Verifica el estado del proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStatistics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/PushProvider.js</div>
                <div class="item-description">Obtiene estad√≠sticas del proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/PushProvider.js</div>
                <div class="item-description">Destruye el proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/SMSProvider.js</div>
                <div class="item-description">Proveedor de notificaciones por SMS Soporta m√∫ltiples servicios como Twilio, AWS SNS, etc. / class SMSProvider extends EventEmitter { constructor(config = {}) { super(); this.config = { // Configuraci√≥n del proveedor name: 'sms', enabled: true, priority: 2, // Configuraci√≥n del servicio service: 'twilio', // twilio, aws-sns, nexmo, custom // Configuraci√≥n de Twilio twilio: { accountSid: process.env.TWILIO_ACCOUNT_SID || '', authToken: process.env.TWILIO_AUTH_TOKEN || '', fromNumber: process.env.TWILIO_FROM_NUMBER || '', messagingServiceSid: process.env.TWILIO_MESSAGING_SERVICE_SID || null }, // Configuraci√≥n de AWS SNS awsSns: { region: process.env.AWS_REGION || 'us-east-1', accessKeyId: process.env.AWS_ACCESS_KEY_ID || '', secretAccessKey: process.env.AWS_SECRET_ACCESS_KEY || '', defaultSenderId: process.env.AWS_SNS_SENDER_ID || 'NotifSys' }, // Configuraci√≥n de mensajes message: { maxLength: 160, encoding: 'UTF-8', splitLongMessages: true, concatenationLimit: 5 }, // Configuraci√≥n de validaci√≥n validation: { phoneNumberFormat: 'E164', // E164, national, international validateNumbers: true, allowedCountries: [], // Vac√≠o = todos los pa√≠ses blockedNumbers: [] }, // Configuraci√≥n de retry retry: { attempts: 3, delay: 2000, backoff: 'exponential' }, // Configuraci√≥n de rate limiting rateLimit: { enabled: true, maxPerSecond: 1, maxPerMinute: 10, maxPerHour: 100 }, // Configuraci√≥n de tracking tracking: { enabled: true, deliveryReceipts: true, statusCallbackUrl: null }, ...config }; this.state = 'initialized'; this.client = null; // Estad√≠sticas del proveedor this.stats = { sent: 0, failed: 0, delivered: 0, undelivered: 0, queued: 0, lastSent: null, errors: 0, totalCost: 0 }; // Rate limiter this.rateLimiter = { second: { count: 0, resetTime: 0 }, minute: { count: 0, resetTime: 0 }, hour: { count: 0, resetTime: 0 } }; // Cache de validaci√≥n de n√∫meros this.phoneValidationCache = new Map(); } /** Inicializa el proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">send</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/SMSProvider.js</div>
                <div class="item-description">Env√≠a una notificaci√≥n por SMS</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendBatch</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/SMSProvider.js</div>
                <div class="item-description">Env√≠a m√∫ltiples notificaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/SMSProvider.js</div>
                <div class="item-description">Verifica el estado del proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStatistics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/SMSProvider.js</div>
                <div class="item-description">Obtiene estad√≠sticas del proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/SMSProvider.js</div>
                <div class="item-description">Destruye el proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/SlackProvider.js</div>
                <div class="item-description">Proveedor de notificaciones para Slack Env√≠a notificaciones a canales de Slack y mensajes directos / class SlackProvider extends EventEmitter { constructor(config = {}) { super(); this.config = { // Configuraci√≥n del proveedor name: 'slack', enabled: true, priority: 5, // Configuraci√≥n de Slack slack: { botToken: process.env.SLACK_BOT_TOKEN || '', webhookUrl: process.env.SLACK_WEBHOOK_URL || '', appToken: process.env.SLACK_APP_TOKEN || '', signingSecret: process.env.SLACK_SIGNING_SECRET || '' }, // Configuraci√≥n de canales channels: { default: '#general', alerts: '#alerts', notifications: '#notifications', errors: '#errors' }, // Configuraci√≥n de mensajes message: { username: 'NotificationBot', iconEmoji: ':bell:', iconUrl: null, linkNames: true, unfurlLinks: false, unfurlMedia: false, markdown: true, maxLength: 4000 }, // Configuraci√≥n de formato formatting: { enableBlocks: true, enableAttachments: true, enableThreads: false, colorScheme: { info: '#36a64f', warning: '#ff9500', error: '#ff0000', success: '#36a64f' } }, // Configuraci√≥n de retry retry: { attempts: 3, delay: 1000, backoff: 'exponential' }, // Configuraci√≥n de rate limiting rateLimit: { enabled: true, maxPerSecond: 1, maxPerMinute: 50, maxPerHour: 1000 }, // Configuraci√≥n de tracking tracking: { enabled: true, includeTimestamp: true, includeSource: true, threadReplies: false }, // Configuraci√≥n de usuarios users: { mentionUsers: false, userMapping: { // 'email@example.com': 'U1234567890' } }, ...config }; this.state = 'initialized'; this.httpClient = null; // Estad√≠sticas del proveedor this.stats = { sent: 0, failed: 0, delivered: 0, lastSent: null, errors: 0, byChannel: {}, byType: { channel: 0, dm: 0, webhook: 0 } }; // Rate limiter this.rateLimiter = { second: { count: 0, resetTime: 0 }, minute: { count: 0, resetTime: 0 }, hour: { count: 0, resetTime: 0 } }; // Cache de canales y usuarios this.channelCache = new Map(); this.userCache = new Map(); } /** Inicializa el proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">send</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/SlackProvider.js</div>
                <div class="item-description">Env√≠a una notificaci√≥n a Slack</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendRich</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/SlackProvider.js</div>
                <div class="item-description">Env√≠a una notificaci√≥n con formato enriquecido</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendToChannels</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/SlackProvider.js</div>
                <div class="item-description">Env√≠a una notificaci√≥n a m√∫ltiples canales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendDirectMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/SlackProvider.js</div>
                <div class="item-description">Env√≠a un mensaje directo a un usuario</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">replyToThread</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/SlackProvider.js</div>
                <div class="item-description">Responde en un hilo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/SlackProvider.js</div>
                <div class="item-description">Actualiza un mensaje existente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deleteMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/SlackProvider.js</div>
                <div class="item-description">Elimina un mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getChannelInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/SlackProvider.js</div>
                <div class="item-description">Obtiene informaci√≥n de un canal</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendBatch</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/SlackProvider.js</div>
                <div class="item-description">Env√≠a m√∫ltiples notificaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/SlackProvider.js</div>
                <div class="item-description">Verifica el estado del proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStatistics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/SlackProvider.js</div>
                <div class="item-description">Obtiene estad√≠sticas del proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/SlackProvider.js</div>
                <div class="item-description">Destruye el proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/WebhookProvider.js</div>
                <div class="item-description">Proveedor de notificaciones webhook Env√≠a notificaciones a URLs externas mediante HTTP/HTTPS / class WebhookProvider extends EventEmitter { constructor(config = {}) { super(); this.config = { // Configuraci√≥n del proveedor name: 'webhook', enabled: true, priority: 4, // Configuraci√≥n de HTTP http: { timeout: 30000, maxRedirects: 5, validateStatus: (status) => status >= 200 && status < 300, headers: { 'Content-Type': 'application/json', 'User-Agent': 'NotificationSystem/1.0' } }, // Configuraci√≥n de autenticaci√≥n auth: { type: 'none', // none, bearer, basic, apikey, signature bearer: { token: process.env.WEBHOOK_BEARER_TOKEN || '' }, basic: { username: process.env.WEBHOOK_USERNAME || '', password: process.env.WEBHOOK_PASSWORD || '' }, apiKey: { header: 'X-API-Key', value: process.env.WEBHOOK_API_KEY || '' }, signature: { secret: process.env.WEBHOOK_SECRET || '', algorithm: 'sha256', header: 'X-Signature' } }, // Configuraci√≥n de retry retry: { attempts: 3, delay: 1000, backoff: 'exponential', retryCondition: (error) => { return error.response?.status >= 500 || error.code === 'ECONNRESET' || error.code === 'ETIMEDOUT'; } }, // Configuraci√≥n de rate limiting rateLimit: { enabled: true, maxPerSecond: 5, maxPerMinute: 100, maxPerHour: 1000 }, // Configuraci√≥n de payload payload: { format: 'json', // json, form, xml template: null, includeMetadata: true, customFields: {} }, // Configuraci√≥n de verificaci√≥n verification: { enabled: false, endpoint: null, challenge: null }, // Configuraci√≥n de tracking tracking: { enabled: true, includeId: true, includeTimestamp: true, includeSource: true }, // Configuraci√≥n de webhooks espec√≠ficos webhooks: { // Ejemplo: // 'webhook-name': { //     url: 'https://example.com/webhook', //     method: 'POST', //     auth: { type: 'bearer', token: 'xxx' }, //     headers: {}, //     enabled: true // } }, ...config }; this.state = 'initialized'; this.httpClient = null; // Estad√≠sticas del proveedor this.stats = { sent: 0, failed: 0, delivered: 0, lastSent: null, errors: 0, byWebhook: {}, byStatusCode: {}, responseTime: { total: 0, count: 0, average: 0, min: Infinity, max: 0 } }; // Rate limiter this.rateLimiter = { second: { count: 0, resetTime: 0 }, minute: { count: 0, resetTime: 0 }, hour: { count: 0, resetTime: 0 } }; // Cache de webhooks verificados this.verifiedWebhooks = new Set(); } /** Inicializa el proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">send</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/WebhookProvider.js</div>
                <div class="item-description">Env√≠a una notificaci√≥n webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendBatch</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/WebhookProvider.js</div>
                <div class="item-description">Env√≠a m√∫ltiples notificaciones webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerWebhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/WebhookProvider.js</div>
                <div class="item-description">Registra un nuevo webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unregisterWebhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/WebhookProvider.js</div>
                <div class="item-description">Desregistra un webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">verifyWebhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/WebhookProvider.js</div>
                <div class="item-description">Verifica un webhook espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/WebhookProvider.js</div>
                <div class="item-description">Verifica el estado del proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStatistics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/WebhookProvider.js</div>
                <div class="item-description">Obtiene estad√≠sticas del proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/providers/WebhookProvider.js</div>
                <div class="item-description">Destruye el proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Analizador de Componentes UI Maneja el an√°lisis y documentaci√≥n de componentes de interfaz de usuario / import fs from 'fs'; import path from 'path'; import { createLogger } from '../../core/core/logger.js'; class ComponentAnalyzer { constructor(config = {}) { this.config = { outputDir: config.outputDir || './docs/components', componentsDir: config.componentsDir || './public', srcComponentsDir: config.srcComponentsDir || './src/components', excludePatterns: config.excludePatterns || ['node_modules', '.git', 'tests'], ...config }; this.logger = createLogger('COMPONENT_ANALYZER'); } /** Genera documentaci√≥n de componentes completa</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ensureOutputDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Asegura que el directorio de salida existe</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scanComponents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Escanea componentes del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scanHTMLComponents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Escanea componentes HTML</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scanJSComponents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Escanea componentes JavaScript</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scanCSSComponents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Escanea componentes CSS</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeHTMLComponent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Analiza componente HTML</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeJSComponent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Analiza componente JavaScript</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeCSSComponent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Analiza componente CSS</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeInteractiveElements</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Analiza elementos interactivos en HTML</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeHTMLStructure</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Analiza estructura HTML</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractInlineStyles</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Extrae estilos inline</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractScripts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Extrae scripts</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractDocComment</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Extrae comentario de documentaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractClasses</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Extrae clases de JavaScript</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractFunctions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Extrae funciones de JavaScript</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractImports</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Extrae imports de JavaScript</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractExports</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Extrae exports de JavaScript</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeDependencies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Analiza dependencias</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractCSSSelectors</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Extrae selectores CSS</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractCSSVariables</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Extrae variables CSS</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractMediaQueries</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Extrae media queries</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractAnimations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Extrae animaciones CSS</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateHTML</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Genera documentaci√≥n HTML</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateComponentHTML</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Genera HTML para un componente individual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateCatalog</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Genera cat√°logo de componentes en JSON</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scanDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Escanea directorio con filtros de extensi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getFileSize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Obtiene el tama√±o del archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getLastModified</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Obtiene la fecha de √∫ltima modificaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Obtiene estad√≠sticas de los componentes analizados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/components/ComponentAnalyzer.js</div>
                <div class="item-description">Valida la configuraci√≥n del analizador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeGenerators</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/core/DocumentationCoordinator.js</div>
                <div class="item-description">Coordinador de Documentaci√≥n Orquesta todos los generadores de documentaci√≥n y coordina la generaci√≥n completa / import fs from 'fs'; import path from 'path'; import { createLogger } from '../../core/core/logger.js'; import JSDocGenerator from '../jsdoc/JSDocGenerator.js'; import SwaggerGenerator from '../swagger/SwaggerGenerator.js'; import ComponentAnalyzer from '../components/ComponentAnalyzer.js'; import ReadmeGenerator from '../readme/ReadmeGenerator.js'; class DocumentationCoordinator { constructor(config = {}) { this.config = { outputDir: config.outputDir || './docs', projectRoot: config.projectRoot || '.', sourceDir: config.sourceDir || './src', publicDir: config.publicDir || './public', generateJSDoc: config.generateJSDoc !== false, generateSwagger: config.generateSwagger !== false, generateComponents: config.generateComponents !== false, generateReadme: config.generateReadme !== false, generateIndex: config.generateIndex !== false, ...config }; this.logger = createLogger('DOC_COORDINATOR'); this.generators = {}; this.stats = { startTime: null, endTime: null, duration: 0, generated: { jsdoc: false, swagger: false, components: false, readme: false, index: false }, errors: [], warnings: [] }; this.initializeGenerators(); } /** Inicializa todos los generadores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateAll</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/core/DocumentationCoordinator.js</div>
                <div class="item-description">Genera toda la documentaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeGenerationPipeline</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/core/DocumentationCoordinator.js</div>
                <div class="item-description">Ejecuta el pipeline de generaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeWithErrorHandling</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/core/DocumentationCoordinator.js</div>
                <div class="item-description">Ejecuta una tarea con manejo de errores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ensureOutputDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/core/DocumentationCoordinator.js</div>
                <div class="item-description">Asegura que el directorio de salida existe</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateMainIndex</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/core/DocumentationCoordinator.js</div>
                <div class="item-description">Genera el √≠ndice principal de documentaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateIndexHTML</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/core/DocumentationCoordinator.js</div>
                <div class="item-description">Genera el HTML del √≠ndice principal</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateIndexData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/core/DocumentationCoordinator.js</div>
                <div class="item-description">Genera datos del √≠ndice en formato JSON</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPackageInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/core/DocumentationCoordinator.js</div>
                <div class="item-description">Obtiene informaci√≥n del package.json</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateFinalStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/core/DocumentationCoordinator.js</div>
                <div class="item-description">Calcula estad√≠sticas finales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateSpecific</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/core/DocumentationCoordinator.js</div>
                <div class="item-description">Genera solo un tipo espec√≠fico de documentaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getGeneratorsStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/core/DocumentationCoordinator.js</div>
                <div class="item-description">Obtiene el estado de todos los generadores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clean</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/core/DocumentationCoordinator.js</div>
                <div class="item-description">Limpia la documentaci√≥n generada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getProjectStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/core/DocumentationCoordinator.js</div>
                <div class="item-description">Obtiene estad√≠sticas del proyecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scanDirectoryStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/core/DocumentationCoordinator.js</div>
                <div class="item-description">Escanea un directorio para obtener estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/core/DocumentationCoordinator.js</div>
                <div class="item-description">Valida la configuraci√≥n del coordinador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/jsdoc/JSDocGenerator.js</div>
                <div class="item-description">Generador de Documentaci√≥n JSDoc Maneja la extracci√≥n de comentarios JSDoc y generaci√≥n de documentaci√≥n HTML / import fs from 'fs'; import path from 'path'; import { createLogger } from '../../core/core/logger.js'; class JSDocGenerator { constructor(config = {}) { this.config = { sourceDir: config.sourceDir || './src', outputDir: config.outputDir || './docs/jsdoc', excludePatterns: config.excludePatterns || ['node_modules', '.git', 'tests'], ...config }; this.logger = createLogger('JSDOC_GENERATOR'); } /** Genera documentaci√≥n JSDoc completa</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ensureOutputDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/jsdoc/JSDocGenerator.js</div>
                <div class="item-description">Asegura que el directorio de salida existe</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scanSourceFiles</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/jsdoc/JSDocGenerator.js</div>
                <div class="item-description">Escanea archivos fuente para documentaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isSourceFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/jsdoc/JSDocGenerator.js</div>
                <div class="item-description">Verifica si un archivo es un archivo fuente v√°lido</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractJSDocComments</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/jsdoc/JSDocGenerator.js</div>
                <div class="item-description">Extrae comentarios JSDoc de los archivos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractClasses</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/jsdoc/JSDocGenerator.js</div>
                <div class="item-description">Extrae informaci√≥n de clases</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractFunctions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/jsdoc/JSDocGenerator.js</div>
                <div class="item-description">Extrae informaci√≥n de funciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractModules</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/jsdoc/JSDocGenerator.js</div>
                <div class="item-description">Extrae informaci√≥n de m√≥dulos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractConstants</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/jsdoc/JSDocGenerator.js</div>
                <div class="item-description">Extrae constantes importantes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">parseJSDocComment</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/jsdoc/JSDocGenerator.js</div>
                <div class="item-description">Parsea comentarios JSDoc</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateHTML</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/jsdoc/JSDocGenerator.js</div>
                <div class="item-description">Genera HTML para JSDoc</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateItemHTML</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/jsdoc/JSDocGenerator.js</div>
                <div class="item-description">Genera HTML para un elemento individual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/jsdoc/JSDocGenerator.js</div>
                <div class="item-description">Obtiene estad√≠sticas de la documentaci√≥n generada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/jsdoc/JSDocGenerator.js</div>
                <div class="item-description">Valida la configuraci√≥n del generador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/readme/ReadmeGenerator.js</div>
                <div class="item-description">Generador de README Autom√°tico Maneja la generaci√≥n autom√°tica de documentaci√≥n README con estad√≠sticas del proyecto / import fs from 'fs'; import path from 'path'; import { createLogger } from '../../core/core/logger.js'; class ReadmeGenerator { constructor(config = {}) { this.config = { outputDir: config.outputDir || './docs', projectRoot: config.projectRoot || '.', excludePatterns: config.excludePatterns || ['node_modules', '.git', 'tests', 'docs'], templatePath: config.templatePath || null, ...config }; this.logger = createLogger('README_GENERATOR'); } /** Genera README autom√°tico completo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ensureOutputDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/readme/ReadmeGenerator.js</div>
                <div class="item-description">Asegura que el directorio de salida existe</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPackageInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/readme/ReadmeGenerator.js</div>
                <div class="item-description">Obtiene informaci√≥n del package.json</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getProjectStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/readme/ReadmeGenerator.js</div>
                <div class="item-description">Obtiene estad√≠sticas del proyecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSystemInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/readme/ReadmeGenerator.js</div>
                <div class="item-description">Obtiene informaci√≥n del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isSourceFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/readme/ReadmeGenerator.js</div>
                <div class="item-description">Verifica si un archivo es un archivo fuente v√°lido</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateReadmeContent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/readme/ReadmeGenerator.js</div>
                <div class="item-description">Genera el contenido del README</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveReadme</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/readme/ReadmeGenerator.js</div>
                <div class="item-description">Guarda el README generado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">formatBytes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/readme/ReadmeGenerator.js</div>
                <div class="item-description">Formatea bytes en formato legible</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateCustomReadme</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/readme/ReadmeGenerator.js</div>
                <div class="item-description">Genera README personalizado con template</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/readme/ReadmeGenerator.js</div>
                <div class="item-description">Obtiene estad√≠sticas de la documentaci√≥n generada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/readme/ReadmeGenerator.js</div>
                <div class="item-description">Valida la configuraci√≥n del generador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/swagger/SwaggerGenerator.js</div>
                <div class="item-description">Generador de Documentaci√≥n Swagger/OpenAPI Maneja la extracci√≥n de rutas API y generaci√≥n de documentaci√≥n Swagger / import fs from 'fs'; import path from 'path'; import { createLogger } from '../../core/core/logger.js'; class SwaggerGenerator { constructor(config = {}) { this.config = { outputDir: config.outputDir || './docs/swagger', routesDir: config.routesDir || './src/routes', controllersDir: config.controllersDir || './src/controllers', swaggerConfig: { definition: { openapi: '3.0.0', info: { title: 'ChatBot API', version: '1.0.0', description: 'API completa para el sistema de ChatBot', contact: { name: 'Equipo de Desarrollo', email: 'dev@chatbot.com' } }, servers: [ { url: 'http://localhost:3000', description: 'Servidor de desarrollo' }, { url: 'https://api.chatbot.com', description: 'Servidor de producci√≥n' } ] }, apis: ['./src/routes/*.js', './src/controllers/*.js'] }, ...config }; this.logger = createLogger('SWAGGER_GENERATOR'); } /** Genera documentaci√≥n Swagger completa</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ensureOutputDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/swagger/SwaggerGenerator.js</div>
                <div class="item-description">Asegura que el directorio de salida existe</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractAPIData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/swagger/SwaggerGenerator.js</div>
                <div class="item-description">Extrae datos de API de rutas y controladores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractRoutes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/swagger/SwaggerGenerator.js</div>
                <div class="item-description">Extrae rutas de archivos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractSchemas</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/swagger/SwaggerGenerator.js</div>
                <div class="item-description">Extrae esquemas de controladores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">parseSwaggerComment</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/swagger/SwaggerGenerator.js</div>
                <div class="item-description">Parsea comentarios Swagger</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">parseSchemaComment</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/swagger/SwaggerGenerator.js</div>
                <div class="item-description">Parsea comentarios de esquemas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateSwaggerSpec</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/swagger/SwaggerGenerator.js</div>
                <div class="item-description">Genera especificaci√≥n Swagger completa</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveSwaggerSpec</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/swagger/SwaggerGenerator.js</div>
                <div class="item-description">Guarda la especificaci√≥n Swagger en JSON</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">convertToYAML</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/swagger/SwaggerGenerator.js</div>
                <div class="item-description">Convierte especificaci√≥n a YAML (b√°sico)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateSwaggerUI</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/swagger/SwaggerGenerator.js</div>
                <div class="item-description">Genera interfaz Swagger UI</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scanDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/swagger/SwaggerGenerator.js</div>
                <div class="item-description">Escanea directorio recursivamente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/swagger/SwaggerGenerator.js</div>
                <div class="item-description">Obtiene estad√≠sticas de la documentaci√≥n generada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/docs/swagger/SwaggerGenerator.js</div>
                <div class="item-description">Valida la configuraci√≥n del generador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">ErrorBufferManager - Gestor inteligente de buffers y logs de errores Funcionalidades: - Gesti√≥n de m√∫ltiples buffers (circular, temporal, prioridad) - Rotaci√≥n autom√°tica de logs - Compresi√≥n y archivado inteligente - B√∫squeda y filtrado eficiente - Persistencia configurable / import fs from 'fs/promises'; import path from 'path'; import { createWriteStream } from 'fs'; import { createGzip } from 'zlib'; class ErrorBufferManager { constructor(config = {}) { this.config = { bufferSize: 10000, maxMemoryUsage: 100 * 1024 * 1024, // 100MB logDirectory: './logs/errors', logRotation: { enabled: true, maxFileSize: 50 * 1024 * 1024, // 50MB maxFiles: 10, compress: true }, persistence: { enabled: true, interval: 300000, // 5 minutos batchSize: 1000 }, retention: { bufferHours: 24, logDays: 30, archiveDays: 365 }, ...config }; // Buffers principales this.buffers = { // Buffer circular principal main: { data: [], maxSize: this.config.bufferSize, writeIndex: 0, readIndex: 0, isFull: false }, // Buffer de errores recientes (√∫ltimas 24h) recent: { data: [], maxAge: 24 * 60 * 60 * 1000 // 24 horas }, // Buffer de alta prioridad (cr√≠ticos/errores) priority: { data: [], maxSize: 1000 }, // Buffer temporal para agregaci√≥n temporal: { data: [], flushInterval: 60000 // 1 minuto } }; // √çndices para b√∫squeda r√°pida this.indexes = { byModule: new Map(), bySeverity: new Map(), byTimestamp: new Map(), byCategory: new Map() }; // Estad√≠sticas del buffer this.stats = { totalErrors: 0, bufferHits: 0, bufferMisses: 0, memoryUsage: 0, lastFlush: null, lastRotation: null }; // Configuraci√≥n de archivos de log this.logFiles = { current: null, currentSize: 0, rotationCounter: 0 }; // Streams de escritura this.writeStreams = { main: null, error: null, debug: null }; // Temporizadores this.timers = { persistence: null, cleanup: null, flush: null }; // Estado del manager this.isActive = false; this.isInitialized = false; } /** Inicializar buffer manager</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createDirectories</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">Crear directorios necesarios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeLogFiles</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">Inicializar archivos de log</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadPersistedData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">Cargar datos persistidos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startTimers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">Inicializar temporizadores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">Agregar error al buffer</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addToMainBuffer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">Agregar a buffer principal (circular)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addToRecentBuffer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">Agregar a buffer reciente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addToPriorityBuffer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">Agregar a buffer de prioridad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addToTemporalBuffer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">Agregar a buffer temporal</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isCriticalError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">Verificar si es error cr√≠tico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateIndexes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">Actualizar √≠ndices</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">writeToLog</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">Escribir a log</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">formatLogEntry</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">Formatear entrada de log</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkLogRotation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">Verificar rotaci√≥n de logs</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">rotateLog</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">Rotar log</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">compressLogFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">Comprimir archivo de log</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldLogFiles</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">Limpiar archivos de log antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">flushTemporalBuffer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">Flush buffer temporal</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processBatch</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">Procesar lote de errores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">search</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">Buscar errores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">matchesCriteria</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">Verificar si error coincide con criterios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRecentErrors</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">Obtener errores recientes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCriticalErrors</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">Obtener errores cr√≠ticos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">Actualizar estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">persistData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">Persistir datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">rebuildIndexes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">Reconstruir √≠ndices</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">Limpiar datos antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateErrorId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">Generar ID √∫nico para error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">Obtener estad√≠sticas del buffer</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/buffer/ErrorBufferManager.js</div>
                <div class="item-description">Detener buffer manager</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">classifyErrorIntelligently</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/classification/ErrorClassificationService.js</div>
                <div class="item-description">ErrorClassificationService - Servicio de clasificaci√≥n inteligente de errores Funcionalidades: - Clasificaci√≥n autom√°tica de errores por severidad - Categorizaci√≥n contextual - An√°lisis sem√°ntico de mensajes - Filtrado inteligente de duplicados - Etiquetado autom√°tico / class ErrorClassificationService { constructor(config = {}) { this.config = { intelligentClassification: true, contextualClassification: true, semanticAnalysis: true, autoTagging: true, duplicateWindow: 60000, // 1 minuto similarityThreshold: 0.8, noiseReduction: true, contextAware: true, ...config }; // Niveles de severidad con configuraci√≥n evolutiva this.severityLevels = { debug: { weight: 1, color: '\x1b[36m', // Cyan emoji: 'üîç', threshold: 100, autoFlush: false }, info: { weight: 2, color: '\x1b[32m', // Verde emoji: '‚ÑπÔ∏è', threshold: 50, autoFlush: false }, warn: { weight: 3, color: '\x1b[33m', // Amarillo emoji: '‚ö†Ô∏è', threshold: 20, autoFlush: true }, error: { weight: 4, color: '\x1b[31m', // Rojo emoji: '‚ùå', threshold: 10, autoFlush: true }, critical: { weight: 5, color: '\x1b[35m', // Magenta emoji: 'üö®', threshold: 1, autoFlush: true, requiresImmediate: true } }; // Categor√≠as contextuales this.categories = { system: { keywords: ['system', 'startup', 'shutdown', 'memory', 'cpu', 'disk'], patterns: [/system/i, /startup/i, /shutdown/i, /memory/i, /cpu/i] }, business: { keywords: ['business', 'logic', 'validation', 'rule', 'workflow'], patterns: [/business/i, /logic/i, /validation/i, /rule/i, /workflow/i] }, security: { keywords: ['auth', 'permission', 'security', 'token', 'unauthorized'], patterns: [/auth/i, /permission/i, /security/i, /token/i, /unauthorized/i] }, performance: { keywords: ['timeout', 'slow', 'performance', 'latency', 'bottleneck'], patterns: [/timeout/i, /slow/i, /performance/i, /latency/i, /bottleneck/i] }, integration: { keywords: ['api', 'service', 'external', 'integration', 'webhook'], patterns: [/api/i, /service/i, /external/i, /integration/i, /webhook/i] } }; // Patrones de clasificaci√≥n inteligente this.classificationPatterns = { critical: [ /fatal/i, /critical/i, /system.*crash/i, /out of memory/i, /segmentation fault/i, /stack overflow/i ], error: [ /error/i, /exception/i, /failed/i, /cannot/i, /unable/i, /invalid/i ], warn: [ /warning/i, /deprecated/i, /slow/i, /retry/i, /fallback/i ], info: [ /info/i, /started/i, /completed/i, /success/i ], debug: [ /debug/i, /trace/i, /verbose/i ] }; // Cache de clasificaciones recientes this.classificationCache = new Map(); this.recentClassifications = []; } /** Clasificar error de forma inteligente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeMessageSemantics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/classification/ErrorClassificationService.js</div>
                <div class="item-description">An√°lisis sem√°ntico del mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeContext</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/classification/ErrorClassificationService.js</div>
                <div class="item-description">An√°lisis contextual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzePatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/classification/ErrorClassificationService.js</div>
                <div class="item-description">An√°lisis de patrones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">combineSeverityAnalysis</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/classification/ErrorClassificationService.js</div>
                <div class="item-description">Combinar an√°lisis de severidad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">escalateSeverity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/classification/ErrorClassificationService.js</div>
                <div class="item-description">Escalar severidad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">classifyError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/classification/ErrorClassificationService.js</div>
                <div class="item-description">Clasificar error por categor√≠a</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateAutoTags</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/classification/ErrorClassificationService.js</div>
                <div class="item-description">Generar etiquetas autom√°ticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isDuplicateError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/classification/ErrorClassificationService.js</div>
                <div class="item-description">Verificar si es un error duplicado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateSimilarity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/classification/ErrorClassificationService.js</div>
                <div class="item-description">Calcular similitud entre mensajes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateErrorKey</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/classification/ErrorClassificationService.js</div>
                <div class="item-description">Generar clave de error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">simpleHash</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/classification/ErrorClassificationService.js</div>
                <div class="item-description">Hash simple para generar claves</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cacheClassification</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/classification/ErrorClassificationService.js</div>
                <div class="item-description">Cache de clasificaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getClassificationStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/classification/ErrorClassificationService.js</div>
                <div class="item-description">Obtener estad√≠sticas de clasificaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/classification/ErrorClassificationService.js</div>
                <div class="item-description">Limpiar cache y datos temporales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/learning/ErrorLearningSystem.js</div>
                <div class="item-description">ErrorLearningSystem - Sistema de aprendizaje inteligente de errores Funcionalidades: - Aprendizaje de contextos de errores - Identificaci√≥n de patrones evolutivos - Adaptaci√≥n de umbrales y configuraciones - Mejora continua de clasificaci√≥n - Optimizaci√≥n de estrategias de recuperaci√≥n / class ErrorLearningSystem { constructor(config = {}) { this.config = { learningEnabled: true, learningRate: 0.1, adaptationThreshold: 0.8, maxLearningData: 1000, contextWindow: 3600000, // 1 hora minSamplesForLearning: 10, confidenceDecay: 0.95, ...config }; // Base de conocimiento this.knowledgeBase = { errorContexts: new Map(), patternLibrary: new Map(), adaptiveThresholds: new Map(), recoveryStrategies: new Map(), classificationRules: new Map() }; // Datos de aprendizaje this.learningData = { errorSamples: [], contextCorrelations: new Map(), temporalPatterns: new Map(), moduleRelationships: new Map(), severityEvolution: new Map() }; // M√©tricas de aprendizaje this.learningMetrics = { totalSamples: 0, patternsLearned: 0, adaptationsApplied: 0, accuracyImprovement: 0, lastLearningSession: null, learningEfficiency: 0 }; // Estado del sistema this.isLearning = false; this.lastAdaptation = null; this.adaptationHistory = []; } /** Inicializar sistema de aprendizaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadKnowledgeBase</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/learning/ErrorLearningSystem.js</div>
                <div class="item-description">Cargar base de conocimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeLearningModels</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/learning/ErrorLearningSystem.js</div>
                <div class="item-description">Inicializar modelos de aprendizaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">learnFromError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/learning/ErrorLearningSystem.js</div>
                <div class="item-description">Aprender de nuevo error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addLearningSample</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/learning/ErrorLearningSystem.js</div>
                <div class="item-description">Agregar muestra de aprendizaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">learnErrorContext</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/learning/ErrorLearningSystem.js</div>
                <div class="item-description">Aprender contextos de errores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeContextPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/learning/ErrorLearningSystem.js</div>
                <div class="item-description">Analizar patrones de contexto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeNumericPattern</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/learning/ErrorLearningSystem.js</div>
                <div class="item-description">Analizar patr√≥n num√©rico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeCategoricalPattern</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/learning/ErrorLearningSystem.js</div>
                <div class="item-description">Analizar patr√≥n categ√≥rico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateEntropy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/learning/ErrorLearningSystem.js</div>
                <div class="item-description">Calcular entrop√≠a</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateContextConfidence</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/learning/ErrorLearningSystem.js</div>
                <div class="item-description">Calcular confianza del contexto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateConsistency</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/learning/ErrorLearningSystem.js</div>
                <div class="item-description">Calcular consistencia de muestras</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">learnErrorPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/learning/ErrorLearningSystem.js</div>
                <div class="item-description">Aprender patrones de errores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeTemporalPattern</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/learning/ErrorLearningSystem.js</div>
                <div class="item-description">Analizar patr√≥n temporal</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectPeriodicity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/learning/ErrorLearningSystem.js</div>
                <div class="item-description">Detectar periodicidad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">adaptThresholds</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/learning/ErrorLearningSystem.js</div>
                <div class="item-description">Adaptar umbrales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateThresholdAdaptation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/learning/ErrorLearningSystem.js</div>
                <div class="item-description">Calcular adaptaci√≥n de umbral</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeRecoveryStrategies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/learning/ErrorLearningSystem.js</div>
                <div class="item-description">Optimizar estrategias de recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateBestStrategy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/learning/ErrorLearningSystem.js</div>
                <div class="item-description">Actualizar mejor estrategia</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRecentErrorsForModule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/learning/ErrorLearningSystem.js</div>
                <div class="item-description">Obtener errores recientes para m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractLearningFeatures</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/learning/ErrorLearningSystem.js</div>
                <div class="item-description">Extraer caracter√≠sticas de aprendizaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateContextKey</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/learning/ErrorLearningSystem.js</div>
                <div class="item-description">Generar clave de contexto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateLearningMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/learning/ErrorLearningSystem.js</div>
                <div class="item-description">Actualizar m√©tricas de aprendizaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRecommendations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/learning/ErrorLearningSystem.js</div>
                <div class="item-description">Obtener recomendaciones basadas en aprendizaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getLearningStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/learning/ErrorLearningSystem.js</div>
                <div class="item-description">Obtener estad√≠sticas de aprendizaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/learning/ErrorLearningSystem.js</div>
                <div class="item-description">Limpiar datos de aprendizaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/metrics/ErrorMetricsCollector.js</div>
                <div class="item-description">ErrorMetricsCollector - Recolector de m√©tricas y estad√≠sticas de errores Funcionalidades: - Recolecci√≥n de m√©tricas en tiempo real - Agregaci√≥n de estad√≠sticas por m√≥dulo, severidad y tiempo - C√°lculo de tendencias y anomal√≠as - Generaci√≥n de reportes autom√°ticos - Alertas basadas en m√©tricas / class ErrorMetricsCollector { constructor(config = {}) { this.config = { metricsEnabled: true, aggregationInterval: 60000, // 1 minuto retentionPeriod: 86400000, // 24 horas alertThresholds: { errorRate: 10, // errores por minuto criticalErrors: 5, // errores cr√≠ticos por hora moduleFailureRate: 0.1 // 10% de tasa de fallo }, reportingEnabled: true, reportInterval: 3600000, // 1 hora ...config }; // M√©tricas en tiempo real this.realTimeMetrics = { totalErrors: 0, errorsByModule: new Map(), errorsBySeverity: new Map(), errorsPerMinute: 0, lastErrorTime: null, uptime: Date.now() }; // M√©tricas agregadas por tiempo this.timeSeriesMetrics = { minutely: [], hourly: [], daily: [] }; // M√©tricas por m√≥dulo this.moduleMetrics = new Map(); // M√©tricas de rendimiento this.performanceMetrics = { averageProcessingTime: 0, memoryUsage: 0, cpuUsage: 0, recoverySuccessRate: 0, predictionAccuracy: 0 }; // Alertas activas this.activeAlerts = []; this.alertHistory = []; // Configuraci√≥n de reportes this.reportConfig = { enabled: this.config.reportingEnabled, lastReport: null, reportCounter: 0 }; // Buffers para agregaci√≥n this.aggregationBuffers = { minute: [], hour: [], day: [] }; // Temporizadores this.timers = { aggregation: null, reporting: null, cleanup: null }; // Estado del collector this.isActive = false; this.startTime = Date.now(); } /** Inicializar collector de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadHistoricalMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/metrics/ErrorMetricsCollector.js</div>
                <div class="item-description">Cargar m√©tricas hist√≥ricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeBaseMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/metrics/ErrorMetricsCollector.js</div>
                <div class="item-description">Inicializar m√©tricas base</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startTimers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/metrics/ErrorMetricsCollector.js</div>
                <div class="item-description">Inicializar temporizadores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/metrics/ErrorMetricsCollector.js</div>
                <div class="item-description">Registrar nuevo error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateRealTimeMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/metrics/ErrorMetricsCollector.js</div>
                <div class="item-description">Actualizar m√©tricas en tiempo real</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateErrorsPerMinute</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/metrics/ErrorMetricsCollector.js</div>
                <div class="item-description">Calcular errores por minuto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateModuleMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/metrics/ErrorMetricsCollector.js</div>
                <div class="item-description">Actualizar m√©tricas por m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateModuleTrends</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/metrics/ErrorMetricsCollector.js</div>
                <div class="item-description">Actualizar tendencias del m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addToAggregationBuffer</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/metrics/ErrorMetricsCollector.js</div>
                <div class="item-description">Agregar a buffer de agregaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkAlerts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/metrics/ErrorMetricsCollector.js</div>
                <div class="item-description">Verificar alertas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/metrics/ErrorMetricsCollector.js</div>
                <div class="item-description">Procesar alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/metrics/ErrorMetricsCollector.js</div>
                <div class="item-description">Enviar alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updatePerformanceMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/metrics/ErrorMetricsCollector.js</div>
                <div class="item-description">Actualizar m√©tricas de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">aggregateMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/metrics/ErrorMetricsCollector.js</div>
                <div class="item-description">Agregar m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createAggregatedMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/metrics/ErrorMetricsCollector.js</div>
                <div class="item-description">Crear m√©tricas agregadas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPeriodDuration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/metrics/ErrorMetricsCollector.js</div>
                <div class="item-description">Obtener duraci√≥n del per√≠odo en ms</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/metrics/ErrorMetricsCollector.js</div>
                <div class="item-description">Generar reporte</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/metrics/ErrorMetricsCollector.js</div>
                <div class="item-description">Crear reporte</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getModuleBreakdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/metrics/ErrorMetricsCollector.js</div>
                <div class="item-description">Obtener desglose por m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSeverityBreakdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/metrics/ErrorMetricsCollector.js</div>
                <div class="item-description">Obtener desglose por severidad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getTrends</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/metrics/ErrorMetricsCollector.js</div>
                <div class="item-description">Obtener tendencias</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateRecommendations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/metrics/ErrorMetricsCollector.js</div>
                <div class="item-description">Generar recomendaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/metrics/ErrorMetricsCollector.js</div>
                <div class="item-description">Guardar reporte</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/metrics/ErrorMetricsCollector.js</div>
                <div class="item-description">Limpiar m√©tricas antiguas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateAlertId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/metrics/ErrorMetricsCollector.js</div>
                <div class="item-description">Generar ID de alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/metrics/ErrorMetricsCollector.js</div>
                <div class="item-description">Obtener estad√≠sticas completas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/metrics/ErrorMetricsCollector.js</div>
                <div class="item-description">Detener collector</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/metrics/ErrorMetricsCollector.js</div>
                <div class="item-description">Limpiar todos los datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectErrorPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/patterns/ErrorPatternAnalyzer.js</div>
                <div class="item-description">ErrorPatternAnalyzer - Analizador de patrones y correlaciones de errores Funcionalidades: - Detecci√≥n de patrones de errores - An√°lisis de correlaciones - Detecci√≥n de anomal√≠as - An√°lisis de tendencias - Predicci√≥n de patrones futuros / class ErrorPatternAnalyzer { constructor(config = {}) { this.config = { correlationWindow: 300000, // 5 minutos trendAnalysisWindow: 3600000, // 1 hora patternDetectionEnabled: true, anomalyDetectionEnabled: true, minPatternOccurrences: 3, maxPatterns: 1000, ...config }; // Almacenamiento de patrones this.errorPatterns = new Map(); this.correlations = new Map(); this.trends = new Map(); this.anomalies = []; // Historial de errores para an√°lisis this.errorHistory = []; this.recentErrors = []; // M√©tricas de an√°lisis this.analysisMetrics = { patternsDetected: 0, correlationsFound: 0, anomaliesDetected: 0, trendsAnalyzed: 0, lastAnalysis: null }; } /** Detectar patrones de errores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectTemporalPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/patterns/ErrorPatternAnalyzer.js</div>
                <div class="item-description">Detectar patrones temporales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectModulePatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/patterns/ErrorPatternAnalyzer.js</div>
                <div class="item-description">Detectar patrones de m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectMessagePatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/patterns/ErrorPatternAnalyzer.js</div>
                <div class="item-description">Detectar patrones de mensaje</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectContextualPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/patterns/ErrorPatternAnalyzer.js</div>
                <div class="item-description">Detectar patrones contextuales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkErrorCorrelations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/patterns/ErrorPatternAnalyzer.js</div>
                <div class="item-description">Verificar correlaciones de errores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateCorrelationStrength</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/patterns/ErrorPatternAnalyzer.js</div>
                <div class="item-description">Calcular fuerza de correlaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeTrends</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/patterns/ErrorPatternAnalyzer.js</div>
                <div class="item-description">Analizar tendencias</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeModuleTrends</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/patterns/ErrorPatternAnalyzer.js</div>
                <div class="item-description">Analizar tendencias por m√≥dulo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeSeverityTrends</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/patterns/ErrorPatternAnalyzer.js</div>
                <div class="item-description">Analizar tendencias por severidad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeTemporalTrends</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/patterns/ErrorPatternAnalyzer.js</div>
                <div class="item-description">Analizar tendencias temporales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectAnomalies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/patterns/ErrorPatternAnalyzer.js</div>
                <div class="item-description">Detectar anomal√≠as</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectErrorSpikes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/patterns/ErrorPatternAnalyzer.js</div>
                <div class="item-description">Detectar picos de errores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectAnomalousPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/patterns/ErrorPatternAnalyzer.js</div>
                <div class="item-description">Detectar patrones an√≥malos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectAnomalousModules</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/patterns/ErrorPatternAnalyzer.js</div>
                <div class="item-description">Detectar m√≥dulos con comportamiento an√≥malo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isAnomalousPattern</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/patterns/ErrorPatternAnalyzer.js</div>
                <div class="item-description">Verificar si un patr√≥n es an√≥malo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addToHistory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/patterns/ErrorPatternAnalyzer.js</div>
                <div class="item-description">Utilidades</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAnalysisStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/patterns/ErrorPatternAnalyzer.js</div>
                <div class="item-description">Obtener estad√≠sticas de an√°lisis</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/patterns/ErrorPatternAnalyzer.js</div>
                <div class="item-description">Limpiar datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/prediction/ErrorPredictionEngine.js</div>
                <div class="item-description">ErrorPredictionEngine - Motor de predicci√≥n de fallos inteligente Funcionalidades: - Predicci√≥n de errores basada en patrones hist√≥ricos - An√°lisis de tendencias y anomal√≠as - Alertas tempranas de posibles fallos - Modelos de machine learning simples - Predicci√≥n de cascadas de errores / class ErrorPredictionEngine { constructor(config = {}) { this.config = { predictionEnabled: true, predictionWindow: 3600000, // 1 hora en ms minDataPoints: 10, confidenceThreshold: 0.7, alertThreshold: 0.8, maxPredictions: 100, learningRate: 0.1, ...config }; // Modelos de predicci√≥n this.predictionModels = { temporal: new TemporalPredictionModel(), frequency: new FrequencyPredictionModel(), pattern: new PatternPredictionModel(), cascade: new CascadePredictionModel() }; // Datos hist√≥ricos para predicci√≥n this.historicalData = []; this.errorSequences = []; this.predictionCache = new Map(); // Predicciones activas this.activePredictions = []; this.predictionHistory = []; // M√©tricas de predicci√≥n this.predictionMetrics = { totalPredictions: 0, accuratePredictions: 0, falsePositives: 0, falseNegatives: 0, accuracy: 0, precision: 0, recall: 0, lastUpdate: null }; // Configuraci√≥n de alertas this.alertConfig = { enabled: true, channels: ['console', 'log'], severityLevels: { low: { threshold: 0.6, color: 'yellow' }, medium: { threshold: 0.75, color: 'orange' }, high: { threshold: 0.9, color: 'red' } } }; // Estado del motor this.isActive = false; this.lastPredictionTime = null; } /** Inicializar motor de predicci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializePredictionModels</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/prediction/ErrorPredictionEngine.js</div>
                <div class="item-description">Inicializar modelos de predicci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadHistoricalData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/prediction/ErrorPredictionEngine.js</div>
                <div class="item-description">Cargar datos hist√≥ricos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processErrorForPrediction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/prediction/ErrorPredictionEngine.js</div>
                <div class="item-description">Procesar nuevo error para predicci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addToHistoricalData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/prediction/ErrorPredictionEngine.js</div>
                <div class="item-description">Agregar error a datos hist√≥ricos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateErrorSequences</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/prediction/ErrorPredictionEngine.js</div>
                <div class="item-description">Actualizar secuencias de errores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generatePredictions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/prediction/ErrorPredictionEngine.js</div>
                <div class="item-description">Generar predicciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processPredictions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/prediction/ErrorPredictionEngine.js</div>
                <div class="item-description">Procesar predicciones generadas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validatePrediction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/prediction/ErrorPredictionEngine.js</div>
                <div class="item-description">Validar predicci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">findSimilarPrediction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/prediction/ErrorPredictionEngine.js</div>
                <div class="item-description">Buscar predicci√≥n similar</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateExistingPrediction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/prediction/ErrorPredictionEngine.js</div>
                <div class="item-description">Actualizar predicci√≥n existente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/prediction/ErrorPredictionEngine.js</div>
                <div class="item-description">Generar alerta de predicci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateAlertSeverity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/prediction/ErrorPredictionEngine.js</div>
                <div class="item-description">Calcular severidad de alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateAlertMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/prediction/ErrorPredictionEngine.js</div>
                <div class="item-description">Generar mensaje de alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">formatTimeToError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/prediction/ErrorPredictionEngine.js</div>
                <div class="item-description">Formatear tiempo hasta error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/prediction/ErrorPredictionEngine.js</div>
                <div class="item-description">Enviar alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendAlertToChannel</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/prediction/ErrorPredictionEngine.js</div>
                <div class="item-description">Enviar alerta a canal espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">verifyPredictions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/prediction/ErrorPredictionEngine.js</div>
                <div class="item-description">Verificar predicciones cumplidas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isPredictionMatch</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/prediction/ErrorPredictionEngine.js</div>
                <div class="item-description">Verificar si predicci√≥n coincide con error actual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updatePredictionMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/prediction/ErrorPredictionEngine.js</div>
                <div class="item-description">Actualizar m√©tricas de predicci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupExpiredPredictions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/prediction/ErrorPredictionEngine.js</div>
                <div class="item-description">Limpiar predicciones expiradas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractFeatures</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/prediction/ErrorPredictionEngine.js</div>
                <div class="item-description">Extraer caracter√≠sticas del error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generatePredictionId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/prediction/ErrorPredictionEngine.js</div>
                <div class="item-description">Generar IDs √∫nicos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPredictionStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/prediction/ErrorPredictionEngine.js</div>
                <div class="item-description">Obtener estad√≠sticas de predicci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getTopPredictionTypes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/prediction/ErrorPredictionEngine.js</div>
                <div class="item-description">Obtener tipos de predicci√≥n m√°s comunes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/prediction/ErrorPredictionEngine.js</div>
                <div class="item-description">Limpiar datos del motor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">attemptAutoRecovery</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/recovery/ErrorRecoverySystem.js</div>
                <div class="item-description">ErrorRecoverySystem - Sistema de auto-recuperaci√≥n inteligente Funcionalidades: - Selecci√≥n autom√°tica de estrategias de recuperaci√≥n - Ejecuci√≥n de estrategias de recuperaci√≥n - Aprendizaje de estrategias exitosas - Escalamiento inteligente - Monitoreo de √©xito de recuperaci√≥n / class ErrorRecoverySystem { constructor(config = {}) { this.config = { autoRecovery: true, maxRecoveryAttempts: 3, recoveryTimeout: 30000, // 30 segundos backoffMultiplier: 2, initialBackoffDelay: 1000, // 1 segundo learningEnabled: true, ...config }; // Estrategias de recuperaci√≥n disponibles this.recoveryStrategies = { 'database_connection': { name: 'reconnectDatabase', priority: 1, timeout: 10000, maxAttempts: 3, description: 'Reconectar a la base de datos' }, 'network_timeout': { name: 'retryWithBackoff', priority: 2, timeout: 15000, maxAttempts: 5, description: 'Reintentar con backoff exponencial' }, 'memory_leak': { name: 'forceGarbageCollection', priority: 1, timeout: 5000, maxAttempts: 2, description: 'Forzar recolecci√≥n de basura' }, 'module_failure': { name: 'restartModule', priority: 3, timeout: 20000, maxAttempts: 2, description: 'Reiniciar m√≥dulo fallido' }, 'service_unavailable': { name: 'switchToFallback', priority: 2, timeout: 5000, maxAttempts: 1, description: 'Cambiar a servicio de respaldo' }, 'rate_limit': { name: 'implementRateLimit', priority: 1, timeout: 1000, maxAttempts: 1, description: 'Implementar limitaci√≥n de velocidad' } }; // Historial de recuperaciones this.recoveryHistory = []; this.recoveryAttempts = new Map(); this.successfulStrategies = new Map(); // M√©tricas de recuperaci√≥n this.recoveryMetrics = { totalAttempts: 0, successfulRecoveries: 0, failedRecoveries: 0, averageRecoveryTime: 0, strategiesUsed: {}, lastRecovery: null }; // Estado de recuperaci√≥n this.activeRecoveries = new Map(); this.recoveryQueue = []; } /** Intentar auto-recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">selectRecoveryStrategy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/recovery/ErrorRecoverySystem.js</div>
                <div class="item-description">Seleccionar estrategia de recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">identifyErrorType</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/recovery/ErrorRecoverySystem.js</div>
                <div class="item-description">Identificar tipo de error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">findLearnedStrategy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/recovery/ErrorRecoverySystem.js</div>
                <div class="item-description">Buscar estrategia aprendida</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">selectGenericStrategy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/recovery/ErrorRecoverySystem.js</div>
                <div class="item-description">Seleccionar estrategia gen√©rica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeRecoveryStrategy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/recovery/ErrorRecoverySystem.js</div>
                <div class="item-description">Ejecutar estrategia de recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeSpecificStrategy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/recovery/ErrorRecoverySystem.js</div>
                <div class="item-description">Ejecutar estrategia espec√≠fica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">reconnectDatabase</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/recovery/ErrorRecoverySystem.js</div>
                <div class="item-description">Estrategias de recuperaci√≥n espec√≠ficas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">testDatabaseConnection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/recovery/ErrorRecoverySystem.js</div>
                <div class="item-description">Utilidades de verificaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">learnRecoveryStrategy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/recovery/ErrorRecoverySystem.js</div>
                <div class="item-description">Aprender de estrategias de recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateRecoveryMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/recovery/ErrorRecoverySystem.js</div>
                <div class="item-description">Actualizar m√©tricas de recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateRecoveryId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/recovery/ErrorRecoverySystem.js</div>
                <div class="item-description">Generar ID de recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRecoveryStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/recovery/ErrorRecoverySystem.js</div>
                <div class="item-description">Obtener estad√≠sticas de recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/error/recovery/ErrorRecoverySystem.js</div>
                <div class="item-description">Limpiar datos de recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerIntegration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/external/IntegrationManager.js</div>
                <div class="item-description">Integration Manager Service Gestiona integraciones con servicios externos / import axios from 'axios'; export class IntegrationManager { constructor(config = {}) { this.config = { timeout: 30000, retryAttempts: 3, retryDelay: 1000, maxConcurrentRequests: 10, rateLimitWindow: 60000, // 1 minuto rateLimitMax: 999999, // Rate limiting desactivado ...config }; this.integrations = new Map(); this.activeConnections = new Map(); this.requestCounts = new Map(); this.healthStatus = new Map(); } /** Registra una nueva integraci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} name - Nombre de la integraci√≥n, {object} integrationConfig - Configuraci√≥n de la integraci√≥n<br><strong>@returns:</strong> {object} Integraci√≥n registrada 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getIntegration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/external/IntegrationManager.js</div>
                <div class="item-description">Obtiene una integraci√≥n por nombre</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} name - Nombre de la integraci√≥n<br><strong>@returns:</strong> {object|null} Integraci√≥n encontrada 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">listIntegrations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/external/IntegrationManager.js</div>
                <div class="item-description">Lista todas las integraciones</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} filters - Filtros opcionales<br><strong>@returns:</strong> {array} Lista de integraciones 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">makeRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/external/IntegrationManager.js</div>
                <div class="item-description">Realiza una petici√≥n a una integraci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} integrationName - Nombre de la integraci√≥n, {object} requestConfig - Configuraci√≥n de la petici√≥n<br><strong>@returns:</strong> {Promise<object>} Respuesta de la petici√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/external/IntegrationManager.js</div>
                <div class="item-description">Verifica el estado de salud de una integraci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} integrationName - Nombre de la integraci√≥n<br><strong>@returns:</strong> {Promise<object>} Estado de salud 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkRateLimit</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/external/IntegrationManager.js</div>
                <div class="item-description">Verifica rate limiting</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} integrationName - Nombre de la integraci√≥n<br><strong>@returns:</strong> {boolean} Si la petici√≥n est√° permitida 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateRequestCount</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/external/IntegrationManager.js</div>
                <div class="item-description">Actualiza contador de peticiones</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} integrationName - Nombre de la integraci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">buildUrl</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/external/IntegrationManager.js</div>
                <div class="item-description">Construye URL completa</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} baseUrl - URL base, {string} endpoint - Endpoint<br><strong>@returns:</strong> {string} URL completa 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupWhatsAppIntegration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/external/IntegrationManager.js</div>
                <div class="item-description">Configura integraci√≥n de WhatsApp Business API</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} config - Configuraci√≥n de WhatsApp<br><strong>@returns:</strong> {object} Integraci√≥n configurada 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setup360DialogIntegration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/external/IntegrationManager.js</div>
                <div class="item-description">Configura integraci√≥n de 360Dialog</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} config - Configuraci√≥n de 360Dialog<br><strong>@returns:</strong> {object} Integraci√≥n configurada 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupTelegramIntegration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/external/IntegrationManager.js</div>
                <div class="item-description">Configura integraci√≥n de Telegram</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} config - Configuraci√≥n de Telegram<br><strong>@returns:</strong> {object} Integraci√≥n configurada 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/external/IntegrationManager.js</div>
                <div class="item-description">Obtiene estad√≠sticas de integraciones</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {object} Estad√≠sticas 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deactivateIntegration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/external/IntegrationManager.js</div>
                <div class="item-description">Desactiva una integraci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} name - Nombre de la integraci√≥n<br><strong>@returns:</strong> {boolean} √âxito de la operaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">activateIntegration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/external/IntegrationManager.js</div>
                <div class="item-description">Activa una integraci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} name - Nombre de la integraci√≥n<br><strong>@returns:</strong> {boolean} √âxito de la operaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">delay</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/external/IntegrationManager.js</div>
                <div class="item-description">Funci√≥n auxiliar para delay</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {number} ms - Milisegundos a esperar<br><strong>@returns:</strong> {Promise} Promise que resuelve despu√©s del delay 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeManager</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/integrations/IntegrationManager.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Integration Manager Service Gestiona integraciones con servicios externos y APIs de terceros <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 6.0.0<br><strong>@since:</strong> 2.0.0 /  import axios from 'axios'; import { EventEmitter } from 'events'; import { logger } from '../core/logger.js';  /** Estados de integraci√≥n / export const IntegrationStatus = { INACTIVE: 'inactive', ACTIVE: 'active', ERROR: 'error', CONNECTING: 'connecting', DISCONNECTED: 'disconnected', MAINTENANCE: 'maintenance' };  /** Tipos de integraci√≥n / export const IntegrationType = { MESSAGING: 'messaging', CRM: 'crm', ANALYTICS: 'analytics', PAYMENT: 'payment', STORAGE: 'storage', AI_SERVICE: 'ai_service', NOTIFICATION: 'notification', WEBHOOK: 'webhook', DATABASE: 'database', SOCIAL_MEDIA: 'social_media' };  /** Proveedores de integraci√≥n / export const IntegrationProvider = { // Messaging WHATSAPP: 'whatsapp', TELEGRAM: 'telegram', SLACK: 'slack', DISCORD: 'discord', FACEBOOK: 'facebook',  // CRM SALESFORCE: 'salesforce', HUBSPOT: 'hubspot', PIPEDRIVE: 'pipedrive',  // Analytics GOOGLE_ANALYTICS: 'google_analytics', MIXPANEL: 'mixpanel', AMPLITUDE: 'amplitude',  // Payment STRIPE: 'stripe', PAYPAL: 'paypal', MERCADOPAGO: 'mercadopago',  // AI Services OPENAI: 'openai', ANTHROPIC: 'anthropic', GOOGLE_AI: 'google_ai',  // Storage AWS_S3: 'aws_s3', GOOGLE_CLOUD: 'google_cloud', AZURE: 'azure',  // Custom CUSTOM: 'custom' };  /** Clase principal del gestor de integraciones / export class IntegrationManager extends EventEmitter { constructor(config = {}) { super();  this.config = { // Configuraci√≥n de timeout timeout: 30000,  // Configuraci√≥n de retry retry: { maxAttempts: 3, baseDelay: 1000, maxDelay: 10000, backoffFactor: 2 },  // Configuraci√≥n de health check healthCheck: { enabled: true, interval: 60000, // 1 minuto timeout: 10000 },  // Configuraci√≥n de rate limiting rateLimit: { enabled: true, requestsPerSecond: 10, burstLimit: 50 },  // Configuraci√≥n de cache cache: { enabled: true, ttl: 300000, // 5 minutos maxSize: 1000 },  ...config };  // Almacenamiento de integraciones this.integrations = new Map(); this.connections = new Map(); this.cache = new Map();  // Estad√≠sticas this.stats = { totalIntegrations: 0, activeIntegrations: 0, totalRequests: 0, successfulRequests: 0, failedRequests: 0, averageResponseTime: 0, lastResponseTime: 0 };  // Rate limiting this.rateLimiters = new Map();  this.initializeManager(); }  /** Inicializa el gestor de integraciones 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerIntegration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/integrations/IntegrationManager.js</div>
                <div class="item-description">Registra una nueva integraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unregisterIntegration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/integrations/IntegrationManager.js</div>
                <div class="item-description">Desregistra una integraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">connectIntegration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/integrations/IntegrationManager.js</div>
                <div class="item-description">Conecta una integraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">disconnectIntegration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/integrations/IntegrationManager.js</div>
                <div class="item-description">Desconecta una integraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">makeRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/integrations/IntegrationManager.js</div>
                <div class="item-description">Realiza una petici√≥n a una integraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">makeRequestWithRetry</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/integrations/IntegrationManager.js</div>
                <div class="item-description">Realiza petici√≥n con retry</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">testConnection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/integrations/IntegrationManager.js</div>
                <div class="item-description">Prueba la conexi√≥n de una integraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createConnection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/integrations/IntegrationManager.js</div>
                <div class="item-description">Crea una conexi√≥n para una integraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupRateLimiter</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/integrations/IntegrationManager.js</div>
                <div class="item-description">Configura rate limiter para una integraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkRateLimit</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/integrations/IntegrationManager.js</div>
                <div class="item-description">Verifica rate limiting</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">buildUrl</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/integrations/IntegrationManager.js</div>
                <div class="item-description">Construye URL completa</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addAuthentication</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/integrations/IntegrationManager.js</div>
                <div class="item-description">Agrega autenticaci√≥n a la petici√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateCacheKey</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/integrations/IntegrationManager.js</div>
                <div class="item-description">Genera clave de cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateIntegrationStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/integrations/IntegrationManager.js</div>
                <div class="item-description">Actualiza estad√≠sticas de integraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupHealthChecks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/integrations/IntegrationManager.js</div>
                <div class="item-description">Configura health checks</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">performHealthChecks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/integrations/IntegrationManager.js</div>
                <div class="item-description">Realiza health checks de todas las integraciones activas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupCacheCleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/integrations/IntegrationManager.js</div>
                <div class="item-description">Configura limpieza de cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/integrations/IntegrationManager.js</div>
                <div class="item-description">Limpia cache expirado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/integrations/IntegrationManager.js</div>
                <div class="item-description">Obtiene estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getIntegrations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/integrations/IntegrationManager.js</div>
                <div class="item-description">Obtiene todas las integraciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getIntegration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/integrations/IntegrationManager.js</div>
                <div class="item-description">Obtiene integraci√≥n por ID</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getIntegrationsByType</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/integrations/IntegrationManager.js</div>
                <div class="item-description">Obtiene integraciones por tipo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getIntegrationsByProvider</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/integrations/IntegrationManager.js</div>
                <div class="item-description">Obtiene integraciones por proveedor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateIntegration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/integrations/IntegrationManager.js</div>
                <div class="item-description">Actualiza configuraci√≥n de integraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clearIntegrationCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/integrations/IntegrationManager.js</div>
                <div class="item-description">Limpia cache de una integraci√≥n espec√≠fica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">close</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/integrations/IntegrationManager.js</div>
                <div class="item-description">Cierra el gestor de integraciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processImage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/multimedia/MediaProcessingService.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Servicio de procesamiento de medios Extra√≠do de multimedia.js para mejorar la modularidad /  import sharp from 'sharp'; import ffmpeg from 'fluent-ffmpeg'; import path from 'path'; import fs from 'fs-extra'; import { createLogger } from '../core/core/logger.js';  const logger = createLogger('MEDIA_PROCESSING_SERVICE');  /**<br><strong>@class:</strong> MediaProcessingService Servicio para procesamiento de archivos multimedia / export class MediaProcessingService { constructor() { this.logger = logger; }  /** Procesar imagen con Sharp 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getVideoInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/multimedia/MediaProcessingService.js</div>
                <div class="item-description">Obtener informaci√≥n de video</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processVideo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/multimedia/MediaProcessingService.js</div>
                <div class="item-description">Procesar video con FFmpeg</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processAudio</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/multimedia/MediaProcessingService.js</div>
                <div class="item-description">Procesar audio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateVideoThumbnail</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/multimedia/MediaProcessingService.js</div>
                <div class="item-description">Generar thumbnail de video</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeImageForWeb</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/multimedia/MediaProcessingService.js</div>
                <div class="item-description">Optimizar imagen para web</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateMediaFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/multimedia/MediaProcessingService.js</div>
                <div class="item-description">Validar archivo multimedia</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createStorage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/multimedia/MulterConfigService.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Servicio de configuraci√≥n de Multer Extra√≠do de multimedia.js para mejorar la modularidad /  import multer from 'multer'; import path from 'path'; import fs from 'fs-extra'; import crypto from 'crypto'; import { createLogger } from '../core/core/logger.js';  const logger = createLogger('MULTER_CONFIG_SERVICE');  /**<br><strong>@class:</strong> MulterConfigService Servicio para configurar diferentes tipos de almacenamiento con Multer / export class MulterConfigService { constructor() { this.logger = logger; }  /** Crear configuraci√≥n de almacenamiento por tipo 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getImageUploadConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/multimedia/MulterConfigService.js</div>
                <div class="item-description">Configuraci√≥n para im√°genes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getVideoUploadConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/multimedia/MulterConfigService.js</div>
                <div class="item-description">Configuraci√≥n para videos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAudioUploadConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/multimedia/MulterConfigService.js</div>
                <div class="item-description">Configuraci√≥n para audio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getDocumentUploadConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/multimedia/MulterConfigService.js</div>
                <div class="item-description">Configuraci√≥n para documentos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createMulterInstance</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/multimedia/MulterConfigService.js</div>
                <div class="item-description">Crear instancia de multer para tipo espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAllConfigs</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/multimedia/MulterConfigService.js</div>
                <div class="item-description">Obtener todas las configuraciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupAll</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/error/ErrorHandler.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Gestor de Manejo de Errores del Servidor  M√≥dulo especializado para la configuraci√≥n y gesti√≥n de errores del servidor Express. Centraliza toda la l√≥gica de manejo de errores. <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0 /  import path from 'path'; import fs from 'fs'; import { fileURLToPath } from 'url'; import { createLogger } from '../../core/core/logger.js';  const logger = createLogger('ERROR_HANDLER');  const __filename = fileURLToPath(import.meta.url); const __dirname = path.dirname(__filename);  /** Gestor de Manejo de Errores / export class ErrorHandler { constructor(app, config = {}) { this.app = app; this.config = { environment: config.environment || process.env.NODE_ENV || 'development', enableNotFoundHandler: config.enableNotFoundHandler !== false, enableGlobalErrorHandler: config.enableGlobalErrorHandler !== false, enableSPAFallback: config.enableSPAFallback !== false, clientPath: config.clientPath || path.join(__dirname, '../../../../client'), logErrors: config.logErrors !== false, includeStackTrace: config.includeStackTrace !== false, ...config };  this.errorStats = { total: 0, notFound: 0, serverErrors: 0, clientErrors: 0 }; }  /** Configurar todos los manejadores de errores 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupNotFoundHandler</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/error/ErrorHandler.js</div>
                <div class="item-description">Configurar manejador de rutas no encontradas (404)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupGlobalErrorHandler</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/error/ErrorHandler.js</div>
                <div class="item-description">Configurar manejador global de errores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleNotFound</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/error/ErrorHandler.js</div>
                <div class="item-description">Manejar rutas no encontradas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleGlobalError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/error/ErrorHandler.js</div>
                <div class="item-description">Manejar errores globales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">buildErrorResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/error/ErrorHandler.js</div>
                <div class="item-description">Construir respuesta de error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateNotFoundPage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/error/ErrorHandler.js</div>
                <div class="item-description">Generar p√°gina de error 404</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createCustomErrorHandler</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/error/ErrorHandler.js</div>
                <div class="item-description">Crear manejador de error personalizado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getErrorStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/error/ErrorHandler.js</div>
                <div class="item-description">Obtener estad√≠sticas de errores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">resetErrorStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/error/ErrorHandler.js</div>
                <div class="item-description">Resetear estad√≠sticas de errores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/error/ErrorHandler.js</div>
                <div class="item-description">Obtener informaci√≥n del manejador</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/error/ErrorHandler.js</div>
                <div class="item-description">Validar configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupAll</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/middleware/MiddlewareManager.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Gestor de Middleware del Servidor  M√≥dulo especializado para la configuraci√≥n y gesti√≥n de middleware del servidor Express. Centraliza toda la l√≥gica de middleware. <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0 /  import express from 'express'; import { corsMiddleware, helmetMiddleware, requestLogger, sanitizeHeaders } from '../../../middleware/security.js'; import { authenticateToken } from '../../../middleware/auth.js'; import { createLogger } from '../../core/core/logger.js';  const logger = createLogger('MIDDLEWARE_MANAGER');  /** Gestor de Middleware / export class MiddlewareManager { constructor(app, config = {}) { this.app = app; this.config = { bodyLimit: config.bodyLimit || '10mb', enableAuth: config.enableAuth !== false, enableSecurity: config.enableSecurity !== false, enableLogging: config.enableLogging !== false, ...config };  this.middlewareStack = []; }  /** Configurar todos los middleware 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupSecurity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/middleware/MiddlewareManager.js</div>
                <div class="item-description">Configurar middleware de seguridad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupBasic</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/middleware/MiddlewareManager.js</div>
                <div class="item-description">Configurar middleware b√°sico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupAuthentication</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/middleware/MiddlewareManager.js</div>
                <div class="item-description">Configurar middleware de autenticaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addCustomMiddleware</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/middleware/MiddlewareManager.js</div>
                <div class="item-description">Agregar middleware personalizado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/middleware/MiddlewareManager.js</div>
                <div class="item-description">Obtener informaci√≥n del middleware</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/middleware/MiddlewareManager.js</div>
                <div class="item-description">Validar configuraci√≥n de middleware</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupAll</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/routes/RouteManager.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Gestor de Rutas del Servidor  M√≥dulo especializado para la configuraci√≥n y gesti√≥n de rutas del servidor Express. Centraliza toda la l√≥gica de enrutamiento. <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0 /  import path from 'path'; import fs from 'fs'; import { fileURLToPath } from 'url';  // Routes imports import authRoutes from '../../../routes/auth/index.js'; import whatsappRoutes from '../../../routes/whatsapp/index.js'; import dashboardRoutes from '../../../routes/dashboard/index.js';  import { createLogger } from '../../core/core/logger.js';  const logger = createLogger('ROUTE_MANAGER');  const __filename = fileURLToPath(import.meta.url); const __dirname = path.dirname(__filename);  /** Gestor de Rutas / export class RouteManager { constructor(app, config = {}) { this.app = app; this.config = { apiPrefix: config.apiPrefix || '/api', enableHealthCheck: config.enableHealthCheck !== false, enableDataRoutes: config.enableDataRoutes !== false, enableMessageRoutes: config.enableMessageRoutes !== false, version: config.version || '2.0.0', ...config };  this.registeredRoutes = []; }  /** Configurar todas las rutas 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupModularRoutes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/routes/RouteManager.js</div>
                <div class="item-description">Configurar rutas modulares principales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupDataRoutes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/routes/RouteManager.js</div>
                <div class="item-description">Configurar rutas de datos (compatibilidad)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupMessageRoutes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/routes/RouteManager.js</div>
                <div class="item-description">Configurar rutas de mensajes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupHealthRoute</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/routes/RouteManager.js</div>
                <div class="item-description">Configurar ruta de salud del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleMessagesData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/routes/RouteManager.js</div>
                <div class="item-description">Manejar datos de mensajes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleContactsData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/routes/RouteManager.js</div>
                <div class="item-description">Manejar datos de contactos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleMessageUpdates</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/routes/RouteManager.js</div>
                <div class="item-description">Manejar actualizaciones de mensajes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleHealthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/routes/RouteManager.js</div>
                <div class="item-description">Manejar health check</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerCustomRoute</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/routes/RouteManager.js</div>
                <div class="item-description">Registrar ruta personalizada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/routes/RouteManager.js</div>
                <div class="item-description">Obtener informaci√≥n de rutas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/routes/RouteManager.js</div>
                <div class="item-description">Validar configuraci√≥n de rutas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupAll</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/static/StaticFileManager.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Gestor de Archivos Est√°ticos del Servidor  M√≥dulo especializado para la configuraci√≥n y gesti√≥n de archivos est√°ticos del servidor Express. Centraliza toda la l√≥gica de servir assets. <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0 /  import express from 'express'; import path from 'path'; import fs from 'fs'; import { fileURLToPath } from 'url'; import { createLogger } from '../../core/core/logger.js';  const logger = createLogger('STATIC_FILE_MANAGER');  const __filename = fileURLToPath(import.meta.url); const __dirname = path.dirname(__filename);  /** Gestor de Archivos Est√°ticos / export class StaticFileManager { constructor(app, config = {}) { this.app = app; this.config = { clientPath: config.clientPath || path.join(__dirname, '../../../../client'), publicPath: config.publicPath || path.join(__dirname, '../../../../public'), uploadsPath: config.uploadsPath || path.join(__dirname, '../../../../uploads'), enableClientServing: config.enableClientServing !== false, enablePublicServing: config.enablePublicServing !== false, enableUploadsServing: config.enableUploadsServing !== false, enableSPA: config.enableSPA !== false, // Single Page Application support cacheControl: config.cacheControl || 'public, max-age=3600', ...config };  this.servedPaths = []; }  /** Configurar todos los archivos est√°ticos 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupClientFiles</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/static/StaticFileManager.js</div>
                <div class="item-description">Configurar archivos del cliente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupPublicFiles</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/static/StaticFileManager.js</div>
                <div class="item-description">Configurar archivos p√∫blicos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupUploadsFiles</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/static/StaticFileManager.js</div>
                <div class="item-description">Configurar archivos de uploads</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupSPASupport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/static/StaticFileManager.js</div>
                <div class="item-description">Configurar soporte para SPA (Single Page Application)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addStaticRoute</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/static/StaticFileManager.js</div>
                <div class="item-description">Agregar ruta est√°tica personalizada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkFileIntegrity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/static/StaticFileManager.js</div>
                <div class="item-description">Verificar integridad de archivos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/static/StaticFileManager.js</div>
                <div class="item-description">Verificar directorio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getDirectoryStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/static/StaticFileManager.js</div>
                <div class="item-description">Obtener estad√≠sticas del directorio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/static/StaticFileManager.js</div>
                <div class="item-description">Obtener informaci√≥n del gestor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupTempFiles</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/static/StaticFileManager.js</div>
                <div class="item-description">Limpiar archivos temporales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/websocket/SocketManager.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Gestor de WebSocket del Servidor  M√≥dulo especializado para la configuraci√≥n y gesti√≥n de WebSocket usando Socket.IO. Centraliza toda la l√≥gica de comunicaci√≥n en tiempo real. <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0 /  import { Server as SocketIOServer } from 'socket.io'; import { createLogger } from '../../core/core/logger.js';  const logger = createLogger('SOCKET_MANAGER');  /** Gestor de WebSocket / export class SocketManager { constructor(httpServer, config = {}) { this.httpServer = httpServer; this.config = { cors: { origin: config.allowedOrigins || process.env.ALLOWED_ORIGINS?.split(',') || ['http://localhost:3000'], methods: ['GET', 'POST'] }, updateInterval: config.updateInterval || 30000, // 30 segundos enableDashboardUpdates: config.enableDashboardUpdates !== false, enableRoomManagement: config.enableRoomManagement !== false, ...config };  this.io = null; this.connectedClients = new Map(); this.rooms = new Map(); this.updateInterval = null; }  /** Inicializar Socket.IO 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventHandlers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/websocket/SocketManager.js</div>
                <div class="item-description">Configurar manejadores de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleConnection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/websocket/SocketManager.js</div>
                <div class="item-description">Manejar nueva conexi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupClientEvents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/websocket/SocketManager.js</div>
                <div class="item-description">Configurar eventos del cliente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleJoinRoom</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/websocket/SocketManager.js</div>
                <div class="item-description">Manejar unirse a sala</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleLeaveRoom</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/websocket/SocketManager.js</div>
                <div class="item-description">Manejar salir de sala</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleChatMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/websocket/SocketManager.js</div>
                <div class="item-description">Manejar mensaje de chat</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleStatusUpdate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/websocket/SocketManager.js</div>
                <div class="item-description">Manejar actualizaci√≥n de estado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleDisconnection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/websocket/SocketManager.js</div>
                <div class="item-description">Manejar desconexi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupPeriodicUpdates</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/websocket/SocketManager.js</div>
                <div class="item-description">Configurar actualizaciones peri√≥dicas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendDashboardUpdate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/websocket/SocketManager.js</div>
                <div class="item-description">Enviar actualizaci√≥n del dashboard</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateClientActivity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/websocket/SocketManager.js</div>
                <div class="item-description">Actualizar actividad del cliente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/websocket/SocketManager.js</div>
                <div class="item-description">Obtener informaci√≥n del socket manager</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/server/websocket/SocketManager.js</div>
                <div class="item-description">Detener el socket manager</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeCheckpointDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/CheckpointService.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Servicio de Checkpoints Extra√≠do de SafeRollbackSystem.js para mejorar la modularidad /  import fs from 'fs/promises'; import path from 'path'; import { EventEmitter } from 'events'; import { createLogger } from '../core/core/logger.js';  const logger = createLogger('CHECKPOINT_SERVICE');  /** Tipos de checkpoint / export const CheckpointType = { SYSTEM: 'SYSTEM', TEST: 'TEST', MANUAL: 'MANUAL', AUTO: 'AUTO' };  /** Estados de checkpoint / export const CheckpointState = { CREATING: 'creating', COMPLETED: 'completed', FAILED: 'failed', RESTORING: 'restoring' };  /**<br><strong>@class:</strong> CheckpointService Servicio para manejo de checkpoints del sistema / export class CheckpointService extends EventEmitter { constructor(options = {}) { super();  this.checkpointDir = options.checkpointDir || path.join(process.cwd(), '.checkpoints'); this.maxCheckpoints = options.maxCheckpoints || 10; this.logger = logger; this.checkpoints = new Map();  this.initializeCheckpointDirectory(); }  /** Inicializar directorio de checkpoints 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createCheckpoint</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/CheckpointService.js</div>
                <div class="item-description">Crear un nuevo checkpoint</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">captureEnvironment</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/CheckpointService.js</div>
                <div class="item-description">Capturar estado del entorno</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">captureConfiguration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/CheckpointService.js</div>
                <div class="item-description">Capturar configuraci√≥n del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">captureSystemState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/CheckpointService.js</div>
                <div class="item-description">Capturar estado del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">captureTestState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/CheckpointService.js</div>
                <div class="item-description">Capturar estado de pruebas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">captureJestConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/CheckpointService.js</div>
                <div class="item-description">Capturar configuraci√≥n de Jest</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scanTestFiles</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/CheckpointService.js</div>
                <div class="item-description">Escanear archivos de prueba</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveCheckpointToDisk</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/CheckpointService.js</div>
                <div class="item-description">Guardar checkpoint en disco</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadCheckpointFromDisk</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/CheckpointService.js</div>
                <div class="item-description">Cargar checkpoint desde disco</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">listCheckpoints</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/CheckpointService.js</div>
                <div class="item-description">Listar checkpoints disponibles</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getCheckpoint</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/CheckpointService.js</div>
                <div class="item-description">Obtener checkpoint por ID</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deleteCheckpoint</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/CheckpointService.js</div>
                <div class="item-description">Eliminar checkpoint</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldCheckpoints</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/CheckpointService.js</div>
                <div class="item-description">Limpiar checkpoints antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/CheckpointService.js</div>
                <div class="item-description">Obtener estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/CheckpointService.js</div>
                <div class="item-description">Limpiar todos los recursos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeRollbackWithTimeout</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/RollbackOperationsService.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Servicio de Operaciones de Rollback Extra√≠do de SafeRollbackSystem.js para mejorar la modularidad /  import fs from 'fs/promises'; import path from 'path'; import { EventEmitter } from 'events'; import { createLogger } from '../core/core/logger.js';  const logger = createLogger('ROLLBACK_OPERATIONS_SERVICE');  /** Tipos de operaciones que soportan rollback / export const OperationType = { FILE_SYSTEM: 'file_system', DATABASE: 'database', CONFIGURATION: 'configuration', ENVIRONMENT: 'environment', NETWORK: 'network', PROCESS: 'process', MEMORY: 'memory' };  /** Estados de rollback / export const RollbackState = { IDLE: 'idle', EXECUTING: 'executing', COMPLETED: 'completed', FAILED: 'failed' };  /**<br><strong>@class:</strong> RollbackOperationsService Servicio para ejecutar operaciones de rollback espec√≠ficas / export class RollbackOperationsService extends EventEmitter { constructor(options = {}) { super();  this.timeout = options.timeout || 30000; // 30 segundos por defecto this.logger = logger; this.activeOperations = new Map(); }  /** Ejecutar rollback con timeout 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">rollbackFileSystem</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/RollbackOperationsService.js</div>
                <div class="item-description">Rollback del sistema de archivos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">rollbackConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/RollbackOperationsService.js</div>
                <div class="item-description">Rollback de configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">rollbackEnvironment</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/RollbackOperationsService.js</div>
                <div class="item-description">Rollback de entorno</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">rollbackProcess</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/RollbackOperationsService.js</div>
                <div class="item-description">Rollback de procesos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">rollbackMemory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/RollbackOperationsService.js</div>
                <div class="item-description">Rollback de memoria</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">verifyRollbackIntegrity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/RollbackOperationsService.js</div>
                <div class="item-description">Verificar integridad despu√©s del rollback</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getOperationStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/RollbackOperationsService.js</div>
                <div class="item-description">Obtener estad√≠sticas de operaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cancelOperation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/RollbackOperationsService.js</div>
                <div class="item-description">Cancelar operaci√≥n activa</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/RollbackOperationsService.js</div>
                <div class="item-description">Limpiar recursos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventHandlers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/SafeRollbackService.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Servicio Principal de Rollback Seguro Extra√≠do de SafeRollbackSystem.js para mejorar la modularidad /  import { EventEmitter } from 'events'; import { CheckpointService } from './CheckpointService.js'; import { RollbackOperationsService, OperationType, RollbackState } from './RollbackOperationsService.js'; import { createLogger } from '../core/core/logger.js';  const logger = createLogger('SAFE_ROLLBACK_SERVICE');  /**<br><strong>@class:</strong> SafeRollbackService Servicio principal que coordina el sistema de rollback seguro / export class SafeRollbackService extends EventEmitter { constructor(options = {}) { super();  this.options = { maxCheckpoints: options.maxCheckpoints || 10, autoCleanup: options.autoCleanup !== false, cleanupInterval: options.cleanupInterval || 24 * 60 * 60 * 1000, // 24 horas enableAutoHealing: options.enableAutoHealing !== false, healingThreshold: options.healingThreshold || 3, ...options };  this.checkpointService = new CheckpointService(this.options); this.operationsService = new RollbackOperationsService(this.options);  this.state = RollbackState.IDLE; this.currentOperation = null; this.failureCount = 0; this.lastHealthCheck = null;  this.logger = logger;  // Configurar eventos this.setupEventHandlers();  // Inicializar limpieza autom√°tica if (this.options.autoCleanup) { this.startAutoCleanup(); }  this.logger.info('SafeRollbackService inicializado', { maxCheckpoints: this.options.maxCheckpoints, autoCleanup: this.options.autoCleanup, enableAutoHealing: this.options.enableAutoHealing }); }  /** Configurar manejadores de eventos 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createCheckpoint</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/SafeRollbackService.js</div>
                <div class="item-description">Crear un checkpoint del estado actual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">listCheckpoints</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/SafeRollbackService.js</div>
                <div class="item-description">Listar checkpoints disponibles</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeRollback</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/SafeRollbackService.js</div>
                <div class="item-description">Ejecutar rollback a un checkpoint espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectIssues</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/SafeRollbackService.js</div>
                <div class="item-description">Detectar problemas en el sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">attemptAutoHealing</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/SafeRollbackService.js</div>
                <div class="item-description">Intentar auto-sanaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startAutoCleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/SafeRollbackService.js</div>
                <div class="item-description">Iniciar limpieza autom√°tica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSystemStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/SafeRollbackService.js</div>
                <div class="item-description">Obtener estado del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/testing/SafeRollbackService.js</div>
                <div class="item-description">Limpiar recursos y detener el servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeManager</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/webhooks/WebhookManager.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Webhook Manager Service Gestiona webhooks entrantes y salientes con validaci√≥n, retry y logging <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 6.0.0<br><strong>@since:</strong> 3.0.0 /  import crypto from 'crypto'; import axios from 'axios'; import { EventEmitter } from 'events'; import { logger } from '../core/logger.js';  /** Estados de webhook / export const WebhookStatus = { PENDING: 'pending', PROCESSING: 'processing', SUCCESS: 'success', FAILED: 'failed', RETRYING: 'retrying', CANCELLED: 'cancelled' };  /** Tipos de webhook / export const WebhookType = { INCOMING: 'incoming', OUTGOING: 'outgoing' };  /** Eventos de webhook / export const WebhookEvents = { MESSAGE_RECEIVED: 'message.received', MESSAGE_SENT: 'message.sent', USER_JOINED: 'user.joined', USER_LEFT: 'user.left', CONVERSATION_STARTED: 'conversation.started', CONVERSATION_ENDED: 'conversation.ended', ERROR_OCCURRED: 'error.occurred', SYSTEM_STATUS: 'system.status' };  /** Clase principal del gestor de webhooks / export class WebhookManager extends EventEmitter { constructor(config = {}) { super();  this.config = { // Configuraci√≥n de retry retry: { maxAttempts: 3, baseDelay: 1000, maxDelay: 30000, backoffFactor: 2 },  // Configuraci√≥n de timeout timeout: 30000,  // Configuraci√≥n de validaci√≥n validation: { enabled: true, requireSignature: true, signatureHeader: 'X-Webhook-Signature', timestampHeader: 'X-Webhook-Timestamp', maxTimestampAge: 300000 // 5 minutos },  // Configuraci√≥n de rate limiting rateLimit: { enabled: true, maxRequestsPerMinute: 60, maxRequestsPerHour: 1000 },  // Configuraci√≥n de logging logging: { enabled: true, logPayloads: false, logHeaders: true },  ...config };  // Almacenamiento de webhooks this.webhooks = new Map(); this.subscriptions = new Map(); this.deliveryQueue = []; this.retryQueue = [];  // Estad√≠sticas this.stats = { totalReceived: 0, totalSent: 0, totalFailed: 0, totalRetries: 0, averageProcessingTime: 0, lastProcessingTime: 0 };  // Rate limiting this.rateLimitCounters = new Map();  this.initializeManager(); }  /** Inicializa el gestor de webhooks 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerWebhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/webhooks/WebhookManager.js</div>
                <div class="item-description">Registra un webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unregisterWebhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/webhooks/WebhookManager.js</div>
                <div class="item-description">Desregistra un webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">subscribe</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/webhooks/WebhookManager.js</div>
                <div class="item-description">Suscribe a eventos de webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unsubscribe</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/webhooks/WebhookManager.js</div>
                <div class="item-description">Desuscribe de eventos de webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processIncomingWebhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/webhooks/WebhookManager.js</div>
                <div class="item-description">Procesa webhook entrante</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendWebhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/webhooks/WebhookManager.js</div>
                <div class="item-description">Env√≠a webhook saliente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateIncomingWebhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/webhooks/WebhookManager.js</div>
                <div class="item-description">Valida webhook entrante</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processWebhookData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/webhooks/WebhookManager.js</div>
                <div class="item-description">Procesa datos de webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deliverWebhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/webhooks/WebhookManager.js</div>
                <div class="item-description">Entrega webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scheduleRetry</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/webhooks/WebhookManager.js</div>
                <div class="item-description">Programa retry de webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateSignature</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/webhooks/WebhookManager.js</div>
                <div class="item-description">Genera firma para webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">verifySignature</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/webhooks/WebhookManager.js</div>
                <div class="item-description">Verifica firma de webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkRateLimit</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/webhooks/WebhookManager.js</div>
                <div class="item-description">Verifica rate limiting</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupQueueProcessing</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/webhooks/WebhookManager.js</div>
                <div class="item-description">Configura procesamiento de colas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processDeliveryQueue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/webhooks/WebhookManager.js</div>
                <div class="item-description">Procesa cola de entrega</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processRetryQueue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/webhooks/WebhookManager.js</div>
                <div class="item-description">Procesa cola de retry</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupCleanupTasks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/webhooks/WebhookManager.js</div>
                <div class="item-description">Configura tareas de limpieza</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupRateLimitCounters</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/webhooks/WebhookManager.js</div>
                <div class="item-description">Limpia contadores de rate limit antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/webhooks/WebhookManager.js</div>
                <div class="item-description">Actualiza estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/webhooks/WebhookManager.js</div>
                <div class="item-description">Obtiene estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getWebhooks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/webhooks/WebhookManager.js</div>
                <div class="item-description">Obtiene informaci√≥n de webhooks</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getWebhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/webhooks/WebhookManager.js</div>
                <div class="item-description">Obtiene webhook por ID</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateWebhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/webhooks/WebhookManager.js</div>
                <div class="item-description">Actualiza configuraci√≥n de webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">toggleWebhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/webhooks/WebhookManager.js</div>
                <div class="item-description">Activa/desactiva webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">close</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/services/webhooks/WebhookManager.js</div>
                <div class="item-description">Cierra el gestor de webhooks</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/errors/errors/ErrorHandler.js</div>
                <div class="item-description">ErrorHandler - Manejador centralizado de errores para el core del chatbot Proporciona funcionalidades avanzadas de manejo y recuperaci√≥n de errores / import { EventEmitter } from 'events'; import { errorManager } from '../../utils/helpers/error_manager.js'; class ErrorHandler extends EventEmitter { constructor(options = {}) { super(); this.options = { enableRecovery: options.enableRecovery !== false, maxRetries: options.maxRetries || 3, retryDelay: options.retryDelay || 1000, enableCircuitBreaker: options.enableCircuitBreaker !== false, circuitBreakerThreshold: options.circuitBreakerThreshold || 5, circuitBreakerTimeout: options.circuitBreakerTimeout || 30000, ...options }; this.circuitBreakers = new Map(); this.retryCounters = new Map(); this.errorPatterns = new Map(); this.recoveryStrategies = new Map(); this.setupDefaultStrategies(); this.setupDefaultPatterns(); } /** Maneja un error con estrategias de recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">normalizeError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/errors/errors/ErrorHandler.js</div>
                <div class="item-description">Normaliza errores a un formato est√°ndar</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">determineSeverity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/errors/errors/ErrorHandler.js</div>
                <div class="item-description">Determina la severidad del error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">categorizeError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/errors/errors/ErrorHandler.js</div>
                <div class="item-description">Categoriza el error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">attemptRecovery</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/errors/errors/ErrorHandler.js</div>
                <div class="item-description">Intenta recuperaci√≥n autom√°tica del error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRecoveryStrategy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/errors/errors/ErrorHandler.js</div>
                <div class="item-description">Obtiene estrategia de recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerRecoveryStrategy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/errors/errors/ErrorHandler.js</div>
                <div class="item-description">Registra una estrategia de recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">isCircuitOpen</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/errors/errors/ErrorHandler.js</div>
                <div class="item-description">Verifica si el circuit breaker est√° abierto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateCircuitBreaker</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/errors/errors/ErrorHandler.js</div>
                <div class="item-description">Actualiza el estado del circuit breaker</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/errors/errors/ErrorHandler.js</div>
                <div class="item-description">Registra el error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupDefaultStrategies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/errors/errors/ErrorHandler.js</div>
                <div class="item-description">Configura estrategias de recuperaci√≥n por defecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupDefaultPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/errors/errors/ErrorHandler.js</div>
                <div class="item-description">Configura patrones de error por defecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">delay</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/errors/errors/ErrorHandler.js</div>
                <div class="item-description">Funci√≥n de utilidad para delay</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/errors/errors/ErrorHandler.js</div>
                <div class="item-description">Obtiene estad√≠sticas del manejador de errores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">reset</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/errors/errors/ErrorHandler.js</div>
                <div class="item-description">Limpia contadores y estados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupDefaultHandlers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/error_manager.js</div>
                <div class="item-description">Error Manager Service Gesti√≥n centralizada de errores del sistema / import { EventEmitter } from 'events'; /** Tipos de errores del sistema / export const ErrorTypes = { VALIDATION: 'VALIDATION_ERROR', AUTHENTICATION: 'AUTHENTICATION_ERROR', AUTHORIZATION: 'AUTHORIZATION_ERROR', NOT_FOUND: 'NOT_FOUND_ERROR', CONFLICT: 'CONFLICT_ERROR', RATE_LIMIT: 'RATE_LIMIT_ERROR', EXTERNAL_SERVICE: 'EXTERNAL_SERVICE_ERROR', DATABASE: 'DATABASE_ERROR', NETWORK: 'NETWORK_ERROR', TIMEOUT: 'TIMEOUT_ERROR', INTERNAL: 'INTERNAL_ERROR', CONFIGURATION: 'CONFIGURATION_ERROR', SECURITY: 'SECURITY_ERROR', BUSINESS_LOGIC: 'BUSINESS_LOGIC_ERROR' }; /** Severidad de errores / export const ErrorSeverity = { LOW: 'low', MEDIUM: 'medium', HIGH: 'high', CRITICAL: 'critical' }; /** Clase base para errores personalizados / export class BaseError extends Error { constructor(message, type = ErrorTypes.INTERNAL, severity = ErrorSeverity.MEDIUM, details = {}) { super(message); this.name = this.constructor.name; this.type = type; this.severity = severity; this.details = details; this.timestamp = new Date(); this.id = this.generateErrorId(); // Mantener stack trace if (Error.captureStackTrace) { Error.captureStackTrace(this, this.constructor); } } generateErrorId() { return `err_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`; } toJSON() { return { id: this.id, name: this.name, message: this.message, type: this.type, severity: this.severity, details: this.details, timestamp: this.timestamp, stack: this.stack }; } } /** Errores espec√≠ficos del sistema / export class ValidationError extends BaseError { constructor(message, field = null, value = null) { super(message, ErrorTypes.VALIDATION, ErrorSeverity.LOW, { field, value }); } } export class AuthenticationError extends BaseError { constructor(message = 'Authentication failed') { super(message, ErrorTypes.AUTHENTICATION, ErrorSeverity.HIGH); } } export class AuthorizationError extends BaseError { constructor(message = 'Access denied', resource = null, action = null) { super(message, ErrorTypes.AUTHORIZATION, ErrorSeverity.HIGH, { resource, action }); } } export class NotFoundError extends BaseError { constructor(message = 'Resource not found', resource = null, id = null) { super(message, ErrorTypes.NOT_FOUND, ErrorSeverity.LOW, { resource, id }); } } export class ConflictError extends BaseError { constructor(message = 'Resource conflict', resource = null) { super(message, ErrorTypes.CONFLICT, ErrorSeverity.MEDIUM, { resource }); } } export class RateLimitError extends BaseError { constructor(message = 'Rate limit exceeded', limit = null, window = null) { super(message, ErrorTypes.RATE_LIMIT, ErrorSeverity.MEDIUM, { limit, window }); } } export class ExternalServiceError extends BaseError { constructor(message, service = null, statusCode = null) { super(message, ErrorTypes.EXTERNAL_SERVICE, ErrorSeverity.HIGH, { service, statusCode }); } } export class DatabaseError extends BaseError { constructor(message, operation = null, table = null) { super(message, ErrorTypes.DATABASE, ErrorSeverity.HIGH, { operation, table }); } } export class NetworkError extends BaseError { constructor(message, url = null, method = null) { super(message, ErrorTypes.NETWORK, ErrorSeverity.MEDIUM, { url, method }); } } export class TimeoutError extends BaseError { constructor(message = 'Operation timeout', timeout = null) { super(message, ErrorTypes.TIMEOUT, ErrorSeverity.MEDIUM, { timeout }); } } export class ConfigurationError extends BaseError { constructor(message, config = null) { super(message, ErrorTypes.CONFIGURATION, ErrorSeverity.HIGH, { config }); } } export class SecurityError extends BaseError { constructor(message, threat = null, ip = null) { super(message, ErrorTypes.SECURITY, ErrorSeverity.CRITICAL, { threat, ip }); } } export class BusinessLogicError extends BaseError { constructor(message, rule = null) { super(message, ErrorTypes.BUSINESS_LOGIC, ErrorSeverity.MEDIUM, { rule }); } } /** Gestor de errores principal / class ErrorManager extends EventEmitter { constructor(config = {}) { super(); this.config = { enableLogging: true, enableNotifications: true, enableMetrics: true, maxErrorHistory: 1000, alertThresholds: { [ErrorSeverity.CRITICAL]: 1, [ErrorSeverity.HIGH]: 5, [ErrorSeverity.MEDIUM]: 20, [ErrorSeverity.LOW]: 50 }, alertWindow: 300000, // 5 minutos ...config }; this.errors = new Map(); this.errorHistory = []; this.metrics = { total: 0, byType: new Map(), bySeverity: new Map(), byHour: new Map(), resolved: 0, unresolved: 0 }; this.handlers = new Map(); this.alertCounts = new Map(); this.setupDefaultHandlers(); this.startMetricsCleanup(); } /** Configura manejadores por defecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/error_manager.js</div>
                <div class="item-description">Registra un error en el sistema</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {Error|BaseError} error - Error a registrar, {object} context - Contexto adicional<br><strong>@returns:</strong> {Promise<object>} Resultado del manejo 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">normalizeError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/error_manager.js</div>
                <div class="item-description">Normaliza un error a BaseError</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {Error} error - Error original<br><strong>@returns:</strong> {BaseError} Error normalizado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/error_manager.js</div>
                <div class="item-description">Registra un error</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {BaseError} error - Error a registrar, {object} context - Contexto 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/error_manager.js</div>
                <div class="item-description">Actualiza m√©tricas de errores</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {BaseError} error - Error 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkAlerts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/error_manager.js</div>
                <div class="item-description">Verifica si se deben enviar alertas</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {BaseError} error - Error 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeHandler</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/error_manager.js</div>
                <div class="item-description">Ejecuta manejador espec√≠fico para un error</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {BaseError} error - Error, {object} context - Contexto<br><strong>@returns:</strong> {Promise<object>} Resultado del manejador 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">defaultHandler</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/error_manager.js</div>
                <div class="item-description">Manejador por defecto</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {BaseError} error - Error, {object} context - Contexto<br><strong>@returns:</strong> {object} Resultado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerHandler</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/error_manager.js</div>
                <div class="item-description">Registra un manejador de error</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} type - Tipo de error, {function} handler - Funci√≥n manejadora 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/error_manager.js</div>
                <div class="item-description">Registra error en logs</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {BaseError} error - Error 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getLogLevel</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/error_manager.js</div>
                <div class="item-description">Obtiene nivel de log seg√∫n severidad</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} severity - Severidad<br><strong>@returns:</strong> {string} Nivel de log 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">resolveError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/error_manager.js</div>
                <div class="item-description">Marca un error como resuelto</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} errorId - ID del error, {string} resolution - Descripci√≥n de la resoluci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/error_manager.js</div>
                <div class="item-description">Obtiene un error por ID</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} errorId - ID del error<br><strong>@returns:</strong> {BaseError} Error 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">listErrors</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/error_manager.js</div>
                <div class="item-description">Lista errores con filtros</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} filters - Filtros<br><strong>@returns:</strong> {array} Lista de errores 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/error_manager.js</div>
                <div class="item-description">Obtiene m√©tricas de errores</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {object} M√©tricas 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateErrorRate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/error_manager.js</div>
                <div class="item-description">Calcula tasa de errores</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {object} Tasa de errores 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getTopErrors</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/error_manager.js</div>
                <div class="item-description">Obtiene errores m√°s frecuentes</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {array} Top errores 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startMetricsCleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/error_manager.js</div>
                <div class="item-description">Inicia limpieza de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">exportErrors</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/error_manager.js</div>
                <div class="item-description">Exporta errores para an√°lisis</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} filters - Filtros<br><strong>@returns:</strong> {object} Datos exportados 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupErrors</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/error_manager.js</div>
                <div class="item-description">Limpia errores antiguos</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {number} maxAge - Edad m√°xima en milisegundos 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/error_manager.js</div>
                <div class="item-description">Limpia recursos y intervalos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugDashboard.js</div>
                <div class="item-description">Dashboard web para debugging y monitoreo Proporciona una interfaz web en tiempo real para visualizar m√©tricas y logs / class DebugDashboard { constructor(options = {}) { this.config = { enabled: process.env.DEBUG_DASHBOARD_ENABLED !== 'false', port: parseInt(process.env.DEBUG_DASHBOARD_PORT) || 3001, host: process.env.DEBUG_DASHBOARD_HOST || 'localhost', updateInterval: parseInt(process.env.DEBUG_UPDATE_INTERVAL) || 5000, maxLogEntries: parseInt(process.env.DEBUG_MAX_LOG_ENTRIES) || 1000, enableAuth: process.env.DEBUG_DASHBOARD_AUTH === 'true', authToken: process.env.DEBUG_DASHBOARD_TOKEN || 'debug-token-123', ...options }; this.app = express(); this.server = http.createServer(this.app); this.io = new Server(this.server, { cors: { origin: '*', methods: ['GET', 'POST'] } }); this.monitors = new Map(); this.logBuffer = []; this.metrics = { requests: [], errors: [], performance: [], system: {}, alerts: [] }; this.isRunning = false; this.connectedClients = new Set(); this.initialize(); } /** Inicializar el dashboard</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupRoutes</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugDashboard.js</div>
                <div class="item-description">Configurar rutas del dashboard</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupSocketHandlers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugDashboard.js</div>
                <div class="item-description">Configurar manejadores de Socket.IO</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupMiddleware</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugDashboard.js</div>
                <div class="item-description">Configurar middleware</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerMonitor</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugDashboard.js</div>
                <div class="item-description">Registrar monitor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addLogEntry</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugDashboard.js</div>
                <div class="item-description">A√±adir entrada de log</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addRequestMetric</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugDashboard.js</div>
                <div class="item-description">A√±adir m√©trica de request</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addErrorMetric</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugDashboard.js</div>
                <div class="item-description">A√±adir m√©trica de error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addPerformanceMetric</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugDashboard.js</div>
                <div class="item-description">A√±adir m√©trica de performance</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugDashboard.js</div>
                <div class="item-description">A√±adir alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMetricsSnapshot</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugDashboard.js</div>
                <div class="item-description">Obtener snapshot de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSystemInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugDashboard.js</div>
                <div class="item-description">Obtener informaci√≥n del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateAverageResponseTime</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugDashboard.js</div>
                <div class="item-description">Calcular tiempo de respuesta promedio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStatusCodeDistribution</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugDashboard.js</div>
                <div class="item-description">Obtener distribuci√≥n de c√≥digos de estado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateErrorRate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugDashboard.js</div>
                <div class="item-description">Calcular tasa de errores</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateAveragePerformance</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugDashboard.js</div>
                <div class="item-description">Calcular performance promedio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleCommand</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugDashboard.js</div>
                <div class="item-description">Manejar comandos del cliente</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">broadcastUpdate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugDashboard.js</div>
                <div class="item-description">Broadcast de actualizaciones a clientes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateDashboardHTML</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugDashboard.js</div>
                <div class="item-description">Generar HTML del dashboard</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">start</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugDashboard.js</div>
                <div class="item-description">Iniciar el servidor del dashboard</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugDashboard.js</div>
                <div class="item-description">Detener el servidor del dashboard</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getURL</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugDashboard.js</div>
                <div class="item-description">Obtener URL del dashboard</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugMonitor.js</div>
                <div class="item-description">Sistema avanzado de debugging y monitoreo Proporciona herramientas para debugging, profiling, m√©tricas y monitoreo en tiempo real / class DebugMonitor extends EventEmitter { constructor(options = {}) { super(); this.config = { enabled: process.env.DEBUG_MONITOR_ENABLED !== 'false', logLevel: process.env.DEBUG_LOG_LEVEL || 'info', metricsInterval: parseInt(process.env.METRICS_INTERVAL) || 30000, // 30 segundos maxMemorySnapshots: parseInt(process.env.MAX_MEMORY_SNAPSHOTS) || 100, performanceThreshold: parseInt(process.env.PERFORMANCE_THRESHOLD) || 1000, // 1 segundo enableProfiling: process.env.ENABLE_PROFILING === 'true', enableMemoryTracking: process.env.ENABLE_MEMORY_TRACKING !== 'false', enablePerformanceTracking: process.env.ENABLE_PERFORMANCE_TRACKING !== 'false', dataPath: options.dataPath || path.join(process.cwd(), 'data', 'debug'), ...options }; this.metrics = { requests: new Map(), errors: new Map(), performance: new Map(), memory: [], cpu: [], activeConnections: 0, totalRequests: 0, totalErrors: 0 }; this.profilers = new Map(); this.watchers = new Map(); this.alerts = new Map(); this.initialize(); } /** Inicializar el sistema de monitoreo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">debug</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugMonitor.js</div>
                <div class="item-description">Crear un punto de debugging</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">breakpoint</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugMonitor.js</div>
                <div class="item-description">Crear un breakpoint condicional</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">inspect</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugMonitor.js</div>
                <div class="item-description">Inspeccionar objeto en profundidad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startProfiling</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugMonitor.js</div>
                <div class="item-description">Iniciar profiling de una funci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">endProfiling</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugMonitor.js</div>
                <div class="item-description">Finalizar profiling</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">profile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugMonitor.js</div>
                <div class="item-description">Decorator para profiling autom√°tico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">trackMetric</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugMonitor.js</div>
                <div class="item-description">Rastrear una m√©trica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">trackError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugMonitor.js</div>
                <div class="item-description">Rastrear error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">trackRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugMonitor.js</div>
                <div class="item-description">Rastrear request</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startMemoryTracking</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugMonitor.js</div>
                <div class="item-description">Iniciar tracking de memoria</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startPerformanceTracking</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugMonitor.js</div>
                <div class="item-description">Iniciar tracking de performance</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupProcessMonitoring</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugMonitor.js</div>
                <div class="item-description">Configurar monitoreo de proceso</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startMetricsCollection</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugMonitor.js</div>
                <div class="item-description">Iniciar colecci√≥n de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">watch</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugMonitor.js</div>
                <div class="item-description">Observar cambios en una variable</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">unwatch</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugMonitor.js</div>
                <div class="item-description">Detener watcher</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setAlert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugMonitor.js</div>
                <div class="item-description">Configurar alerta</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkAlerts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugMonitor.js</div>
                <div class="item-description">Verificar alertas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMetricsSummary</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugMonitor.js</div>
                <div class="item-description">Obtener resumen de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateDebugReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugMonitor.js</div>
                <div class="item-description">Generar reporte de debugging</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">exportMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugMonitor.js</div>
                <div class="item-description">Exportar m√©tricas para herramientas externas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">formatPrometheusMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugMonitor.js</div>
                <div class="item-description">Formatear m√©tricas para Prometheus</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugMonitor.js</div>
                <div class="item-description">Limpiar datos antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/DebugMonitor.js</div>
                <div class="item-description">Detener el monitor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializePersuader</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/MessageUtils.js</div>
                <div class="item-description">Message Utils - Utilidades Consolidadas de Mensajes Reemplaza todas las funciones duplicadas de env√≠o de mensajes Estilo Manychat unificado y mejorado / import { unified360DialogService } from '../../../../services/core/core/Unified360DialogService.js'; import logger from '../../../../services/core/core/logger.js'; import { Persuader } from '../../../../../apps/api/src/ai/persuader.js'; /** Clase de utilidades de mensajes consolidada / export class MessageUtils { constructor() { this.service = unified360DialogService; this.persuader = null; } /** Inicializar persuader de IA</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendTextMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/MessageUtils.js</div>
                <div class="item-description">Enviar mensaje de texto simple Reemplaza: enviarMensajeTexto()</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendThankYouMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/MessageUtils.js</div>
                <div class="item-description">Enviar mensaje de agradecimiento personalizado Reemplaza: enviarMensajeAgradecimiento()</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateFallbackThankYouMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/MessageUtils.js</div>
                <div class="item-description">Generar mensaje de agradecimiento de respaldo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendPaymentInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/MessageUtils.js</div>
                <div class="item-description">Enviar informaci√≥n de pago Reemplaza: enviarInformacionPago()</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendFollowUpMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/MessageUtils.js</div>
                <div class="item-description">Enviar mensaje de seguimiento Reemplaza: enviarMensajeSeguimiento()</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendNumberConfirmation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/MessageUtils.js</div>
                <div class="item-description">Enviar confirmaci√≥n de n√∫meros asignados Reemplaza: enviarConfirmacionNumeros()</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendInteractiveButtons</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/MessageUtils.js</div>
                <div class="item-description">Enviar mensaje con botones interactivos Nueva funcionalidad estilo Manychat</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendInteractiveList</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/MessageUtils.js</div>
                <div class="item-description">Enviar lista interactiva Nueva funcionalidad estilo Manychat</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendWelcomeMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/MessageUtils.js</div>
                <div class="item-description">Enviar mensaje de bienvenida personalizado Nueva funcionalidad mejorada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sendErrorMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/MessageUtils.js</div>
                <div class="item-description">Enviar mensaje de error amigable Nueva funcionalidad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/MessageUtils.js</div>
                <div class="item-description">Obtener m√©tricas del servicio de mensajes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkServiceHealth</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/MessageUtils.js</div>
                <div class="item-description">Verificar estado del servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/PerformanceProfiler.js</div>
                <div class="item-description">Profiler de performance avanzado Proporciona an√°lisis detallado de performance, bottlenecks y optimizaciones / class PerformanceProfiler { constructor(options = {}) { this.config = { enabled: process.env.PERFORMANCE_PROFILER_ENABLED !== 'false', sampleRate: parseFloat(process.env.PERFORMANCE_SAMPLE_RATE) || 1.0, bufferSize: parseInt(process.env.PERFORMANCE_BUFFER_SIZE) || 1000, slowThreshold: parseInt(process.env.PERFORMANCE_SLOW_THRESHOLD) || 100, // ms verySlowThreshold: parseInt(process.env.PERFORMANCE_VERY_SLOW_THRESHOLD) || 1000, // ms enableGC: process.env.PERFORMANCE_ENABLE_GC === 'true', enableAsync: process.env.PERFORMANCE_ENABLE_ASYNC !== 'false', dataPath: options.dataPath || path.join(process.cwd(), 'data', 'performance'), ...options }; this.sessions = new Map(); this.measurements = []; this.observers = []; this.gcStats = []; this.asyncOperations = new Map(); this.initialize(); } /** Inicializar el profiler</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupPerformanceObservers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/PerformanceProfiler.js</div>
                <div class="item-description">Configurar observadores de performance</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupGCMonitoring</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/PerformanceProfiler.js</div>
                <div class="item-description">Configurar monitoreo de Garbage Collection</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startSession</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/PerformanceProfiler.js</div>
                <div class="item-description">Iniciar sesi√≥n de profiling</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">endSession</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/PerformanceProfiler.js</div>
                <div class="item-description">Finalizar sesi√≥n de profiling</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">mark</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/PerformanceProfiler.js</div>
                <div class="item-description">Crear marca de tiempo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">measure</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/PerformanceProfiler.js</div>
                <div class="item-description">Medir tiempo entre marcas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">profileFunction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/PerformanceProfiler.js</div>
                <div class="item-description">Decorator para profiling autom√°tico de funciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">profileAsync</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/PerformanceProfiler.js</div>
                <div class="item-description">Profiling de operaciones as√≠ncronas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">profileSync</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/PerformanceProfiler.js</div>
                <div class="item-description">Profiling de operaciones s√≠ncronas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processMeasurement</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/PerformanceProfiler.js</div>
                <div class="item-description">Procesar medici√≥n de performance</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processNavigationTiming</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/PerformanceProfiler.js</div>
                <div class="item-description">Procesar timing de navegaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processResourceTiming</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/PerformanceProfiler.js</div>
                <div class="item-description">Procesar timing de recursos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processFunctionTiming</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/PerformanceProfiler.js</div>
                <div class="item-description">Procesar timing de funciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processGCTiming</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/PerformanceProfiler.js</div>
                <div class="item-description">Procesar timing de GC</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateSessionSummary</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/PerformanceProfiler.js</div>
                <div class="item-description">Generar resumen de sesi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeBottlenecks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/PerformanceProfiler.js</div>
                <div class="item-description">Analizar bottlenecks</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/PerformanceProfiler.js</div>
                <div class="item-description">Generar reporte de performance</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAverageSessionDuration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/PerformanceProfiler.js</div>
                <div class="item-description">Obtener duraci√≥n promedio de sesiones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSlowSessionsCount</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/PerformanceProfiler.js</div>
                <div class="item-description">Obtener cantidad de sesiones lentas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getTopSlowOperations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/PerformanceProfiler.js</div>
                <div class="item-description">Obtener top operaciones lentas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/PerformanceProfiler.js</div>
                <div class="item-description">Limpiar datos antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/PerformanceProfiler.js</div>
                <div class="item-description">Detener el profiler</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/SystemHealthMonitor.js</div>
                <div class="item-description">Monitor de salud del sistema Supervisa m√©tricas del sistema, recursos, conectividad y estado general / class SystemHealthMonitor extends EventEmitter { constructor(options = {}) { super(); this.config = { enabled: process.env.HEALTH_MONITOR_ENABLED !== 'false', checkInterval: parseInt(process.env.HEALTH_CHECK_INTERVAL) || 30000, // 30 segundos alertThresholds: { memoryUsage: parseFloat(process.env.MEMORY_ALERT_THRESHOLD) || 0.85, // 85% cpuUsage: parseFloat(process.env.CPU_ALERT_THRESHOLD) || 0.80, // 80% diskUsage: parseFloat(process.env.DISK_ALERT_THRESHOLD) || 0.90, // 90% responseTime: parseInt(process.env.RESPONSE_TIME_THRESHOLD) || 5000, // 5 segundos errorRate: parseFloat(process.env.ERROR_RATE_THRESHOLD) || 0.05 // 5% }, retentionPeriod: parseInt(process.env.HEALTH_RETENTION_PERIOD) || 86400000, // 24 horas dataPath: options.dataPath || path.join(process.cwd(), 'data', 'health'), ...options }; this.healthData = { system: [], application: [], network: [], database: [], external: [] }; this.alerts = new Map(); this.services = new Map(); this.healthChecks = new Map(); this.isRunning = false; this.initialize(); } /** Inicializar el monitor de salud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupDefaultHealthChecks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/SystemHealthMonitor.js</div>
                <div class="item-description">Configurar health checks por defecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">addHealthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/SystemHealthMonitor.js</div>
                <div class="item-description">A√±adir health check personalizado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">removeHealthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/SystemHealthMonitor.js</div>
                <div class="item-description">Remover health check</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerService</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/SystemHealthMonitor.js</div>
                <div class="item-description">Registrar servicio para monitoreo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startMonitoring</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/SystemHealthMonitor.js</div>
                <div class="item-description">Iniciar monitoreo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopMonitoring</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/SystemHealthMonitor.js</div>
                <div class="item-description">Detener monitoreo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">runHealthChecks</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/SystemHealthMonitor.js</div>
                <div class="item-description">Ejecutar todos los health checks</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeHealthCheck</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/SystemHealthMonitor.js</div>
                <div class="item-description">Ejecutar un health check individual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkService</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/SystemHealthMonitor.js</div>
                <div class="item-description">Verificar estado de un servicio</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">storeHealthData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/SystemHealthMonitor.js</div>
                <div class="item-description">Almacenar datos de salud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkAlerts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/SystemHealthMonitor.js</div>
                <div class="item-description">Verificar alertas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateOverallStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/SystemHealthMonitor.js</div>
                <div class="item-description">Calcular estado general del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSystemStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/SystemHealthMonitor.js</div>
                <div class="item-description">Obtener estado actual del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getHistoricalMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/SystemHealthMonitor.js</div>
                <div class="item-description">Obtener m√©tricas hist√≥ricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateHealthReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/SystemHealthMonitor.js</div>
                <div class="item-description">Generar reporte de salud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateRecommendations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/SystemHealthMonitor.js</div>
                <div class="item-description">Generar recomendaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">exportMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/SystemHealthMonitor.js</div>
                <div class="item-description">Exportar m√©tricas para monitoreo externo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">formatPrometheusMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/SystemHealthMonitor.js</div>
                <div class="item-description">Formatear m√©tricas para Prometheus</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/SystemHealthMonitor.js</div>
                <div class="item-description">Limpiar datos antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/helpers/SystemHealthMonitor.js</div>
                <div class="item-description">Detener el monitor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">select</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">Query Builder Constructor de consultas SQL optimizado para prevenir problemas de rendimiento Recomendaci√≥n #17: Optimizaci√≥n de consultas de base de datos / import logger from '../logger.js'; class QueryBuilder { constructor(table) { this.table = table; this.selectFields = ['*']; this.whereConditions = []; this.joinClauses = []; this.orderByFields = []; this.groupByFields = []; this.havingConditions = []; this.limitValue = null; this.offsetValue = null; this.params = []; this.queryType = 'SELECT'; this.updateFields = {}; this.insertData = {}; } /** Seleccionar campos espec√≠ficos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">where</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">Agregar condici√≥n WHERE con par√°metros seguros</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">orWhere</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">Agregar condici√≥n WHERE con OR</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">whereIn</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">WHERE IN optimizado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">whereNotIn</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">WHERE NOT IN</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">whereBetween</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">WHERE BETWEEN</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">whereLike</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">WHERE LIKE con escape autom√°tico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">whereNull</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">WHERE IS NULL</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">whereNotNull</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">WHERE IS NOT NULL</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">join</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">JOIN optimizado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">leftJoin</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">LEFT JOIN</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">rightJoin</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">RIGHT JOIN</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">orderBy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">ORDER BY optimizado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">groupBy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">GROUP BY</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">having</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">HAVING</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">limit</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">LIMIT</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">offset</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">OFFSET</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">paginate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">Paginaci√≥n optimizada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">insert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">INSERT</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">update</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">UPDATE</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">delete</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">DELETE</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">build</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">Construir la consulta SQL</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">buildSelect</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">Construir SELECT</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">buildInsert</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">Construir INSERT</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">buildUpdate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">Construir UPDATE</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">buildDelete</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">Construir DELETE</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">buildWhereClause</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">Construir cl√°usula WHERE</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateOperator</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">Validar operador SQL</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sanitizeField</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">Sanitizar nombre de campo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">toSql</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">Obtener consulta como string (para debugging)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clone</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">Clonar el query builder</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">findById</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">Factory function para crear query builders / export function query(table) { return new QueryBuilder(table); } /** Helpers para consultas comunes optimizadas / export const QueryHelpers = { /** Buscar por ID con cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">paginated</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">Buscar con paginaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">Buscar registros recientes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">count</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">Contar registros</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">searchMultiple</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/queryBuilder.js</div>
                <div class="item-description">Buscar con m√∫ltiples condiciones OR</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateResponse</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/helpers/response_generator.js</div>
                <div class="item-description">Generar respuesta optimizada para alto volumen</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createLogDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/logger.js</div>
                <div class="item-description">Logger Service Sistema de logging centralizado para el chatbot / import winston from 'winston'; import path from 'path'; import fs from 'fs'; class Logger { constructor(config = {}) { this.config = { level: process.env.LOG_LEVEL || 'info', maxFiles: 5, maxSize: '20m', datePattern: 'YYYY-MM-DD', logDir: process.env.LOG_DIR || './logs', enableConsole: process.env.NODE_ENV !== 'production', enableFile: true, enableRotation: true, ...config }; this.loggers = new Map(); this.createLogDirectory(); this.setupDefaultLogger(); } /** Crea el directorio de logs si no existe</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupDefaultLogger</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/logger.js</div>
                <div class="item-description">Configura el logger por defecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createModuleLogger</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/logger.js</div>
                <div class="item-description">Crea un logger espec√≠fico para un m√≥dulo</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} module - Nombre del m√≥dulo, {object} options - Opciones espec√≠ficas<br><strong>@returns:</strong> {object} Logger del m√≥dulo 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getLogger</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/logger.js</div>
                <div class="item-description">Obtiene un logger por nombre</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} name - Nombre del logger<br><strong>@returns:</strong> {object} Logger solicitado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">info</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/logger.js</div>
                <div class="item-description">Log de informaci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} message - Mensaje a loggear, {object} meta - Metadatos adicionales, {string} module - M√≥dulo espec√≠fico 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">error</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/logger.js</div>
                <div class="item-description">Log de error</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} message - Mensaje de error, {Error|object} error - Error o metadatos, {string} module - M√≥dulo espec√≠fico 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">warn</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/logger.js</div>
                <div class="item-description">Log de advertencia</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} message - Mensaje de advertencia, {object} meta - Metadatos adicionales, {string} module - M√≥dulo espec√≠fico 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">debug</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/logger.js</div>
                <div class="item-description">Log de debug</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} message - Mensaje de debug, {object} meta - Metadatos adicionales, {string} module - M√≥dulo espec√≠fico 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/logger.js</div>
                <div class="item-description">Log de evento de sistema</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} event - Nombre del evento, {object} data - Datos del evento, {string} module - M√≥dulo espec√≠fico 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/logger.js</div>
                <div class="item-description">Log de petici√≥n HTTP</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} req - Request object, {object} res - Response object, {number} duration - Duraci√≥n de la petici√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logMessage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/logger.js</div>
                <div class="item-description">Log de mensaje de chat</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} message - Mensaje del chat, {object} session - Sesi√≥n del usuario, {string} direction - 'incoming' o 'outgoing' 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logIntegrationError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/logger.js</div>
                <div class="item-description">Log de error de integraci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} integration - Nombre de la integraci√≥n, {Error} error - Error ocurrido, {object} context - Contexto adicional 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logPerformance</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/logger.js</div>
                <div class="item-description">Log de m√©tricas de rendimiento</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} operation - Operaci√≥n medida, {number} duration - Duraci√≥n en ms, {object} metadata - Metadatos adicionales 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logSecurity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/logger.js</div>
                <div class="item-description">Log de seguridad</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} event - Evento de seguridad, {object} details - Detalles del evento, {string} severity - Severidad (low, medium, high, critical) 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/logger.js</div>
                <div class="item-description">Obtiene estad√≠sticas de logging</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {object} Estad√≠sticas 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldLogs</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/logger.js</div>
                <div class="item-description">Limpia logs antiguos</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {number} maxAge - Edad m√°xima en d√≠as 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupLogRotation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/logger.js</div>
                <div class="item-description">Configura rotaci√≥n autom√°tica de logs</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeSchemas</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/validators/schema-validator.js</div>
                <div class="item-description">Sistema de Validaci√≥n de Esquemas Implementa validaci√≥n tipo Swagger/OpenAPI para endpoints / /** Clase personalizada para errores de validaci√≥n / class ValidationError extends Error { constructor(message, code = 'VALIDATION_ERROR', field = null, value = null) { super(message); this.name = 'ValidationError'; this.code = code; this.field = field; this.value = value; } } class SchemaValidator { constructor() { this.schemas = new Map(); this.validationRules = new Map(); this.initializeSchemas(); } /** Inicializa esquemas predefinidos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerSchema</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/validators/schema-validator.js</div>
                <div class="item-description">Registra un nuevo esquema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/validators/schema-validator.js</div>
                <div class="item-description">Valida datos contra un esquema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateObject</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/validators/schema-validator.js</div>
                <div class="item-description">Valida un objeto contra un esquema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateValue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/validators/schema-validator.js</div>
                <div class="item-description">Valida un valor contra un esquema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateType</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/validators/schema-validator.js</div>
                <div class="item-description">Valida el tipo de un valor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateString</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/validators/schema-validator.js</div>
                <div class="item-description">Valida una cadena</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateNumber</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/validators/schema-validator.js</div>
                <div class="item-description">Valida un n√∫mero</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateArray</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/validators/schema-validator.js</div>
                <div class="item-description">Valida un array</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateFormat</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/validators/schema-validator.js</div>
                <div class="item-description">Valida formato espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateSwaggerDoc</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/validators/schema-validator.js</div>
                <div class="item-description">Genera documentaci√≥n Swagger para un esquema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generatePaths</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/validators/schema-validator.js</div>
                <div class="item-description">Genera paths para Swagger</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateEndpoints</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/validators/schema-validator.js</div>
                <div class="item-description">Valida endpoints de API</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateEndpoint</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/validators/schema-validator.js</div>
                <div class="item-description">Valida un endpoint individual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateRESTfulCompliance</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/validators/schema-validator.js</div>
                <div class="item-description">Valida cumplimiento RESTful</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateNamingConvention</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/validators/schema-validator.js</div>
                <div class="item-description">Valida convenciones de nomenclatura</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSchemas</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/validators/schema-validator.js</div>
                <div class="item-description">Obtiene todos los esquemas registrados</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSchema</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/validators/schema-validator.js</div>
                <div class="item-description">Obtiene un esquema espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">removeSchema</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/shared/utils/validators/schema-validator.js</div>
                <div class="item-description">Elimina un esquema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeLogger</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/AdvancedTestLogger.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Sistema de Logging Avanzado para Tests Proporciona logging detallado con clasificaci√≥n de errores, timestamps y contexto /  import fs from 'fs/promises'; import path from 'path'; import os from 'os'; import { EventEmitter } from 'events'; import logger from '../shared/utils/logger.js';  /** Niveles de severidad para errores / export const SeverityLevel = { CRITICAL: 'critical', HIGH: 'high', MEDIUM: 'medium', LOW: 'low', INFO: 'info' };  // Alias para compatibilidad con tests export const ErrorSeverity = SeverityLevel;  /** Categor√≠as de errores / export const ErrorCategory = { TIMEOUT: 'timeout', MEMORY: 'memory', NETWORK: 'network', ASSERTION: 'assertion', SETUP: 'setup', TEARDOWN: 'teardown', DEPENDENCY: 'dependency', CONFIGURATION: 'configuration', PERFORMANCE: 'performance' };  /**<br><strong>@class:</strong> AdvancedTestLogger Sistema de logging avanzado para tests con capacidades de an√°lisis y autocorrecci√≥n / export class AdvancedTestLogger extends EventEmitter { constructor(options = {}) { super();  this.config = { logDirectory: options.logDirectory || './test-logs', maxLogFiles: options.maxLogFiles || 50, maxLogSize: options.maxLogSize || 10 * 1024 * 1024, // 10MB enableConsole: options.enableConsole !== false, enableFile: options.enableFile !== false, enableAnalytics: options.enableAnalytics !== false, retentionDays: options.retentionDays || 30, ...options };  this.sessionId = this.generateSessionId(); this.startTime = Date.now(); this.logs = []; this.errorPatterns = new Map(); this.performanceMetrics = new Map(); this.failureAnalytics = { totalFailures: 0, categorizedFailures: new Map(), severityDistribution: new Map(), timeBasedFailures: new Map(), recoveryAttempts: new Map() };  this.initializeLogger(); }  /** Inicializa el sistema de logging 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateSessionId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/AdvancedTestLogger.js</div>
                <div class="item-description">Genera un ID √∫nico para la sesi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ensureLogDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/AdvancedTestLogger.js</div>
                <div class="item-description">Asegura que el directorio de logs existe</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldLogs</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/AdvancedTestLogger.js</div>
                <div class="item-description">Limpia logs antiguos basado en retenci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">loadErrorPatterns</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/AdvancedTestLogger.js</div>
                <div class="item-description">Carga patrones de errores conocidos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logTestFailure</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/AdvancedTestLogger.js</div>
                <div class="item-description">Registra un fallo de test con contexto completo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logInfo</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/AdvancedTestLogger.js</div>
                <div class="item-description">Registra informaci√≥n general</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logWarning</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/AdvancedTestLogger.js</div>
                <div class="item-description">Registra advertencias</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logPerformanceMetric</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/AdvancedTestLogger.js</div>
                <div class="item-description">Registra m√©tricas de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzeError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/AdvancedTestLogger.js</div>
                <div class="item-description">Analiza un error para determinar categor√≠a y severidad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getEnvironmentContext</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/AdvancedTestLogger.js</div>
                <div class="item-description">Obtiene contexto del entorno</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSystemState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/AdvancedTestLogger.js</div>
                <div class="item-description">Obtiene estado del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getTestState</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/AdvancedTestLogger.js</div>
                <div class="item-description">Obtiene estado de los tests</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">writeLog</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/AdvancedTestLogger.js</div>
                <div class="item-description">Escribe log a archivo y consola</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">writeToConsole</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/AdvancedTestLogger.js</div>
                <div class="item-description">Escribe a consola con formato</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">writeToFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/AdvancedTestLogger.js</div>
                <div class="item-description">Escribe a archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateAnalytics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/AdvancedTestLogger.js</div>
                <div class="item-description">Actualiza analytics de fallos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateLogId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/AdvancedTestLogger.js</div>
                <div class="item-description">Genera ID √∫nico para log</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAnalyticsReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/AdvancedTestLogger.js</div>
                <div class="item-description">Obtiene reporte de analytics</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getTopErrors</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/AdvancedTestLogger.js</div>
                <div class="item-description">Obtiene los errores m√°s frecuentes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateRecommendations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/AdvancedTestLogger.js</div>
                <div class="item-description">Genera recomendaciones basadas en analytics</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">exportLogs</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/AdvancedTestLogger.js</div>
                <div class="item-description">Exporta logs a archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">convertToCSV</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/AdvancedTestLogger.js</div>
                <div class="item-description">Convierte logs a formato CSV</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/AdvancedTestLogger.js</div>
                <div class="item-description">Limpia recursos y finaliza sesi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeComponents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/OptimizedTestSuite.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Sistema de Testing Optimizado Integrado Combina todos los componentes para un rendimiento del 100% /  import { EventEmitter } from 'events'; import { AdvancedTestLogger } from './AdvancedTestLogger.js'; import { TestFailureRecovery } from './TestFailureRecovery.js'; import { PerformanceOptimizer } from './PerformanceOptimizer.js'; import { SafeRollbackService } from '../services/testing/SafeRollbackService.js';  /** Sistema de testing optimizado que integra todos los componentes para garantizar rendimiento del 100% y autoreparaci√≥n / export class OptimizedTestSuite extends EventEmitter { constructor(config = {}) { super();  this.config = { enableLogging: true, enableRecovery: true, enableOptimization: true, enableRollback: true, autoHeal: true, performanceThreshold: 0.95, maxRetries: 3, timeoutMultiplier: 1.5, ...config };  this.components = {}; this.metrics = { testsRun: 0, testsPassed: 0, testsFailed: 0, testsRecovered: 0, optimizationsApplied: 0, rollbacksPerformed: 0, averageExecutionTime: 0, performanceScore: 0 };  this.testQueue = []; this.activeTests = new Set(); this.testResults = new Map(); this.isRunning = false;  this.initializeComponents(); this.setupEventHandlers(); }  /** Inicializa todos los componentes del sistema 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventHandlers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/OptimizedTestSuite.js</div>
                <div class="item-description">Configura manejadores de eventos entre componentes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">runTestSuite</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/OptimizedTestSuite.js</div>
                <div class="item-description">Ejecuta una suite de tests con optimizaci√≥n completa</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createInitialCheckpoint</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/OptimizedTestSuite.js</div>
                <div class="item-description">Crea checkpoint inicial del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">preTestOptimization</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/OptimizedTestSuite.js</div>
                <div class="item-description">Optimiza el sistema antes de ejecutar tests</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeTests</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/OptimizedTestSuite.js</div>
                <div class="item-description">Ejecuta los tests con recuperaci√≥n autom√°tica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeTestFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/OptimizedTestSuite.js</div>
                <div class="item-description">Ejecuta un archivo de test individual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">simulateTestExecution</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/OptimizedTestSuite.js</div>
                <div class="item-description">Simula la ejecuci√≥n de un test (placeholder)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">attemptTestRecovery</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/OptimizedTestSuite.js</div>
                <div class="item-description">Intenta recuperar un test fallido</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/OptimizedTestSuite.js</div>
                <div class="item-description">Actualiza m√©tricas del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateTestPerformance</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/OptimizedTestSuite.js</div>
                <div class="item-description">Calcula el rendimiento de un test individual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculatePerformanceScore</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/OptimizedTestSuite.js</div>
                <div class="item-description">Calcula el score de rendimiento general</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleMemoryWarning</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/OptimizedTestSuite.js</div>
                <div class="item-description">Maneja advertencias de memoria</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleRecoveryFailure</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/OptimizedTestSuite.js</div>
                <div class="item-description">Maneja fallos de recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleCriticalFailure</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/OptimizedTestSuite.js</div>
                <div class="item-description">Maneja fallos cr√≠ticos del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getSystemStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/OptimizedTestSuite.js</div>
                <div class="item-description">Obtiene estad√≠sticas completas del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateReport</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/OptimizedTestSuite.js</div>
                <div class="item-description">Genera reporte completo del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateRecommendations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/OptimizedTestSuite.js</div>
                <div class="item-description">Genera recomendaciones basadas en las estad√≠sticas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/OptimizedTestSuite.js</div>
                <div class="item-description">Limpia todos los recursos del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupOptimizations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/PerformanceOptimizer.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Sistema de Optimizaci√≥n de Rendimiento para Tests Optimiza CPU, memoria y E/S para lograr m√°xima eficiencia /  import { EventEmitter } from 'events'; import { Worker } from 'worker_threads'; import cluster from 'cluster'; import os from 'os'; import { globalTestLogger } from './AdvancedTestLogger.js';  /** Tipos de optimizaci√≥n disponibles / export const OptimizationType = { CPU: 'cpu', MEMORY: 'memory', IO: 'io', NETWORK: 'network', PARALLELIZATION: 'parallelization', CACHING: 'caching', RESOURCE_POOLING: 'resource_pooling' };  /**<br><strong>@class:</strong> PerformanceOptimizer Sistema avanzado de optimizaci√≥n de rendimiento para tests / export class PerformanceOptimizer extends EventEmitter { constructor(options = {}) { super();  this.config = { maxWorkers: options.maxWorkers || Math.max(1, os.cpus().length - 1), memoryThreshold: options.memoryThreshold || 0.8, // 80% de memoria cpuThreshold: options.cpuThreshold || 0.7, // 70% de CPU ioThreshold: options.ioThreshold || 100, // 100ms para operaciones I/O enableParallelization: options.enableParallelization !== false, enableCaching: options.enableCaching !== false, enableResourcePooling: options.enableResourcePooling !== false, optimizationInterval: options.optimizationInterval || 5000, ...options };  this.metrics = { cpu: { usage: 0, history: [] }, memory: { usage: 0, history: [], peak: 0 }, io: { operations: 0, avgTime: 0, history: [] }, tests: { total: 0, passed: 0, failed: 0, avgDuration: 0 } };  this.optimizations = new Map(); this.resourcePools = new Map(); this.cache = new Map(); this.workers = new Set(); this.activeOptimizations = new Set();  this.setupOptimizations();  // Solo iniciar monitoreo si autoStart no est√° expl√≠citamente deshabilitado if (options.autoStart !== false) { this.startMonitoring(); } }  /** Configura las optimizaciones disponibles 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">startMonitoring</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/PerformanceOptimizer.js</div>
                <div class="item-description">Inicia el monitoreo de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">collectMetrics</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/PerformanceOptimizer.js</div>
                <div class="item-description">Recolecta m√©tricas de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">analyzePerformance</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/PerformanceOptimizer.js</div>
                <div class="item-description">Analiza rendimiento y aplica optimizaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generatePerformanceAnalysis</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/PerformanceOptimizer.js</div>
                <div class="item-description">Genera an√°lisis de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateTrend</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/PerformanceOptimizer.js</div>
                <div class="item-description">Calcula tendencia de una serie de datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldApplyOptimization</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/PerformanceOptimizer.js</div>
                <div class="item-description">Determina si debe aplicar una optimizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">applyOptimization</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/PerformanceOptimizer.js</div>
                <div class="item-description">Aplica una optimizaci√≥n espec√≠fica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeCPU</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/PerformanceOptimizer.js</div>
                <div class="item-description">Optimizaci√≥n de CPU</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeMemory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/PerformanceOptimizer.js</div>
                <div class="item-description">Optimizaci√≥n de memoria</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeIO</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/PerformanceOptimizer.js</div>
                <div class="item-description">Optimizaci√≥n de I/O</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeParallelization</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/PerformanceOptimizer.js</div>
                <div class="item-description">Optimizaci√≥n de paralelizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeCaching</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/PerformanceOptimizer.js</div>
                <div class="item-description">Optimizaci√≥n de cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">optimizeResourcePooling</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/PerformanceOptimizer.js</div>
                <div class="item-description">Optimizaci√≥n de pool de recursos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkMemoryUsage</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/PerformanceOptimizer.js</div>
                <div class="item-description">Verifica uso de memoria</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">identifyCommonTestData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/PerformanceOptimizer.js</div>
                <div class="item-description">Identifica datos comunes de test</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateCacheHitRate</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/PerformanceOptimizer.js</div>
                <div class="item-description">Calcula tasa de aciertos del cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createResource</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/PerformanceOptimizer.js</div>
                <div class="item-description">Crea recurso para pool</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getPerformanceStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/PerformanceOptimizer.js</div>
                <div class="item-description">Obtiene estad√≠sticas de rendimiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateEfficiency</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/PerformanceOptimizer.js</div>
                <div class="item-description">Calcula eficiencia general</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/PerformanceOptimizer.js</div>
                <div class="item-description">Limpia recursos y detiene monitoreo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupRollbackHandlers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Sistema de Rollback Seguro para Tests Proporciona capacidad de rollback autom√°tico y autoreparaci√≥n /  import fs from 'fs/promises'; import path from 'path'; import { EventEmitter } from 'events'; import { globalTestLogger } from './AdvancedTestLogger.js';  /** Estados de rollback / export const RollbackState = { IDLE: 'idle', CREATING_CHECKPOINT: 'creating_checkpoint', EXECUTING: 'executing', ROLLING_BACK: 'rolling_back', COMPLETED: 'completed', FAILED: 'failed' };  /** Tipos de operaciones que soportan rollback / export const OperationType = { FILE_SYSTEM: 'file_system', DATABASE: 'database', CONFIGURATION: 'configuration', ENVIRONMENT: 'environment', NETWORK: 'network', PROCESS: 'process', MEMORY: 'memory' };  /** Tipos de checkpoint / export const CheckpointType = { SYSTEM: 'SYSTEM', TEST: 'TEST', MANUAL: 'MANUAL', AUTO: 'AUTO' };  /**<br><strong>@class:</strong> SafeRollbackSystem Sistema de rollback seguro con capacidad de autoreparaci√≥n / export class SafeRollbackSystem extends EventEmitter { constructor(options = {}) { super();  this.config = { checkpointDirectory: options.checkpointDirectory || './test-checkpoints', checkpointDir: options.checkpointDir || options.checkpointDirectory || './test-checkpoints', maxCheckpoints: options.maxCheckpoints || 10, autoCleanup: options.autoCleanup !== false, enableAutoCleanup: options.enableAutoCleanup !== false, enableHealthMonitoring: options.enableHealthMonitoring !== false, compressionEnabled: options.compressionEnabled !== false, encryptionEnabled: options.encryptionEnabled || false, rollbackTimeout: options.rollbackTimeout || 30000, verificationEnabled: options.verificationEnabled !== false, ...options };  this.state = RollbackState.IDLE; this.checkpoints = []; this.operations = new Map(); this.rollbackStack = []; this.activeTransactions = new Set(); this.rollbackHistory = [];  // M√©tricas para el test this.metrics = { checkpoints: { total: 0, byType: {} }, rollbacks: { total: 0, successful: 0, failed: 0 }, healing: { total: 0, successful: 0, failed: 0 } };  this.setupRollbackHandlers(); this.initializeCheckpointDirectory(); }  /** Configura manejadores de rollback 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initializeCheckpointDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Inicializa directorio de checkpoints</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createCheckpoint</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Crea un checkpoint antes de ejecutar operaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">listCheckpoints</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Lista todos los checkpoints disponibles</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">detectAndHeal</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Detecta problemas y ejecuta autoreparaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">rollback</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Ejecuta rollback a un checkpoint espec√≠fico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeRollbackWithTimeout</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Ejecuta rollback con timeout</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">verifyRollbackIntegrity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Verifica integridad despu√©s del rollback</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createFileSystemCheckpoint</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Checkpoint para sistema de archivos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">rollbackFileSystem</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Rollback para sistema de archivos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">verifyFileSystem</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Verificaci√≥n para sistema de archivos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupFileSystem</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Cleanup para sistema de archivos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createConfigCheckpoint</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Checkpoint para configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">rollbackConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Rollback para configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">verifyConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Verificaci√≥n para configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Cleanup para configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createEnvironmentCheckpoint</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Checkpoint para variables de entorno</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">rollbackEnvironment</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Rollback para variables de entorno</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">verifyEnvironment</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Verificaci√≥n para variables de entorno</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupEnvironment</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Cleanup para variables de entorno</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createProcessCheckpoint</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Checkpoint para procesos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">rollbackProcess</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Rollback para procesos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">verifyProcess</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Verificaci√≥n para procesos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupProcess</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Cleanup para procesos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createMemoryCheckpoint</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Checkpoint para memoria</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">rollbackMemory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Rollback para memoria</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">verifyMemory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Verificaci√≥n para memoria</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupMemory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Cleanup para memoria</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">scanDirectory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Escanea directorio para checkpoint</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldIncludeInCheckpoint</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Determina si un archivo debe incluirse en el checkpoint</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">captureJestConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Captura configuraci√≥n de Jest</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">saveCheckpointToDisk</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Guarda checkpoint en disco</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupOldCheckpoints</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Limpia checkpoints antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deleteCheckpoint</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Elimina un checkpoint</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Obtiene estad√≠sticas del sistema de rollback</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/SafeRollbackSystem.js</div>
                <div class="item-description">Limpia todos los recursos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupRecoveryStrategies</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/TestFailureRecovery.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Sistema de Autocorrecci√≥n y Reintentos Inteligentes para Tests Proporciona capacidades de recuperaci√≥n autom√°tica para fallos comunes /  import { EventEmitter } from 'events'; import { globalTestLogger, ErrorCategory, SeverityLevel } from './AdvancedTestLogger.js';  /** Estrategias de recuperaci√≥n disponibles / export const RecoveryStrategy = { RETRY_WITH_BACKOFF: 'retry_with_backoff', INCREASE_TIMEOUT: 'increase_timeout', MEMORY_CLEANUP: 'memory_cleanup', RESET_ENVIRONMENT: 'reset_environment', SKIP_AND_CONTINUE: 'skip_and_continue', FORCE_CLEANUP: 'force_cleanup', NETWORK_RETRY: 'network_retry', DEPENDENCY_RELOAD: 'dependency_reload' };  /** Tipos de fallos que pueden ser recuperados / export const FailureType = { TIMEOUT: 'timeout', MEMORY_LEAK: 'memory_leak', NETWORK_ERROR: 'network_error', ASSERTION_ERROR: 'assertion_error', DEPENDENCY_ERROR: 'dependency_error', ENVIRONMENT_ERROR: 'environment_error', RESOURCE_ERROR: 'resource_error', UNKNOWN: 'unknown' };  /**<br><strong>@class:</strong> TestFailureRecovery Sistema inteligente de recuperaci√≥n autom√°tica para fallos en tests / export class TestFailureRecovery extends EventEmitter { constructor(options = {}) { super();  this.config = { maxRetries: options.maxRetries || 3, baseDelay: options.baseDelay || 1000, maxDelay: options.maxDelay || 10000, backoffMultiplier: options.backoffMultiplier || 2, enableAutoRecovery: options.enableAutoRecovery !== false, enableLearning: options.enableLearning !== false, recoveryTimeout: options.recoveryTimeout || 30000, ...options };  this.recoveryStrategies = new Map(); this.recoveryHistory = new Map(); this.learningData = { successfulRecoveries: new Map(), failedRecoveries: new Map(), strategyEffectiveness: new Map() };  this.activeRecoveries = new Set(); this.setupRecoveryStrategies(); this.setupEventListeners(); }  /** Configura las estrategias de recuperaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupEventListeners</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/TestFailureRecovery.js</div>
                <div class="item-description">Configura listeners de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleTestFailure</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/TestFailureRecovery.js</div>
                <div class="item-description">Maneja un fallo de test e intenta recuperaci√≥n autom√°tica</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">selectRecoveryStrategy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/TestFailureRecovery.js</div>
                <div class="item-description">Selecciona la mejor estrategia de recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeRecovery</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/TestFailureRecovery.js</div>
                <div class="item-description">Ejecuta una estrategia de recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeTimeoutIncrease</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/TestFailureRecovery.js</div>
                <div class="item-description">Estrategia: Incrementar timeout</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeMemoryCleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/TestFailureRecovery.js</div>
                <div class="item-description">Estrategia: Limpieza de memoria</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeNetworkRetry</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/TestFailureRecovery.js</div>
                <div class="item-description">Estrategia: Reintento de red</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeEnvironmentReset</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/TestFailureRecovery.js</div>
                <div class="item-description">Estrategia: Reset del entorno</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeForceCleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/TestFailureRecovery.js</div>
                <div class="item-description">Estrategia: Limpieza forzada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeRetryWithBackoff</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/TestFailureRecovery.js</div>
                <div class="item-description">Estrategia: Reintento con backoff</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">calculateBackoffDelay</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/TestFailureRecovery.js</div>
                <div class="item-description">Calcula delay para backoff exponencial</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">extractTimeoutFromError</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/TestFailureRecovery.js</div>
                <div class="item-description">Extrae timeout de mensaje de error</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">checkNetworkConnectivity</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/TestFailureRecovery.js</div>
                <div class="item-description">Verifica conectividad de red</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStrategyEffectiveness</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/TestFailureRecovery.js</div>
                <div class="item-description">Obtiene efectividad de una estrategia</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">recordRecoveryAttempt</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/TestFailureRecovery.js</div>
                <div class="item-description">Registra intento de recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createTimeoutPromise</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/TestFailureRecovery.js</div>
                <div class="item-description">Crea promesa con timeout</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">delay</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/TestFailureRecovery.js</div>
                <div class="item-description">Delay helper</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateRecoveryId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/TestFailureRecovery.js</div>
                <div class="item-description">Genera ID √∫nico para recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRecoveryStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/TestFailureRecovery.js</div>
                <div class="item-description">Obtiene estad√≠sticas de recuperaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/testing/TestFailureRecovery.js</div>
                <div class="item-description">Limpia recursos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_backupDirectoryRecursive</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/utils/directory-utils.js</div>
                <div class="item-description">Utilidades para manejo de directorios Funciones centralizadas para evitar duplicaci√≥n de c√≥digo / import fs from 'fs/promises'; import path from 'path'; /** Asegura que los directorios especificados existan, cre√°ndolos si es necesario</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string|string[]} directories - Directorio o array de directorios a crear, {Object} options - Opciones adicionales, {boolean} options.recursive - Crear directorios padre si no existen (default: true), {number} options.mode - Permisos del directorio (default: 0o755), {string} baseDir - Directorio base, {string} prefix - Prefijo para el directorio de respaldo, {string} directory - Ruta del directorio, {string} directory - Ruta del directorio, {string} baseDir - Directorio base donde buscar, {string} pattern - Patr√≥n de nombre de directorio (regex), {number} maxAge - Edad m√°xima en d√≠as, {string} sourceDir - Directorio fuente, {string} targetDir - Directorio destino, {Object} options - Opciones de respaldo, {boolean} options.includeCompression - Comprimir archivos, {Array} options.excludePatterns - Patrones de archivos a excluir, {Function} options.progressCallback - Callback de progreso<br><strong>@returns:</strong> {Promise<void>} / export async function ensureDirectories(directories, options = {}) { const { recursive = true, mode = 0o755 } = options;  // Normalizar entrada a array const dirs = Array.isArray(directories) ? directories : [directories];  for (const dir of dirs) { if (!dir) continue;  try { // Verificar si el directorio ya existe const stats = await fs.stat(dir); if (!stats.isDirectory()) { throw new Error(`${dir} exists but is not a directory`); } } catch (error) { if (error.code === 'ENOENT') { // El directorio no existe, crearlo await fs.mkdir(dir, { recursive, mode }); console.log(`‚úì Directory created: ${dir}`); } else { throw error; } } } }  /** Crea un directorio de respaldo con timestamp, {Promise<string>} - Ruta del directorio de respaldo creado / export async function createBackupDirectory(baseDir, prefix = 'backup') { const timestamp = new Date().toISOString().replace(/[:.]/g, '-'); const backupDir = path.join(baseDir, `${prefix}-${timestamp}`);  await ensureDirectories(backupDir); return backupDir; }  /** Verifica si un directorio existe y es accesible, {Promise<boolean>} / export async function directoryExists(directory) { try { const stats = await fs.stat(directory); return stats.isDirectory(); } catch { return false; } }  /** Obtiene el tama√±o total de un directorio, {Promise<number>} - Tama√±o en bytes / export async function getDirectorySize(directory) { let totalSize = 0;  try { const items = await fs.readdir(directory, { withFileTypes: true });  for (const item of items) { const itemPath = path.join(directory, item.name);  if (item.isDirectory()) { totalSize += await getDirectorySize(itemPath); } else { const stats = await fs.stat(itemPath); totalSize += stats.size; } } } catch (error) { console.warn(`Warning: Could not calculate size for ${directory}:`, error.message); }  return totalSize; }  /** Limpia directorios antiguos basado en un patr√≥n y edad, {Promise<string[]>} - Array de directorios eliminados / export async function cleanupOldDirectories(baseDir, pattern, maxAge = 7) { const deletedDirs = []; const cutoffDate = new Date(Date.now() - (maxAge * 24 * 60 * 60 * 1000));  try { const items = await fs.readdir(baseDir, { withFileTypes: true }); const regex = new RegExp(pattern);  for (const item of items) { if (item.isDirectory() && regex.test(item.name)) { const dirPath = path.join(baseDir, item.name); const stats = await fs.stat(dirPath);  if (stats.mtime < cutoffDate) { await fs.rm(dirPath, { recursive: true, force: true }); deletedDirs.push(dirPath); console.log(`‚úì Cleaned up old directory: ${dirPath}`); } } } } catch (error) { console.warn(`Warning: Could not cleanup directories in ${baseDir}:`, error.message); }  return deletedDirs; }  /** Crea una copia de respaldo de un directorio, {Promise<Object>} - Resultado del respaldo / export async function backupDirectory(sourceDir, targetDir, options = {}) { const { includeCompression = false, excludePatterns = ['.git', 'node_modules', '.DS_Store', 'Thumbs.db'], progressCallback = null } = options;  const results = { totalFiles: 0, copiedFiles: 0, compressedFiles: 0, skippedFiles: 0, errors: [], totalSize: 0 };  await ensureDirectories(targetDir); await _backupDirectoryRecursive(sourceDir, targetDir, includeCompression, excludePatterns, results, progressCallback);  return results; }  /** Funci√≥n recursiva interna para backup de directorios 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_restoreDirectoryRecursive</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/utils/directory-utils.js</div>
                <div class="item-description">Restaura un directorio desde un respaldo</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} sourceDir - Directorio de respaldo, {string} targetDir - Directorio destino, {Object} options - Opciones de restauraci√≥n, {boolean} options.overwrite - Sobrescribir archivos existentes, {boolean} options.dryRun - Solo simular la restauraci√≥n, {Function} options.progressCallback - Callback de progreso<br><strong>@returns:</strong> {Promise<Object>} - Resultado de la restauraci√≥n / export async function restoreDirectory(sourceDir, targetDir, options = {}) { const { overwrite = false, dryRun = false, progressCallback = null } = options;  const results = { totalFiles: 0, restoredFiles: 0, skippedFiles: 0, decompressedFiles: 0, errors: [], conflicts: [] };  if (!dryRun) { await ensureDirectories(targetDir); }  await _restoreDirectoryRecursive(sourceDir, targetDir, overwrite, dryRun, results, progressCallback);  return results; }  /** Funci√≥n recursiva interna para restore de directorios 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldExcludeItem</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/utils/directory-utils.js</div>
                <div class="item-description">Verifica si un archivo debe excluirse del respaldo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shouldCompressFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/utils/directory-utils.js</div>
                <div class="item-description">Determina si un archivo debe comprimirse</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">compressFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/utils/directory-utils.js</div>
                <div class="item-description">Comprime un archivo usando gzip</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">decompressFile</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/utils/directory-utils.js</div>
                <div class="item-description">Descomprime un archivo gzip</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Gestor de automatizaci√≥n que coordina workflows y reglas de negocio Proporciona una interfaz unificada para la automatizaci√≥n completa / class AutomationManager extends EventEmitter { constructor(config = {}) { super(); this.config = { // Configuraci√≥n general enabled: config.enabled !== false, maxAutomations: config.maxAutomations || 500, // Configuraci√≥n de workflows workflows: { enabled: config.workflows?.enabled !== false, config: config.workflows?.config || {} }, // Configuraci√≥n de reglas rules: { enabled: config.rules?.enabled !== false, config: config.rules?.config || {} }, // Configuraci√≥n de integraci√≥n integration: { shareVariables: config.integration?.shareVariables !== false, shareEvents: config.integration?.shareEvents !== false, crossTriggers: config.integration?.crossTriggers !== false, conflictResolution: config.integration?.conflictResolution || 'priority' // priority, first, last }, // Configuraci√≥n de eventos events: { enabled: config.events?.enabled !== false, maxListeners: config.events?.maxListeners || 100, eventHistory: config.events?.eventHistory !== false, historySize: config.events?.historySize || 1000 }, // Configuraci√≥n de triggers triggers: { enabled: config.triggers?.enabled !== false, debounceTime: config.triggers?.debounceTime || 1000, maxPerAutomation: config.triggers?.maxPerAutomation || 10, globalTriggers: config.triggers?.globalTriggers || [] }, // Configuraci√≥n de contexto context: { global: config.context?.global || {}, persistent: config.context?.persistent !== false, encryption: config.context?.encryption !== false, maxSize: config.context?.maxSize || 10 * 1024 * 1024 // 10MB }, // Configuraci√≥n de monitoreo monitoring: { enabled: config.monitoring?.enabled !== false, healthChecks: config.monitoring?.healthChecks !== false, performanceMetrics: config.monitoring?.performanceMetrics !== false, alerting: config.monitoring?.alerting !== false }, // Configuraci√≥n de logging logging: { enabled: config.logging?.enabled !== false, level: config.logging?.level || 'info', includeContext: config.logging?.includeContext !== false, maxLogs: config.logging?.maxLogs || 10000 } }; // Motores this.workflowEngine = null; this.ruleEngine = null; // Estado interno this.automations = new Map(); this.globalContext = new Map(Object.entries(this.config.context.global)); this.eventHistory = []; this.triggers = new Map(); this.logs = []; this.metrics = { automationsCreated: 0, automationsExecuted: 0, automationsCompleted: 0, automationsFailed: 0, eventsProcessed: 0, triggersActivated: 0, averageExecutionTime: 0, totalExecutionTime: 0 }; // Timers this.healthCheckTimer = null; this.metricsTimer = null; this.initialized = false; } /** Inicializa el gestor de automatizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createAutomation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Crea una nueva automatizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeAutomation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Ejecuta una automatizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executeWorkflowAutomation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Ejecuta automatizaci√≥n de tipo workflow</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executeRuleAutomation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Ejecuta automatizaci√≥n de tipo regla</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executeHybridAutomation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Ejecuta automatizaci√≥n h√≠brida (workflow + reglas)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_evaluatePreconditions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Eval√∫a precondiciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executePostActions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Ejecuta acciones post-ejecuci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_evaluateCondition</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Eval√∫a una condici√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_basicConditionEvaluation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Evaluaci√≥n b√°sica de condiciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executeAction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Ejecuta una acci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executeVariableAction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Ejecuta acci√≥n de variable</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_resolveValue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Resuelve un valor con variables del contexto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_createExecutionContext</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Crea contexto de ejecuci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_createAutomationComponents</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Crea componentes de automatizaci√≥n seg√∫n el tipo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_registerAutomationTriggers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Registra triggers de automatizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupTrigger</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Configura un trigger</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupEventTrigger</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Configura trigger de evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupScheduleTrigger</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Configura trigger de programaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupWebhookTrigger</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Configura trigger de webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupConditionTrigger</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Configura trigger de condici√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupWorkflowEngineIntegration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Configura integraci√≥n con WorkflowEngine</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupRuleEngineIntegration</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Configura integraci√≥n con RuleEngine</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupGlobalTriggers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Configura triggers globales</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupGlobalTrigger</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Configura un trigger global</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_addToEventHistory</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Agrega evento al historial</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_validateTriggers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Valida triggers</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">processEvent</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Procesa evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getAutomation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Obtiene una automatizaci√≥n por ID</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">listAutomations</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Lista todas las automatizaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateAutomation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Actualiza una automatizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deleteAutomation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Elimina una automatizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Obtiene estad√≠sticas del gestor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getHealthStatus</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Obtiene estado de salud</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupTimers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Configura timers del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupEventHandlers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Configura manejadores de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_validateConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Valida configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_log</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Registra un log</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/AutomationManager.js</div>
                <div class="item-description">Destruye el gestor de automatizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Motor de reglas de negocio para evaluaci√≥n y ejecuci√≥n de reglas complejas Permite definir reglas condicionales con acciones autom√°ticas / class RuleEngine extends EventEmitter { constructor(config = {}) { super(); this.config = { // Configuraci√≥n general enabled: config.enabled !== false, maxRules: config.maxRules || 1000, maxConditionDepth: config.maxConditionDepth || 10, // Configuraci√≥n de evaluaci√≥n evaluation: { timeout: config.evaluation?.timeout || 5000, maxIterations: config.evaluation?.maxIterations || 1000, cacheResults: config.evaluation?.cacheResults !== false, cacheTimeout: config.evaluation?.cacheTimeout || 300000, // 5 minutos parallelEvaluation: config.evaluation?.parallelEvaluation !== false }, // Configuraci√≥n de operadores operators: { comparison: config.operators?.comparison || [ 'eq', 'ne', 'gt', 'gte', 'lt', 'lte', 'in', 'nin', 'contains', 'startsWith', 'endsWith', 'matches', 'between' ], logical: config.operators?.logical || ['and', 'or', 'not', 'xor'], arithmetic: config.operators?.arithmetic || ['+', '-', '*', '/', '%', '**'], custom: config.operators?.custom || {} }, // Configuraci√≥n de funciones functions: { builtin: config.functions?.builtin !== false, custom: config.functions?.custom || {}, allowUnsafe: config.functions?.allowUnsafe === true, timeout: config.functions?.timeout || 1000 }, // Configuraci√≥n de variables variables: { global: config.variables?.global || {}, readonly: config.variables?.readonly || [], maxSize: config.variables?.maxSize || 1024 * 1024, // 1MB allowedTypes: config.variables?.allowedTypes || [ 'string', 'number', 'boolean', 'object', 'array', 'null', 'undefined' ] }, // Configuraci√≥n de acciones actions: { maxPerRule: config.actions?.maxPerRule || 10, timeout: config.actions?.timeout || 30000, retryAttempts: config.actions?.retryAttempts || 3, retryDelay: config.actions?.retryDelay || 1000, allowAsync: config.actions?.allowAsync !== false }, // Configuraci√≥n de prioridades priorities: { enabled: config.priorities?.enabled !== false, levels: config.priorities?.levels || ['low', 'normal', 'high', 'critical'], defaultLevel: config.priorities?.defaultLevel || 'normal' }, // Configuraci√≥n de grupos groups: { enabled: config.groups?.enabled !== false, maxPerGroup: config.groups?.maxPerGroup || 100, executionMode: config.groups?.executionMode || 'sequential' // sequential, parallel, first-match }, // Configuraci√≥n de logging logging: { enabled: config.logging?.enabled !== false, level: config.logging?.level || 'info', logEvaluations: config.logging?.logEvaluations !== false, logActions: config.logging?.logActions !== false, maxLogs: config.logging?.maxLogs || 10000 }, // Configuraci√≥n de m√©tricas metrics: { enabled: config.metrics?.enabled !== false, collectTiming: config.metrics?.collectTiming !== false, collectMemory: config.metrics?.collectMemory !== false } }; // Estado interno this.rules = new Map(); this.ruleGroups = new Map(); this.globalVariables = new Map(Object.entries(this.config.variables.global)); this.evaluationCache = new Map(); this.logs = []; this.metrics = { rulesCreated: 0, rulesEvaluated: 0, rulesMatched: 0, actionsExecuted: 0, actionsFailed: 0, averageEvaluationTime: 0, totalEvaluationTime: 0, cacheHits: 0, cacheMisses: 0 }; // Funciones built-in this.builtinFunctions = this._initializeBuiltinFunctions(); // Timers this.cacheCleanupTimer = null; this.initialized = false; } /** Inicializa el motor de reglas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createRule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Crea una nueva regla</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evaluateRules</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Eval√∫a reglas contra un contexto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_evaluateRule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Eval√∫a una regla individual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_evaluateConditions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Eval√∫a condiciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_evaluateConditionNode</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Eval√∫a un nodo de condici√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_evaluateConditionObject</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Eval√∫a un objeto de condici√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_evaluateLogicalAnd</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Eval√∫a operador AND l√≥gico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_evaluateLogicalOr</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Eval√∫a operador OR l√≥gico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_evaluateLogicalNot</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Eval√∫a operador NOT l√≥gico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_evaluateLogicalXor</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Eval√∫a operador XOR l√≥gico</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_evaluateComparison</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Eval√∫a operadores de comparaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_evaluateInclusion</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Eval√∫a operadores de inclusi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_evaluateStringOperation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Eval√∫a operaciones de string</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_evaluateRegex</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Eval√∫a expresi√≥n regular</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_evaluateBetween</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Eval√∫a operador between</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_evaluateExists</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Eval√∫a existencia de campo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_evaluateFunction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Eval√∫a funci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_evaluateCustomOperator</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Eval√∫a operador personalizado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executeActions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Ejecuta acciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executeAction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Ejecuta una acci√≥n individual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executeLogAction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Ejecuta acci√≥n de log</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executeVariableAction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Ejecuta acci√≥n de variable</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executeWebhookAction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Ejecuta acci√≥n de webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executeNotificationAction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Ejecuta acci√≥n de notificaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executeWorkflowAction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Ejecuta acci√≥n de workflow</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executeCustomAction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Ejecuta acci√≥n personalizada</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_resolveActionConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Resuelve configuraci√≥n de acci√≥n con variables</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_resolveValue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Resuelve un valor con variables del contexto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_evaluateExpression</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Eval√∫a una expresi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_createEvaluationContext</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Crea contexto de evaluaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_filterRules</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Filtra reglas seg√∫n criterios</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_sortRulesByPriority</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Ordena reglas por prioridad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_addRuleToGroup</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Agrega regla a grupo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_generateCacheKey</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Genera clave de cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_hashObject</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Genera hash de objeto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executeWithTimeout</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Ejecuta funci√≥n con timeout</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_initializeBuiltinFunctions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Inicializa funciones built-in</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_validateConditions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Valida condiciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_validateActions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Valida acciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Obtiene una regla por ID</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">listRules</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Lista todas las reglas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateRule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Actualiza una regla</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deleteRule</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Elimina una regla</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Obtiene estad√≠sticas del motor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clearCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Limpia cach√© de evaluaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupTimers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Configura timers del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupEventHandlers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Configura manejadores de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_cleanupCache</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Limpia cach√© expirado</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_validateConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Valida configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_log</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Registra un log</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/RuleEngine.js</div>
                <div class="item-description">Destruye el motor de reglas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">initialize</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Motor de workflows para automatizaci√≥n y reglas de negocio Gestiona la ejecuci√≥n de flujos de trabajo complejos / class WorkflowEngine extends EventEmitter { constructor(config = {}) { super(); this.config = { // Configuraci√≥n general enabled: config.enabled !== false, maxConcurrentWorkflows: config.maxConcurrentWorkflows || 100, defaultTimeout: config.defaultTimeout || 300000, // 5 minutos // Configuraci√≥n de persistencia persistence: { enabled: config.persistence?.enabled !== false, type: config.persistence?.type || 'memory', // memory, file, database path: config.persistence?.path || './data/workflows', autoSave: config.persistence?.autoSave !== false, saveInterval: config.persistence?.saveInterval || 30000 }, // Configuraci√≥n de ejecuci√≥n execution: { retryAttempts: config.execution?.retryAttempts || 3, retryDelay: config.execution?.retryDelay || 1000, parallelSteps: config.execution?.parallelSteps !== false, stepTimeout: config.execution?.stepTimeout || 30000, errorHandling: config.execution?.errorHandling || 'stop' // stop, continue, retry }, // Configuraci√≥n de variables variables: { global: config.variables?.global || {}, encryption: config.variables?.encryption !== false, maxSize: config.variables?.maxSize || 1024 * 1024, // 1MB allowedTypes: config.variables?.allowedTypes || ['string', 'number', 'boolean', 'object', 'array'] }, // Configuraci√≥n de condiciones conditions: { maxDepth: config.conditions?.maxDepth || 10, allowedOperators: config.conditions?.allowedOperators || [ 'eq', 'ne', 'gt', 'gte', 'lt', 'lte', 'in', 'nin', 'contains', 'startsWith', 'endsWith', 'matches', 'and', 'or', 'not', 'exists' ], customFunctions: config.conditions?.customFunctions || {} }, // Configuraci√≥n de triggers triggers: { enabled: config.triggers?.enabled !== false, maxPerWorkflow: config.triggers?.maxPerWorkflow || 10, debounceTime: config.triggers?.debounceTime || 1000, types: config.triggers?.types || ['event', 'schedule', 'webhook', 'manual'] }, // Configuraci√≥n de logging logging: { enabled: config.logging?.enabled !== false, level: config.logging?.level || 'info', maxLogs: config.logging?.maxLogs || 10000, retention: config.logging?.retention || 7 * 24 * 60 * 60 * 1000 // 7 d√≠as }, // Configuraci√≥n de m√©tricas metrics: { enabled: config.metrics?.enabled !== false, collectStepMetrics: config.metrics?.collectStepMetrics !== false, collectVariableMetrics: config.metrics?.collectVariableMetrics !== false } }; // Estado interno this.workflows = new Map(); this.runningInstances = new Map(); this.templates = new Map(); this.globalVariables = new Map(Object.entries(this.config.variables.global)); this.triggers = new Map(); this.logs = []; this.metrics = { workflowsCreated: 0, workflowsExecuted: 0, workflowsCompleted: 0, workflowsFailed: 0, stepsExecuted: 0, stepsFailed: 0, averageExecutionTime: 0, totalExecutionTime: 0 }; // Timers this.saveTimer = null; this.cleanupTimer = null; this.initialized = false; } /** Inicializa el motor de workflows</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createWorkflow</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Crea un nuevo workflow</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeWorkflow</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Ejecuta un workflow</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executeWorkflowSteps</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Ejecuta los pasos de un workflow</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executeStep</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Ejecuta un paso individual</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executeAction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Ejecuta una acci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executeCondition</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Ejecuta una condici√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executeLoop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Ejecuta un bucle</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executeParallel</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Ejecuta pasos en paralelo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executeDelay</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Ejecuta un delay</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executeVariable</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Ejecuta operaci√≥n de variable</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executeWebhook</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Ejecuta un webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executeNotification</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Ejecuta una notificaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executeHttpRequest</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Ejecuta una petici√≥n HTTP</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executeDatabaseQuery</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Ejecuta una consulta de base de datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executeFileOperation</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Ejecuta una operaci√≥n de archivo</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_executeEmailAction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Ejecuta una acci√≥n de email</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_evaluateCondition</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Eval√∫a una condici√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_evaluateConditionObject</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Eval√∫a un objeto de condici√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_evaluateExpression</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Eval√∫a una expresi√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_resolveVariables</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Resuelve variables en un valor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_validateTriggers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Valida los triggers de un workflow</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_validateSteps</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Valida los pasos de un workflow</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_registerTriggers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Registra los triggers de un workflow</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupEventTrigger</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Configura un trigger de evento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupScheduleTrigger</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Configura un trigger de programaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupWebhookTrigger</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Configura un trigger de webhook</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getWorkflow</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Obtiene un workflow por ID</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">listWorkflows</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Lista todos los workflows</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">updateWorkflow</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Actualiza un workflow</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">deleteWorkflow</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Elimina un workflow</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getRunningInstances</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Obtiene las instancias en ejecuci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cancelInstance</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Cancela una instancia en ejecuci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Obtiene estad√≠sticas del motor</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupTimers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Configura los timers del sistema</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_setupEventHandlers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Configura los manejadores de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_cleanupLogs</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Limpia logs antiguos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_loadPersistedData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Carga datos persistidos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_saveData</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Guarda datos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_validateConfig</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Valida la configuraci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">_log</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Registra un log</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">destroy</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowEngine.js</div>
                <div class="item-description">Destruye el motor de workflows</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupDefaultActions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowManager.js</div>
                <div class="item-description">Workflow Manager Service Gestiona flujos de trabajo y automatizaciones / import { EventEmitter } from 'events'; export class WorkflowManager extends EventEmitter { constructor(config = {}) { super(); this.config = { maxConcurrentWorkflows: 10, defaultTimeout: 300000, // 5 minutos retryAttempts: 3, retryDelay: 1000, enablePersistence: true, ...config }; this.workflows = new Map(); this.instances = new Map(); this.triggers = new Map(); this.actions = new Map(); this.conditions = new Map(); this.running = new Set(); this.stats = { executed: 0, successful: 0, failed: 0, active: 0, totalSteps: 0 }; this.setupDefaultActions(); this.setupDefaultConditions(); this.setupDefaultTriggers(); } /** Configura acciones por defecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupDefaultConditions</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowManager.js</div>
                <div class="item-description">Configura condiciones por defecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupDefaultTriggers</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowManager.js</div>
                <div class="item-description">Configura triggers por defecto</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerWorkflow</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowManager.js</div>
                <div class="item-description">Registra un nuevo workflow</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} id - ID del workflow, {object} workflow - Definici√≥n del workflow 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeWorkflow</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowManager.js</div>
                <div class="item-description">Ejecuta un workflow</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} workflowId - ID del workflow, {object} context - Contexto inicial, {object} options - Opciones de ejecuci√≥n<br><strong>@returns:</strong> {Promise<object>} Resultado de la ejecuci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeSteps</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowManager.js</div>
                <div class="item-description">Ejecuta los pasos del workflow</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} instance - Instancia del workflow, {array} steps - Pasos a ejecutar<br><strong>@returns:</strong> {Promise<object>} Resultado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeStep</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowManager.js</div>
                <div class="item-description">Ejecuta un paso individual</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} instance - Instancia del workflow, {object} step - Paso a ejecutar<br><strong>@returns:</strong> {Promise<any>} Resultado del paso 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeAction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowManager.js</div>
                <div class="item-description">Ejecuta una acci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} context - Contexto de ejecuci√≥n, {object} step - Paso de acci√≥n<br><strong>@returns:</strong> {Promise<any>} Resultado de la acci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">evaluateCondition</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowManager.js</div>
                <div class="item-description">Eval√∫a una condici√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} context - Contexto de ejecuci√≥n, {object} conditionDef - Definici√≥n de la condici√≥n<br><strong>@returns:</strong> {boolean} Resultado de la evaluaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeParallelSteps</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowManager.js</div>
                <div class="item-description">Ejecuta pasos en paralelo</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} instance - Instancia del workflow, {array} steps - Pasos a ejecutar<br><strong>@returns:</strong> {Promise<array>} Resultados 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeLoop</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowManager.js</div>
                <div class="item-description">Ejecuta un bucle</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} instance - Instancia del workflow, {object} step - Paso de bucle<br><strong>@returns:</strong> {Promise<array>} Resultados 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">executeSwitch</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowManager.js</div>
                <div class="item-description">Ejecuta un switch</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} instance - Instancia del workflow, {object} step - Paso de switch<br><strong>@returns:</strong> {Promise<any>} Resultado 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">resolveParameters</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowManager.js</div>
                <div class="item-description">Resuelve par√°metros con variables del contexto</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} context - Contexto, {object} params - Par√°metros<br><strong>@returns:</strong> {object} Par√°metros resueltos 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">resolveValue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowManager.js</div>
                <div class="item-description">Resuelve un valor con variables del contexto</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} context - Contexto, {any} value - Valor a resolver<br><strong>@returns:</strong> {any} Valor resuelto 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getNestedValue</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowManager.js</div>
                <div class="item-description">Obtiene valor anidado de un objeto</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} obj - Objeto, {string} path - Ruta del valor<br><strong>@returns:</strong> {any} Valor 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">setupWorkflowTrigger</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowManager.js</div>
                <div class="item-description">Configura trigger para un workflow</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} workflowId - ID del workflow, {object} trigger - Configuraci√≥n del trigger 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerAction</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowManager.js</div>
                <div class="item-description">Registra una acci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} name - Nombre de la acci√≥n, {object} action - Definici√≥n de la acci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerCondition</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowManager.js</div>
                <div class="item-description">Registra una condici√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} name - Nombre de la condici√≥n, {object} condition - Definici√≥n de la condici√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">registerTrigger</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowManager.js</div>
                <div class="item-description">Registra un trigger</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} name - Nombre del trigger, {object} trigger - Definici√≥n del trigger 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">stopWorkflow</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowManager.js</div>
                <div class="item-description">Detiene un workflow en ejecuci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} instanceId - ID de la instancia, {string} reason - Raz√≥n de la detenci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clearAllTimeouts</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowManager.js</div>
                <div class="item-description">Limpia todos los timeouts activos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">shutdown</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowManager.js</div>
                <div class="item-description">Detiene todos los workflows en ejecuci√≥n y limpia recursos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getWorkflow</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowManager.js</div>
                <div class="item-description">Obtiene informaci√≥n de un workflow</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} workflowId - ID del workflow<br><strong>@returns:</strong> {object} Informaci√≥n del workflow 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">listWorkflows</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowManager.js</div>
                <div class="item-description">Lista todos los workflows</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {array} Lista de workflows 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getInstance</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowManager.js</div>
                <div class="item-description">Obtiene instancia de workflow</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} instanceId - ID de la instancia<br><strong>@returns:</strong> {object} Instancia 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">listInstances</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowManager.js</div>
                <div class="item-description">Lista instancias de workflow</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {object} filters - Filtros<br><strong>@returns:</strong> {array} Lista de instancias 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">getStats</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowManager.js</div>
                <div class="item-description">Obtiene estad√≠sticas</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {object} Estad√≠sticas 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">generateId</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowManager.js</div>
                <div class="item-description">Genera ID √∫nico</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@returns:</strong> {string} ID √∫nico 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">cleanupInstances</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/WorkflowManager.js</div>
                <div class="item-description">Limpia instancias antiguas</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {number} maxAge - Edad m√°xima en milisegundos 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createWorkflowEngine</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/index.js</div>
                <div class="item-description">Configuraci√≥n por defecto para el sistema de workflows / const DEFAULT_WORKFLOW_CONFIG = { // Configuraci√≥n del motor de workflows workflowEngine: { enabled: true, maxWorkflows: 100, maxConcurrentExecutions: 10, persistence: { type: 'memory', config: {} }, execution: { timeout: 300000, // 5 minutos retryAttempts: 3, retryDelay: 1000, errorHandling: 'continue' }, variables: { global: {}, encryption: false }, conditions: { operators: ['eq', 'ne', 'gt', 'gte', 'lt', 'lte', 'in', 'contains', 'regex'], customFunctions: {} }, triggers: { event: { enabled: true }, schedule: { enabled: true }, webhook: { enabled: true } }, logging: { enabled: true, level: 'info', maxLogs: 1000 }, metrics: { enabled: true, retention: 86400000 // 24 horas } }, // Configuraci√≥n del motor de reglas ruleEngine: { enabled: true, maxRules: 500, maxConditions: 50, evaluation: { timeout: 30000, maxIterations: 1000, cache: true, parallel: false }, operators: { comparison: ['eq', 'ne', 'gt', 'gte', 'lt', 'lte'], logical: ['and', 'or', 'not'], arithmetic: ['add', 'sub', 'mul', 'div', 'mod'], custom: {} }, functions: { builtin: true, custom: {}, security: true }, variables: { global: {}, readonly: [], maxSize: 1024 * 1024, // 1MB allowedTypes: ['string', 'number', 'boolean', 'object', 'array'] }, actions: { maxPerRule: 10, timeout: 10000, retryAttempts: 2, async: true }, priorities: { enabled: true, default: 'normal' }, groups: { enabled: true, executionMode: 'sequential' }, logging: { enabled: true, level: 'info', maxLogs: 1000 }, metrics: { enabled: true, retention: 86400000 } }, // Configuraci√≥n del gestor de automatizaci√≥n automationManager: { enabled: true, maxAutomations: 500, workflows: { enabled: true, config: {} }, rules: { enabled: true, config: {} }, integration: { shareVariables: true, shareEvents: true, crossTriggers: true, conflictResolution: 'priority' }, events: { enabled: true, maxListeners: 100, eventHistory: true, historySize: 1000 }, triggers: { enabled: true, debounceTime: 1000, maxPerAutomation: 10, globalTriggers: [] }, context: { global: {}, persistent: true, encryption: false, maxSize: 10 * 1024 * 1024 // 10MB }, monitoring: { enabled: true, healthChecks: true, performanceMetrics: true, alerting: false }, logging: { enabled: true, level: 'info', includeContext: true, maxLogs: 10000 } } }; /** Constantes del sistema de workflows / const WORKFLOW_CONSTANTS = { // Estados de workflow WORKFLOW_STATES: { PENDING: 'pending', RUNNING: 'running', COMPLETED: 'completed', FAILED: 'failed', CANCELLED: 'cancelled', PAUSED: 'paused' }, // Estados de instancia INSTANCE_STATES: { CREATED: 'created', STARTED: 'started', RUNNING: 'running', WAITING: 'waiting', COMPLETED: 'completed', FAILED: 'failed', CANCELLED: 'cancelled' }, // Tipos de paso STEP_TYPES: { ACTION: 'action', CONDITION: 'condition', LOOP: 'loop', PARALLEL: 'parallel', DELAY: 'delay', VARIABLE: 'variable', WEBHOOK: 'webhook', NOTIFICATION: 'notification' }, // Tipos de acci√≥n ACTION_TYPES: { LOG: 'log', HTTP: 'http', DATABASE: 'database', FILE: 'file', EMAIL: 'email', CUSTOM: 'custom' }, // Tipos de trigger TRIGGER_TYPES: { EVENT: 'event', SCHEDULE: 'schedule', WEBHOOK: 'webhook', CONDITION: 'condition' }, // Operadores de condici√≥n CONDITION_OPERATORS: { EQ: 'eq', NE: 'ne', GT: 'gt', GTE: 'gte', LT: 'lt', LTE: 'lte', IN: 'in', CONTAINS: 'contains', REGEX: 'regex', AND: 'and', OR: 'or', NOT: 'not' }, // Estados de regla RULE_STATES: { ACTIVE: 'active', INACTIVE: 'inactive', DISABLED: 'disabled' }, // Prioridades PRIORITIES: { CRITICAL: 'critical', HIGH: 'high', NORMAL: 'normal', LOW: 'low' }, // Tipos de automatizaci√≥n AUTOMATION_TYPES: { WORKFLOW: 'workflow', RULE: 'rule', HYBRID: 'hybrid' }, // Eventos del sistema EVENTS: { // Workflow events WORKFLOW_CREATED: 'workflowCreated', WORKFLOW_STARTED: 'workflowStarted', WORKFLOW_COMPLETED: 'workflowCompleted', WORKFLOW_FAILED: 'workflowFailed', WORKFLOW_CANCELLED: 'workflowCancelled', STEP_STARTED: 'stepStarted', STEP_COMPLETED: 'stepCompleted', STEP_FAILED: 'stepFailed', // Rule events RULE_CREATED: 'ruleCreated', RULE_MATCHED: 'ruleMatched', RULE_FAILED: 'ruleFailed', ACTION_EXECUTED: 'actionExecuted', // Automation events AUTOMATION_CREATED: 'automationCreated', AUTOMATION_STARTED: 'automationStarted', AUTOMATION_COMPLETED: 'automationCompleted', AUTOMATION_FAILED: 'automationFailed', AUTOMATION_UPDATED: 'automationUpdated', AUTOMATION_DELETED: 'automationDeleted', // System events HEALTH_CHECK: 'healthCheck', METRICS_UPDATE: 'metricsUpdate', LOG: 'log', ERROR: 'error' } }; /** Utilidades para el sistema de workflows / class WorkflowUtils { /** Valida configuraci√≥n de workflow / static validateWorkflowConfig(config) { if (!config || typeof config !== 'object') { throw new Error('Workflow config must be an object'); } if (!config.name || typeof config.name !== 'string') { throw new Error('Workflow name is required and must be a string'); } if (!config.steps || !Array.isArray(config.steps)) { throw new Error('Workflow steps are required and must be an array'); } if (config.steps.length === 0) { throw new Error('Workflow must have at least one step'); } return true; } /** Valida configuraci√≥n de regla / static validateRuleConfig(config) { if (!config || typeof config !== 'object') { throw new Error('Rule config must be an object'); } if (!config.name || typeof config.name !== 'string') { throw new Error('Rule name is required and must be a string'); } if (!config.conditions) { throw new Error('Rule conditions are required'); } if (!config.actions || !Array.isArray(config.actions)) { throw new Error('Rule actions are required and must be an array'); } return true; } /** Valida configuraci√≥n de automatizaci√≥n / static validateAutomationConfig(config) { if (!config || typeof config !== 'object') { throw new Error('Automation config must be an object'); } if (!config.name || typeof config.name !== 'string') { throw new Error('Automation name is required and must be a string'); } if (!config.type || !Object.values(WORKFLOW_CONSTANTS.AUTOMATION_TYPES).includes(config.type)) { throw new Error('Automation type is required and must be valid'); } if (config.type === 'workflow' && !config.workflow) { throw new Error('Workflow automation must have workflow definition'); } if (config.type === 'rule' && (!config.rules || config.rules.length === 0)) { throw new Error('Rule automation must have rule definitions'); } return true; } /** Combina configuraciones / static mergeConfigs(defaultConfig, userConfig) { const merged = JSON.parse(JSON.stringify(defaultConfig)); function deepMerge(target, source) { for (const key in source) { if (source[key] && typeof source[key] === 'object' && !Array.isArray(source[key])) { if (!target[key]) target[key] = {}; deepMerge(target[key], source[key]); } else { target[key] = source[key]; } } } deepMerge(merged, userConfig); return merged; } /** Crea configuraci√≥n optimizada para desarrollo / static createDevelopmentConfig(overrides = {}) { const devConfig = { workflowEngine: { maxWorkflows: 50, maxConcurrentExecutions: 5, execution: { timeout: 60000, // 1 minuto retryAttempts: 1 }, logging: { level: 'debug' } }, ruleEngine: { maxRules: 100, evaluation: { timeout: 10000, cache: false }, logging: { level: 'debug' } }, automationManager: { maxAutomations: 100, monitoring: { healthChecks: false, performanceMetrics: false }, logging: { level: 'debug' } } }; return this.mergeConfigs(DEFAULT_WORKFLOW_CONFIG, this.mergeConfigs(devConfig, overrides)); } /** Crea configuraci√≥n optimizada para producci√≥n / static createProductionConfig(overrides = {}) { const prodConfig = { workflowEngine: { persistence: { type: 'database' }, logging: { level: 'warn' } }, ruleEngine: { evaluation: { cache: true, parallel: true }, logging: { level: 'warn' } }, automationManager: { context: { encryption: true }, monitoring: { alerting: true }, logging: { level: 'warn' } } }; return this.mergeConfigs(DEFAULT_WORKFLOW_CONFIG, this.mergeConfigs(prodConfig, overrides)); } /** Obtiene informaci√≥n del sistema / static getSystemInfo() { return { version: '1.0.0', components: ['WorkflowEngine', 'RuleEngine', 'AutomationManager'], constants: WORKFLOW_CONSTANTS, defaultConfig: DEFAULT_WORKFLOW_CONFIG }; } /** Formatea estad√≠sticas para visualizaci√≥n / static formatStats(stats) { return { summary: { totalWorkflows: stats.workflows?.total || 0, totalRules: stats.rules?.total || 0, totalAutomations: stats.automations?.total || 0, totalExecutions: stats.workflowsExecuted + stats.rulesEvaluated + stats.automationsExecuted, successRate: this._calculateSuccessRate(stats) }, workflows: stats.workflows || {}, rules: stats.rules || {}, automations: stats.automations || {}, performance: { averageExecutionTime: stats.averageExecutionTime || 0, totalExecutionTime: stats.totalExecutionTime || 0 }, timestamp: new Date().toISOString() }; } /** Calcula tasa de √©xito / static _calculateSuccessRate(stats) { const total = (stats.workflowsExecuted || 0) + (stats.rulesEvaluated || 0) + (stats.automationsExecuted || 0); const successful = (stats.workflowsCompleted || 0) + (stats.rulesMatched || 0) + (stats.automationsCompleted || 0); return total > 0 ? Math.round((successful / total) * 100) : 0; } } /** Funciones de f√°brica para crear instancias / /** Crea una instancia del motor de workflows</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createRuleEngine</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/index.js</div>
                <div class="item-description">Crea una instancia del motor de reglas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createAutomationManager</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/index.js</div>
                <div class="item-description">Crea una instancia del gestor de automatizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">createWorkflowSystem</span>
                    <span class="item-type">function</span>
                </div>
                <div class="item-file">üìÅ src/workflows/index.js</div>
                <div class="item-description">Crea un sistema completo de workflows</div>
                
            </div>
        </div>

        <div id="modules" class="section">
            <h2>üì¶ M√≥dulos (0)</h2>
            
        </div>

        <div id="constants" class="section">
            <h2>üîß Constantes (55)</h2>
            
            <div class="item">
                <div>
                    <span class="item-name">analyticsConfig</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/config/analytics.js</div>
                <div class="item-description">===================================================== ChatBot Enterprise - Analytics Configuration ===================================================== Configuraci√≥n principal para el sistema de analytics y m√©tricas de negocio. / import path from 'path'; /** Configuraci√≥n de Analytics</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">defaultAlertRules</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/config/analytics.js</div>
                <div class="item-description">Reglas de alerta predefinidas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">kpiConfig</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/config/analytics.js</div>
                <div class="item-description">Configuraci√≥n de KPIs</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">CACHE_TYPES</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/config/cache/CacheConfig.js</div>
                <div class="item-description">Cache Configuration System Sistema de configuraci√≥n avanzada para cache distribuido Incluye perfiles, optimizaciones y configuraciones por entorno / import { config } from '../environments/environments.js'; import logger from '../../services/core/core/logger.js'; import { CacheValidationUtils, CacheTTLUtils } from '../../services/cache/CacheUtils.js'; /** Configuraciones base por tipo de cache</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">ENVIRONMENT_PROFILES</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/config/cache/CacheConfig.js</div>
                <div class="item-description">Perfiles de configuraci√≥n por entorno</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">OPTIMIZATION_CONFIGS</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/config/cache/CacheConfig.js</div>
                <div class="item-description">Configuraciones de optimizaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">DEFAULT_CACHE_CONFIG</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/index.js</div>
                <div class="item-description">Configuraci√≥n por defecto del sistema de cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">CACHE_EVENTS</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/index.js</div>
                <div class="item-description">Eventos del sistema de cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">CACHE_STATES</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/index.js</div>
                <div class="item-description">Estados del sistema de cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">STORAGE_TYPES</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/index.js</div>
                <div class="item-description">Tipos de almacenamiento</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">EVICTION_POLICIES</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/index.js</div>
                <div class="item-description">Pol√≠ticas de evicci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">WARMING_STRATEGIES</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/index.js</div>
                <div class="item-description">Estrategias de warming</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">CacheUtils</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/environments/cache/index.js</div>
                <div class="item-description">Funciones de f√°brica / /** Crea una instancia del gestor de cach√© / function createCacheManager(config = {}) { const mergedConfig = { ...DEFAULT_CACHE_CONFIG.manager, ...config }; return new CacheManager(mergedConfig); } /** Crea una instancia del almac√©n de cach√© / function createCacheStore(config = {}) { const mergedConfig = { ...DEFAULT_CACHE_CONFIG.store, ...config }; return new CacheStore(mergedConfig); } /** Crea una instancia de la estrategia de cach√© / function createCacheStrategy(config = {}) { const mergedConfig = { ...DEFAULT_CACHE_CONFIG.strategy, ...config }; return new CacheStrategy(mergedConfig); } /** Crea un sistema de cach√© completo / async function createCacheSystem(config = {}) { const fullConfig = CacheUtils.mergeConfigs(DEFAULT_CACHE_CONFIG, config); // Crear componentes const store = createCacheStore(fullConfig.store); const strategy = createCacheStrategy(fullConfig.strategy); const manager = new CacheManager({ ...fullConfig.manager, store, strategy }); // Inicializar sistema await store.initialize(); strategy.initialize(); await manager.initialize(); return { manager, store, strategy, config: fullConfig, // M√©todos de conveniencia async start() { return await manager.start(); }, async stop() { return await manager.stop(); }, async destroy() { await manager.destroy(); await store.destroy(); strategy.destroy(); }, // Operaciones de cach√© async get(key) { return await manager.get(key); }, async set(key, value, options = {}) { return await manager.set(key, value, options); }, async delete(key) { return await manager.delete(key); }, async clear() { return await manager.clear(); }, async has(key) { return await manager.has(key); }, async keys() { return await manager.keys(); }, async size() { return await manager.size(); }, // Estad√≠sticas getStatistics() { return { manager: manager.getStatistics(), store: store.getStatistics(), strategy: strategy.getStatistics() }; }, getInfo() { return { config: fullConfig, state: manager.state, statistics: this.getStatistics() }; } }; } /** Utilidades del sistema de cach√©</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">redisConfig</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/redis.js</div>
                <div class="item-description">Configuraci√≥n de Redis Configuraci√≥n centralizada para conexiones Redis Recomendaci√≥n #16: Redis Cache / import Redis from 'ioredis'; import logger from '../../services/core/core/logger.js'; /** Configuraci√≥n por entorno</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">clusterConfig</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/config/environments/redis.js</div>
                <div class="item-description">Configuraci√≥n de cluster Redis (para producci√≥n)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">INVALIDATION_TYPES</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Cache Invalidation System Sistema de invalidaci√≥n inteligente de cache Incluye patrones, dependencias y estrategias autom√°ticas / import { EventEmitter } from 'events'; import distributedCacheManager from './DistributedCacheManager.js'; import logger from '../core/core/logger.js'; /** Tipos de invalidaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">INVALIDATION_STRATEGIES</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/cache/CacheInvalidation.js</div>
                <div class="item-description">Estrategias de invalidaci√≥n</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">CACHE_PROFILES</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/infrastructure/middleware/AdvancedCacheMiddleware.js</div>
                <div class="item-description">Advanced Cache Middleware Middleware de cache HTTP avanzado con m√∫ltiples estrategias, invalidaci√≥n inteligente y optimizaciones de rendimiento / import distributedCacheManager from '../services/cache/DistributedCacheManager.js'; import cacheMonitoring from '../services/cache/CacheMonitoring.js'; import cacheInvalidation from '../services/cache/CacheInvalidation.js'; import cacheConfig from '../config/cache/CacheConfig.js'; import logger from '../services/core/core/logger.js'; import crypto from 'crypto'; /** Perfiles de cache predefinidos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">DEFAULT_METRICS_CONFIG</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/metrics/index.js</div>
                <div class="item-description">Configuraci√≥n por defecto del sistema de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">MetricsUtils</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/metrics/index.js</div>
                <div class="item-description">Funciones de f√°brica para crear instancias de componentes / /** Crea una instancia del recolector de m√©tricas / function createMetricsCollector(config = {}) { const collectorConfig = { ...DEFAULT_METRICS_CONFIG.collector, ...config }; return new MetricsCollector(collectorConfig); } /** Crea una instancia del motor de analytics / function createAnalyticsEngine(config = {}) { const analyticsConfig = { ...DEFAULT_METRICS_CONFIG.analytics, ...config }; return new AnalyticsEngine(analyticsConfig); } /** Crea una instancia del generador de reportes / function createReportGenerator(config = {}) { const reportsConfig = { ...DEFAULT_METRICS_CONFIG.reports, ...config }; return new ReportGenerator(reportsConfig); } /** Crea un sistema completo de m√©tricas y analytics / function createMetricsSystem(config = {}) { const systemConfig = { ...DEFAULT_METRICS_CONFIG, ...config }; const collector = createMetricsCollector(systemConfig.collector); const analytics = createAnalyticsEngine(systemConfig.analytics); const reports = createReportGenerator(systemConfig.reports); // Conectar componentes collector.on('metricsCollected', (metrics) => { analytics.processMetrics(metrics); }); analytics.on('analysisComplete', (analysis) => { // Los reportes pueden usar los an√°lisis para generar insights }); return { collector, analytics, reports, // M√©todos de conveniencia async start() { await collector.initialize(); await analytics.initialize(); await reports.initialize(); collector.start(); analytics.start(); return this; }, async stop() { collector.stop(); analytics.stop(); return this; }, async destroy() { collector.destroy(); analytics.destroy(); reports.destroy(); }, getStatistics() { return { collector: collector.getStatistics(), analytics: analytics.getStatistics(), reports: reports.getStatistics() }; } }; } /** Utilidades para el sistema de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">METRICS_EVENTS</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/metrics/index.js</div>
                <div class="item-description">Valida una configuraci√≥n de m√©tricas / validateConfig(config) { const errors = []; if (config.collector && config.collector.interval < 1000) { errors.push('Collector interval must be at least 1000ms'); } if (config.analytics && config.analytics.processing.retention < 1) { errors.push('Analytics retention must be at least 1 day'); } if (config.reports && config.reports.scheduling.retention < 1) { errors.push('Reports retention must be at least 1 day'); } return { valid: errors.length === 0, errors }; }, /** Combina configuraciones de m√©tricas / mergeConfigs(baseConfig, overrideConfig) { return this._deepMerge(baseConfig, overrideConfig); }, /** Crea una configuraci√≥n optimizada para desarrollo / createDevelopmentConfig() { return { ...DEFAULT_METRICS_CONFIG, collector: { ...DEFAULT_METRICS_CONFIG.collector, interval: 10000, // 10 segundos bufferSize: 100 }, analytics: { ...DEFAULT_METRICS_CONFIG.analytics, processing: { interval: 120000, // 2 minutos retention: 7 // d√≠as } }, reports: { ...DEFAULT_METRICS_CONFIG.reports, scheduling: { ...DEFAULT_METRICS_CONFIG.reports.scheduling, retention: 7 // d√≠as } } }; }, /** Crea una configuraci√≥n optimizada para producci√≥n / createProductionConfig() { return { ...DEFAULT_METRICS_CONFIG, collector: { ...DEFAULT_METRICS_CONFIG.collector, interval: 5000, // 5 segundos bufferSize: 1000 }, analytics: { ...DEFAULT_METRICS_CONFIG.analytics, processing: { interval: 60000, // 1 minuto retention: 90 // d√≠as } }, reports: { ...DEFAULT_METRICS_CONFIG.reports, scheduling: { ...DEFAULT_METRICS_CONFIG.reports.scheduling, retention: 90 // d√≠as } } }; }, /** Obtiene informaci√≥n del sistema de m√©tricas / getSystemInfo() { return { version: '1.0.0', components: ['MetricsCollector', 'AnalyticsEngine', 'ReportGenerator'], features: [ 'Real-time metrics collection', 'Advanced analytics and ML', 'Automated reporting', 'Anomaly detection', 'Trend analysis', 'Forecasting', 'Smart alerts' ], supportedFormats: ['json', 'html', 'pdf', 'csv', 'excel'], supportedCharts: ['line', 'bar', 'pie', 'scatter', 'heatmap'] }; }, /** Formatea estad√≠sticas para mostrar / formatStatistics(stats) { return { summary: { totalMetrics: stats.collector?.totalMetrics || 0, totalAnalyses: stats.analytics?.totalAnalyses || 0, totalReports: stats.reports?.totalReports || 0, uptime: this._formatUptime(stats.collector?.uptime || 0) }, collector: { state: stats.collector?.state || 'unknown', metricsPerSecond: stats.collector?.metricsPerSecond || 0, bufferUsage: stats.collector?.bufferUsage || 0, errors: stats.collector?.errors || 0 }, analytics: { state: stats.analytics?.state || 'unknown', processingTime: stats.analytics?.averageProcessingTime || 0, insights: stats.analytics?.totalInsights || 0, anomalies: stats.analytics?.totalAnomalies || 0 }, reports: { state: stats.reports?.state || 'unknown', generationTime: stats.reports?.averageGenerationTime || 0, activeSchedules: stats.reports?.activeSchedules || 0, errors: stats.reports?.errors || 0 } }; }, // M√©todos privados _deepMerge(target, source) { const result = { ...target }; for (const key in source) { if (source[key] && typeof source[key] === 'object' && !Array.isArray(source[key])) { result[key] = this._deepMerge(target[key] || {}, source[key]); } else { result[key] = source[key]; } } return result; }, _formatUptime(uptime) { const seconds = Math.floor(uptime / 1000); const minutes = Math.floor(seconds / 60); const hours = Math.floor(minutes / 60); const days = Math.floor(hours / 24); if (days > 0) return `${days}d ${hours % 24}h ${minutes % 60}m`; if (hours > 0) return `${hours}h ${minutes % 60}m ${seconds % 60}s`; if (minutes > 0) return `${minutes}m ${seconds % 60}s`; return `${seconds}s`; } }; /** Constantes del sistema de m√©tricas</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">AUTH_CONFIG</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/middleware/auth.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Middleware de Autenticaci√≥n  Middleware centralizado para manejo de autenticaci√≥n JWT, extra√≠do del archivo server.js monol√≠tico para mejorar la modularidad. <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0 /  import jwt from 'jsonwebtoken'; import { createLogger } from '../services/core/core/logger.js';  const logger = createLogger('AUTH_MIDDLEWARE');  /** Configuraci√≥n de autenticaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">CORS_CONFIG</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/middleware/security.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Middleware de Seguridad  Middleware centralizado para manejo de seguridad HTTP, extra√≠do del archivo server.js monol√≠tico para mejorar la modularidad. <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0 /  import helmet from 'helmet'; import cors from 'cors'; import { createLogger } from '../services/core/core/logger.js';  const logger = createLogger('SECURITY_MIDDLEWARE');  /** Configuraci√≥n de CORS 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">HELMET_CONFIG</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/middleware/security.js</div>
                <div class="item-description">Configuraci√≥n de Helmet para seguridad HTTP</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">DEFAULT_PLUGIN_CONFIG</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/plugins/index.js</div>
                <div class="item-description">Configuraci√≥n por defecto para el sistema de plugins</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">PluginUtils</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/plugins/index.js</div>
                <div class="item-description">Funciones de f√°brica para crear instancias de componentes / /** Crea una instancia del gestor de plugins / function createPluginManager(config = {}) { const managerConfig = { ...DEFAULT_PLUGIN_CONFIG.manager, ...config }; return new PluginManager(managerConfig); } /** Crea una instancia del registro de plugins / function createPluginRegistry(config = {}) { const registryConfig = { ...DEFAULT_PLUGIN_CONFIG.registry, ...config }; return new PluginRegistry(registryConfig); } /** Crea una instancia de PluginAPI / function createPluginAPI(config = {}) { return new PluginAPI(config); } /** Crea un sistema completo de plugins / function createPluginSystem(config = {}) { const systemConfig = { ...DEFAULT_PLUGIN_CONFIG, ...config }; const manager = createPluginManager(systemConfig.manager); const registry = createPluginRegistry(systemConfig.registry); // Conectar manager y registry manager.registry = registry; registry.manager = manager; return { manager, registry, // M√©todos de conveniencia async start() { await registry.load(); await manager.start(); }, async stop() { await manager.stop(); await registry.save(); }, async destroy() { await manager.destroy(); await registry.destroy(); }, // Proxy para m√©todos del manager loadPlugin: (name, options) => manager.loadPlugin(name, options), startPlugin: (name) => manager.startPlugin(name), stopPlugin: (name) => manager.stopPlugin(name), unloadPlugin: (name) => manager.unloadPlugin(name), getPlugin: (name) => manager.getPlugin(name), getPlugins: () => manager.getPlugins(), // Proxy para m√©todos del registry registerPlugin: (data) => registry.registerPlugin(data), unregisterPlugin: (id) => registry.unregisterPlugin(id), searchPlugins: (query, options) => registry.search(query, options), getPluginById: (id) => registry.getPlugin(id), getLatestVersion: (name) => registry.getLatestVersion(name), // Estad√≠sticas combinadas getStatistics() { return { manager: manager.getStatistics(), registry: registry.getStatistics() }; } }; } /** Utilidades para el sistema de plugins</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">PLUGIN_EVENTS</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/plugins/index.js</div>
                <div class="item-description">Valida la configuraci√≥n del sistema de plugins / validateConfig(config) { const errors = []; if (config.manager) { if (config.manager.maxPlugins && config.manager.maxPlugins < 1) { errors.push('maxPlugins must be greater than 0'); } if (config.manager.loadTimeout && config.manager.loadTimeout < 1000) { errors.push('loadTimeout must be at least 1000ms'); } if (config.manager.security) { const security = config.manager.security; if (security.memoryLimit && security.memoryLimit < 1024 * 1024) { errors.push('memoryLimit must be at least 1MB'); } } } if (config.registry) { if (config.registry.maxVersions && config.registry.maxVersions < 1) { errors.push('maxVersions must be greater than 0'); } if (config.registry.validation) { const validation = config.registry.validation; if (validation.maxNameLength && validation.maxNameLength < 1) { errors.push('maxNameLength must be greater than 0'); } } } if (errors.length > 0) { throw new Error(`Plugin configuration validation failed: ${errors.join(', ')}`); } return true; }, /** Crea una configuraci√≥n optimizada para desarrollo / createDevelopmentConfig() { return { manager: { ...DEFAULT_PLUGIN_CONFIG.manager, autoLoad: true, autoStart: true, loadTimeout: 60000, startTimeout: 30000, sandboxed: false, security: { allowNativeModules: true, allowFileSystem: true, allowNetwork: true, allowProcess: false, memoryLimit: 500 * 1024 * 1024, cpuLimit: 5000 } }, registry: { ...DEFAULT_PLUGIN_CONFIG.registry, validateChecksums: false, allowDuplicates: true, validation: { strictMode: false, requireDescription: false, requireAuthor: false, requireLicense: false, maxNameLength: 200, maxDescriptionLength: 1000 } } }; }, /** Crea una configuraci√≥n optimizada para producci√≥n / createProductionConfig() { return { manager: { ...DEFAULT_PLUGIN_CONFIG.manager, autoLoad: false, autoStart: false, loadTimeout: 15000, startTimeout: 5000, sandboxed: true, validateSignatures: true, security: { allowNativeModules: false, allowFileSystem: false, allowNetwork: false, allowProcess: false, memoryLimit: 50 * 1024 * 1024, cpuLimit: 500 } }, registry: { ...DEFAULT_PLUGIN_CONFIG.registry, validateChecksums: true, allowDuplicates: false, validation: { strictMode: true, requireDescription: true, requireAuthor: true, requireLicense: true, maxNameLength: 50, maxDescriptionLength: 200 } } }; }, /** Obtiene informaci√≥n del sistema de plugins / getSystemInfo(pluginSystem) { const managerStats = pluginSystem.manager.getStatistics(); const registryStats = pluginSystem.registry.getStatistics(); return { version: '1.0.0', timestamp: new Date().toISOString(), manager: { state: pluginSystem.manager.state, statistics: managerStats, config: pluginSystem.manager.config }, registry: { state: pluginSystem.registry.state, statistics: registryStats, config: pluginSystem.registry.config }, summary: { totalPlugins: managerStats.totalPlugins, loadedPlugins: managerStats.loadedPlugins, activePlugins: managerStats.activePlugins, registeredPlugins: registryStats.totalPlugins, totalVersions: registryStats.totalVersions, totalAuthors: registryStats.totalAuthors, totalTags: registryStats.totalTags } }; }, /** Formatea estad√≠sticas para visualizaci√≥n / formatStatistics(statistics) { const formatBytes = (bytes) => { const sizes = ['B', 'KB', 'MB', 'GB']; if (bytes === 0) return '0 B'; const i = Math.floor(Math.log(bytes) / Math.log(1024)); return Math.round(bytes / Math.pow(1024, i) * 100) / 100 + ' ' + sizes[i]; }; const formatTime = (ms) => { if (ms < 1000) return `${ms}ms`; if (ms < 60000) return `${Math.round(ms / 1000)}s`; if (ms < 3600000) return `${Math.round(ms / 60000)}m`; return `${Math.round(ms / 3600000)}h`; }; return { manager: { plugins: { total: statistics.manager.totalPlugins, loaded: statistics.manager.loadedPlugins, active: statistics.manager.activePlugins, failed: statistics.manager.failedPlugins }, performance: { loadTime: formatTime(statistics.manager.loadTime), startTime: formatTime(statistics.manager.startTime), errors: statistics.manager.errors, warnings: statistics.manager.warnings } }, registry: { content: { plugins: statistics.registry.totalPlugins, versions: statistics.registry.totalVersions, authors: statistics.registry.totalAuthors, tags: statistics.registry.totalTags, categories: statistics.registry.totalCategories }, activity: { searchQueries: statistics.registry.searchQueries, cacheHits: statistics.registry.cacheHits, cacheMisses: statistics.registry.cacheMisses, lastUpdate: statistics.registry.lastUpdate } } }; }, /** Genera colores para visualizaci√≥n / generateColors(count) { const colors = []; const hueStep = 360 / count; for (let i = 0; i < count; i++) { const hue = i * hueStep; colors.push(`hsl(${hue}, 70%, 50%)`); } return colors; }, /** Calcula estad√≠sticas de uso / calculateUsageStats(plugins) { const stats = { byCategory: new Map(), byAuthor: new Map(), byVersion: new Map(), byState: new Map() }; for (const plugin of plugins.values()) { // Por categor√≠a const category = plugin.metadata?.category || 'unknown'; stats.byCategory.set(category, (stats.byCategory.get(category) || 0) + 1); // Por autor const author = plugin.metadata?.author || 'unknown'; stats.byAuthor.set(author, (stats.byAuthor.get(author) || 0) + 1); // Por versi√≥n const version = plugin.metadata?.version || 'unknown'; stats.byVersion.set(version, (stats.byVersion.get(version) || 0) + 1); // Por estado const state = plugin.state || 'unknown'; stats.byState.set(state, (stats.byState.get(state) || 0) + 1); } return { byCategory: Object.fromEntries(stats.byCategory), byAuthor: Object.fromEntries(stats.byAuthor), byVersion: Object.fromEntries(stats.byVersion), byState: Object.fromEntries(stats.byState) }; } }; /** Constantes del sistema de plugins</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">AUTH_CONFIG</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/routes/auth/index.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Rutas de Autenticaci√≥n  M√≥dulo que maneja todas las rutas relacionadas con autenticaci√≥n, extra√≠do del archivo server.js monol√≠tico para mejorar la modularidad. <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0 /  import express from 'express'; import jwt from 'jsonwebtoken'; import bcrypt from 'bcrypt'; import { createLogger } from '../../services/core/core/logger.js';  const logger = createLogger('AUTH');  const router = express.Router();  /** Configuraci√≥n de autenticaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">DEFAULT_USERS</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/routes/auth/index.js</div>
                <div class="item-description">Usuarios por defecto (en producci√≥n esto vendr√≠a de una base de datos)</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">validateFile</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/routes/multimedia.routes.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Rutas de Multimedia Extra√≠do de multimedia.js para mejorar la modularidad /  import express from 'express'; import path from 'path'; import fs from 'fs/promises'; import { MulterConfigService } from '../services/multimedia/MulterConfigService.js'; import { MediaProcessingService } from '../services/multimedia/MediaProcessingService.js'; import { createLogger } from '../core/core/logger.js';  const router = express.Router(); const logger = createLogger('MULTIMEDIA_ROUTES');  // Inicializar servicios const multerConfig = new MulterConfigService(); const mediaProcessor = new MediaProcessingService();  /** Middleware para validar archivos 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">handleMulterError</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/routes/multimedia.routes.js</div>
                <div class="item-description">Middleware para manejo de errores de multer</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">WHATSAPP_CONFIG</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/routes/whatsapp/index.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Rutas de WhatsApp/360Dialog  M√≥dulo que maneja todas las rutas relacionadas con WhatsApp y 360Dialog, extra√≠do del archivo server.js monol√≠tico para mejorar la modularidad. <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0 /  import express from 'express'; import axios from 'axios'; import { createLogger } from '../../services/core/core/logger.js';  const logger = createLogger('WHATSAPP');  const router = express.Router();  /** Configuraci√≥n de WhatsApp/360Dialog 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">EventEmitter</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/services/core/ChatBot.js</div>
                <div class="item-description">ChatBot Core Service Motor principal del sistema ChatBot Enterprise</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">EventTypes</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventTypes.js</div>
                <div class="item-description">Definici√≥n de tipos de eventos para la arquitectura orientada a eventos Clasifica todos los eventos en tres categor√≠as principales: system.*, user.*, ai.*</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">EventUtils</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventTypes.js</div>
                <div class="item-description">Utilidades para trabajar con tipos de eventos</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">EventPriorities</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventTypes.js</div>
                <div class="item-description">Verifica si un evento pertenece a una categor√≠a espec√≠fica</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@param:</strong> {string} eventType - Tipo de evento, {string} category - Categor√≠a (system, user, ai), {string} eventType - Tipo de evento, {string} eventType - Tipo de evento, {string} eventType - Tipo de evento, {string} category - Categor√≠a (SYSTEM, USER, AI), {string} category - Categor√≠a (system, user, ai), {string} subcategory - Subcategor√≠a, {string} action - Acci√≥n espec√≠fica<br><strong>@returns:</strong> {boolean} / isEventOfCategory(eventType, category) { return eventType.startsWith(`${category}.`); },  /** Obtiene la categor√≠a de un evento, {string|null} / getEventCategory(eventType) { const parts = eventType.split('.'); return parts.length > 0 ? parts[0] : null; },  /** Obtiene el subcategor√≠a de un evento, {string|null} / getEventSubcategory(eventType) { const parts = eventType.split('.'); return parts.length > 1 ? parts[1] : null; },  /** Valida si un tipo de evento es v√°lido, {boolean} / isValidEventType(eventType) { const allEvents = [ ...Object.values(EventTypes.SYSTEM), ...Object.values(EventTypes.USER), ...Object.values(EventTypes.AI) ]; return allEvents.includes(eventType); },  /** Obtiene todos los eventos de una categor√≠a, {string[]} / getEventsByCategory(category) { return Object.values(EventTypes[category.toUpperCase()] || {}); },  /** Crea un evento personalizado siguiendo la convenci√≥n de nomenclatura, {string} / createCustomEvent(category, subcategory, action) { return `${category}.${subcategory}.${action}`; } };  /** Prioridades de eventos para el sistema de colas 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">EventPriorityMap</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/EventTypes.js</div>
                <div class="item-description">Mapeo de tipos de eventos a prioridades</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">DEFAULT_SECURITY_CONFIG</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/index.js</div>
                <div class="item-description">Configuraci√≥n por defecto del sistema de seguridad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">SECURITY_EVENTS</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/index.js</div>
                <div class="item-description">Eventos del sistema de seguridad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">SECURITY_STATES</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/index.js</div>
                <div class="item-description">Estados de seguridad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">SECURITY_LEVELS</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/index.js</div>
                <div class="item-description">Niveles de seguridad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">THREAT_TYPES</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/index.js</div>
                <div class="item-description">Tipos de amenazas de seguridad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">SecurityUtils</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/auth/index.js</div>
                <div class="item-description">Crea una instancia del gestor de autenticaci√≥n / function createAuthenticationManager(config = {}) { const authConfig = { ...DEFAULT_SECURITY_CONFIG.authentication, ...config }; return new AuthenticationManager(authConfig); } /** Crea una instancia del gestor de autorizaci√≥n / function createAuthorizationManager(config = {}) { const authzConfig = { ...DEFAULT_SECURITY_CONFIG.authorization, ...config }; return new AuthorizationManager(authzConfig); } /** Crea una instancia del gestor de encriptaci√≥n / function createEncryptionManager(config = {}) { const encryptionConfig = { ...DEFAULT_SECURITY_CONFIG.encryption, ...config }; return new EncryptionManager(encryptionConfig); } /** Crea un sistema de seguridad completo / function createSecuritySystem(config = {}) { const securityConfig = { ...DEFAULT_SECURITY_CONFIG, ...config }; const authenticationManager = createAuthenticationManager(securityConfig.authentication); const authorizationManager = createAuthorizationManager(securityConfig.authorization); const encryptionManager = createEncryptionManager(securityConfig.encryption); return { authentication: authenticationManager, authorization: authorizationManager, encryption: encryptionManager, config: securityConfig, async initialize() { await authenticationManager.initialize(); await authorizationManager.initialize(); await encryptionManager.initialize(); }, async destroy() { await authenticationManager.destroy(); await authorizationManager.destroy(); await encryptionManager.destroy(); }, getStatistics() { return { authentication: authenticationManager.getStatistics(), authorization: authorizationManager.getStatistics(), encryption: encryptionManager.getStatistics() }; } }; } /** Utilidades del sistema de seguridad</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">customFormat</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/logger.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Sistema de Logging Centralizado del ChatBot Enterprise  Este archivo implementa un sistema de logging robusto y escalable basado en Winston que proporciona: - Logging unificado para toda la aplicaci√≥n - M√∫ltiples niveles de log (error, warn, info, debug, verbose) - Transportes configurables (consola, archivos) - Rotaci√≥n autom√°tica de archivos de log - Contexto espec√≠fico por m√≥dulo - Middleware para logging de requests HTTP - Manejo centralizado de errores <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0<br><strong>@since:</strong> 2024 /  import winston from 'winston'; import path from 'path'; import fs from 'fs-extra'; import { LOGGING_CONFIG } from '../../../config/environments/index.js';  // Asegurar que el directorio de logs existe const logsDir = path.dirname(LOGGING_CONFIG.FILE); // Usar sync para evitar problemas con await en top-level fs.ensureDirSync(logsDir);  /** Formato personalizado para los logs  Combina timestamp, manejo de errores y formato personalizado para crear logs legibles y estructurados. <br><strong>@constant:</strong> {winston.Format} customFormat 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">transports</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/logger.js</div>
                <div class="item-description">Configuraci√≥n de transportes</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">logger</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/logger.js</div>
                <div class="item-description">Logger principal de Winston Instancia configurada de Winston con todos los transportes y formatos definidos seg√∫n la configuraci√≥n del sistema.</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@constant:</strong> {winston.Logger} logger 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">sanitizeObject</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/middleware.js</div>
                <div class="item-description">Middleware Centralizado Contiene todos los middlewares reutilizables del sistema para autenticaci√≥n, validaci√≥n, logging, etc.</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@author:</strong> Chat-Bot-1-2 Team<br><strong>@version:</strong> 1.0.0 /  import { createLogger } from './logger.js'; import config from '../../../workflows/index.js';  const logger = createLogger('MIDDLEWARE');  /** Middleware de autenticaci√≥n b√°sica / export function authMiddleware(req, res, next) { try { // Por ahora, permitir todas las requests (autenticaci√≥n simplificada) // En producci√≥n, implementar validaci√≥n JWT apropiada next(); } catch (error) { logger.error('Error en middleware de autenticaci√≥n', error); res.status(500).json({ success: false, error: 'Error interno del servidor' }); } }  /** Middleware de validaci√≥n de datos / export function validateData(schema) { return (req, res, next) => { try { const { error, value } = schema.validate(req.body);  if (error) { return res.status(400).json({ success: false, error: 'Datos de entrada inv√°lidos', details: error.details.map(detail => ({ field: detail.path.join('.'), message: detail.message })) }); }  req.validatedData = value; next(); } catch (error) { logger.error('Error en validaci√≥n de datos', error); res.status(500).json({ success: false, error: 'Error interno del servidor' }); } }; }  /** Middleware de manejo de errores / export function errorHandler(err, req, res, next) { logger.error('Error no manejado', { error: err.message, stack: err.stack, url: req.url, method: req.method, body: req.body, params: req.params, query: req.query });  // Error de validaci√≥n if (err.name === 'ValidationError') { return res.status(400).json({ success: false, error: 'Error de validaci√≥n', details: err.message }); }  // Error de archivo no encontrado if (err.code === 'ENOENT') { return res.status(404).json({ success: false, error: 'Recurso no encontrado' }); }  // Error de permisos if (err.code === 'EACCES') { return res.status(403).json({ success: false, error: 'Permisos insuficientes' }); }  // Error gen√©rico res.status(500).json({ success: false, error: 'Error interno del servidor', message: process.env.NODE_ENV === 'development' ? err.message : undefined }); }  /** Middleware de CORS / export function corsMiddleware(req, res, next) { res.header('Access-Control-Allow-Origin', '*'); res.header('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE, OPTIONS'); res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept, Authorization');  if (req.method === 'OPTIONS') { res.sendStatus(200); } else { next(); } }  /** Middleware de rate limiting b√°sico - DESACTIVADO / export function rateLimitMiddleware(options = {}) { return (req, res, next) => { // Simplemente pasar al siguiente middleware sin verificaciones next(); }; }  /** Middleware de validaci√≥n de par√°metros de URL / export function validateParams(paramValidators) { return (req, res, next) => { try { for (const [param, validator] of Object.entries(paramValidators)) { const value = req.params[param];  if (!validator(value)) { return res.status(400).json({ success: false, error: `Par√°metro inv√°lido: ${param}`, value }); } }  next(); } catch (error) { logger.error('Error validando par√°metros', error); res.status(500).json({ success: false, error: 'Error interno del servidor' }); } }; }  /** Middleware de timeout para requests / export function timeoutMiddleware(timeoutMs = 30000) { return (req, res, next) => { const timeout = setTimeout(() => { if (!res.headersSent) { res.status(408).json({ success: false, error: 'Timeout de la solicitud' }); } }, timeoutMs);  res.on('finish', () => { clearTimeout(timeout); });  next(); }; }  /** Middleware de compresi√≥n de respuestas / export function compressionMiddleware(req, res, next) { const originalSend = res.send;  res.send = function(data) { if (typeof data === 'object') { // Comprimir objetos grandes eliminando campos innecesarios if (Array.isArray(data) && data.length > 100) { logger.debug(`Comprimiendo respuesta con ${data.length} elementos`); } }  return originalSend.call(this, data); };  next(); }  /** Middleware de cache simple / export function cacheMiddleware(ttlSeconds = 300) { const cache = new Map();  return (req, res, next) => { // Solo cachear GET requests if (req.method !== 'GET') { return next(); }  const key = req.originalUrl; const cached = cache.get(key);  if (cached && Date.now() - cached.timestamp < ttlSeconds * 1000) { logger.debug(`Cache hit para ${key}`); return res.json(cached.data); }  const originalSend = res.send; res.send = function(data) { // Cachear solo respuestas exitosas if (res.statusCode === 200) { cache.set(key, { data: typeof data === 'string' ? JSON.parse(data) : data, timestamp: Date.now() });  // Limpiar cache viejo if (cache.size > 1000) { const oldestKey = cache.keys().next().value; cache.delete(oldestKey); } }  return originalSend.call(this, data); };  next(); }; }  /** Middleware de sanitizaci√≥n de datos / export function sanitizeMiddleware(req, res, next) { try { // Sanitizar body if (req.body) { req.body = sanitizeObject(req.body); }  // Sanitizar query params if (req.query) { req.query = sanitizeObject(req.query); }  next(); } catch (error) { logger.error('Error sanitizando datos', error); res.status(400).json({ success: false, error: 'Datos de entrada inv√°lidos' }); } }  /** Funci√≥n auxiliar para sanitizar objetos 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">SECURITY_LIMITS</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/services/core/core/validation/DataValidator.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Advanced Data Validation System  Sistema avanzado de validaci√≥n de datos con esquemas flexibles, sanitizaci√≥n autom√°tica, verificaci√≥n de tipos y validaci√≥n personalizada. <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 1.0.0<br><strong>@since:</strong> 5.0.0 /  import { ValidationError } from '../../../../utils/error_manager.js'; import logger from '../logger.js';  /** Configuraci√≥n de seguridad para validaci√≥n 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">DEFAULT_INTEGRATION_CONFIG</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/index.js</div>
                <div class="item-description">Configuraci√≥n por defecto para el sistema de integraciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">INTEGRATION_CONSTANTS</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/services/core/external/index.js</div>
                <div class="item-description">Constantes del sistema de integraciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">LOG_LEVELS</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/services/core/logger.js</div>
                <div class="item-description">Sin descripci√≥n</div>
                <div style="margin-top: 10px; font-size: 0.9em;">
                        <strong>@fileoverview:</strong> Core Logger Service Sistema de logging centralizado para el chatbot empresarial <br><strong>@author:</strong> ChatBot Enterprise Team<br><strong>@version:</strong> 6.0.0<br><strong>@since:</strong> 1.0.0 /  import winston from 'winston'; import path from 'path'; import fs from 'fs/promises';  /** Configuraci√≥n del logger 
                    </div>
            </div>
            <div class="item">
                <div>
                    <span class="item-name">DEFAULT_NOTIFICATION_CONFIG</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/index.js</div>
                <div class="item-description">Configuraci√≥n por defecto del sistema de notificaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">NOTIFICATION_CONSTANTS</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/services/core/messaging/index.js</div>
                <div class="item-description">Utilidades del sistema de notificaciones / class NotificationUtils { /** Valida una configuraci√≥n de notificaci√≥n / static validateConfig(config) { const errors = []; // Validar configuraci√≥n de canales if (!config.channels || Object.keys(config.channels).length === 0) { errors.push('At least one notification channel must be configured'); } // Validar canales habilitados const enabledChannels = Object.entries(config.channels) .filter(([_, channelConfig]) => channelConfig.enabled); if (enabledChannels.length === 0) { errors.push('At least one notification channel must be enabled'); } // Validar configuraci√≥n de proveedores for (const [channelName, channelConfig] of enabledChannels) { if (!channelConfig.provider) { errors.push(`Channel '${channelName}' must specify a provider`); } if (!channelConfig.config) { errors.push(`Channel '${channelName}' must have configuration`); } } if (errors.length > 0) { throw new Error(`Configuration validation failed:\n${errors.join('\n')}`); } return true; } /** Combina configuraciones / static mergeConfigs(defaultConfig, userConfig) { return this._deepMerge(defaultConfig, userConfig); } /** Crea una configuraci√≥n optimizada para desarrollo / static createDevelopmentConfig(overrides = {}) { return this.mergeConfigs(DEFAULT_NOTIFICATION_CONFIG, { environment: 'development', debug: true, manager: { enableRetries: false, enableRateLimiting: false }, channels: { email: { enabled: true, config: { smtp: { host: 'localhost', port: 1025, // MailHog default port secure: false, auth: false } } } }, scheduler: { persistence: { type: 'memory' } }, queues: { type: 'memory', persistence: { enabled: false } }, ...overrides }); } /** Crea una configuraci√≥n optimizada para producci√≥n / static createProductionConfig(overrides = {}) { return this.mergeConfigs(DEFAULT_NOTIFICATION_CONFIG, { environment: 'production', debug: false, manager: { enableRetries: true, enableRateLimiting: true, enableDeduplication: true }, scheduler: { persistence: { type: 'file' } }, queues: { type: 'redis', persistence: { enabled: true } }, tracking: { enabled: true, delivery: { enabled: true }, opens: { enabled: true }, clicks: { enabled: true } }, analytics: { enabled: true, retention: { events: 90, metrics: 365, reports: 1095 // 3 a√±os } }, ...overrides }); } /** Obtiene informaci√≥n del sistema / static getSystemInfo() { return { version: '1.0.0', node: process.version, platform: process.platform, arch: process.arch, memory: process.memoryUsage(), uptime: process.uptime(), environment: process.env.NODE_ENV || 'development' }; } /** Formatea estad√≠sticas para visualizaci√≥n / static formatStats(stats) { return { summary: { total: stats.sent + stats.failed, sent: stats.sent, failed: stats.failed, successRate: stats.sent + stats.failed > 0 ? ((stats.sent / (stats.sent + stats.failed)) * 100).toFixed(2) + '%' : '0%' }, performance: { lastSent: stats.lastSent ? new Date(stats.lastSent).toISOString() : null, errors: stats.errors, averageResponseTime: stats.averageResponseTime || 0 }, details: stats }; } // M√©todo privado para merge profundo static _deepMerge(target, source) { const result = { ...target }; for (const key in source) { if (source[key] && typeof source[key] === 'object' && !Array.isArray(source[key])) { result[key] = this._deepMerge(target[key] || {}, source[key]); } else { result[key] = source[key]; } } return result; } } /** Constantes del sistema de notificaciones</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">DEFAULT_WORKFLOW_CONFIG</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/workflows/index.js</div>
                <div class="item-description">Configuraci√≥n por defecto para el sistema de workflows</div>
                
            </div>
            <div class="item">
                <div>
                    <span class="item-name">WORKFLOW_CONSTANTS</span>
                    <span class="item-type">constant</span>
                </div>
                <div class="item-file">üìÅ src/workflows/index.js</div>
                <div class="item-description">Constantes del sistema de workflows</div>
                
            </div>
        </div>
    </div>
</body>
</html>